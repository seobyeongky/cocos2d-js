diff --git a/build/cocos2d_jsb_samples.xcodeproj/project.pbxproj b/build/cocos2d_jsb_samples.xcodeproj/project.pbxproj
index 6f1b680..2add0e3 100644
--- a/build/cocos2d_jsb_samples.xcodeproj/project.pbxproj
+++ b/build/cocos2d_jsb_samples.xcodeproj/project.pbxproj
@@ -89,6 +89,24 @@
 		1A2B743318D297E600ED9E74 /* main.cpp in Sources */ = {isa = PBXBuildFile; fileRef = 1A2B742E18D297E600ED9E74 /* main.cpp */; };
 		1A2B743418D298A200ED9E74 /* main.js in Resources */ = {isa = PBXBuildFile; fileRef = 1A2B73EC18D296C600ED9E74 /* main.js */; };
 		1A2B743718D299EB00ED9E74 /* debugger in Resources */ = {isa = PBXBuildFile; fileRef = 1A487B3F18BF3E7F007EEB98 /* debugger */; };
+		1A2B743C18D299F000ED9E74 /* jsb.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4D18BF3E7F007EEB98 /* jsb.js */; };
+		1A2B743D18D299F000ED9E74 /* jsb_boot.js in Sources */ = {isa = PBXBuildFile; fileRef = A63D2EC618C856BE00B29B8F /* jsb_boot.js */; };
+		1A2B743E18D299F000ED9E74 /* jsb_chipmunk.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4118BF3E7F007EEB98 /* jsb_chipmunk.js */; };
+		1A2B743F18D299F000ED9E74 /* jsb_chipmunk_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4018BF3E7F007EEB98 /* jsb_chipmunk_constants.js */; };
+		1A2B744018D299F000ED9E74 /* jsb_cocos2d.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4618BF3E7F007EEB98 /* jsb_cocos2d.js */; };
+		1A2B744118D299F000ED9E74 /* jsb_cocos2d_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4218BF3E7F007EEB98 /* jsb_cocos2d_constants.js */; };
+		1A2B744218D299F000ED9E74 /* jsb_cocos2d_extension.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4318BF3E7F007EEB98 /* jsb_cocos2d_extension.js */; };
+		1A2B744318D299F000ED9E74 /* jsb_cocos2d_studio.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4518BF3E7F007EEB98 /* jsb_cocos2d_studio.js */; };
+		1A2B744418D299F000ED9E74 /* jsb_cocos2d_ui.js in Sources */ = {isa = PBXBuildFile; fileRef = 1AB5E63B18D05CD70088DAA4 /* jsb_cocos2d_ui.js */; };
+		1A2B744518D299F000ED9E74 /* jsb_cocosbuilder.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4718BF3E7F007EEB98 /* jsb_cocosbuilder.js */; };
+		1A2B744618D299F000ED9E74 /* jsb_create_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = BAA7DEDB18C755FB00D9A10E /* jsb_create_apis.js */; };
+		1A2B744718D299F000ED9E74 /* jsb_debugger.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4818BF3E7F007EEB98 /* jsb_debugger.js */; };
+		1A2B744818D299F000ED9E74 /* jsb_deprecated.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4918BF3E7F007EEB98 /* jsb_deprecated.js */; };
+		1A2B744918D299F000ED9E74 /* jsb_loaders.js in Sources */ = {isa = PBXBuildFile; fileRef = A63D2ECD18C8B36600B29B8F /* jsb_loaders.js */; };
+		1A2B744A18D299F000ED9E74 /* jsb_opengl.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4B18BF3E7F007EEB98 /* jsb_opengl.js */; };
+		1A2B744B18D299F000ED9E74 /* jsb_opengl_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = 1A487B4A18BF3E7F007EEB98 /* jsb_opengl_constants.js */; };
+		1A2B744C18D299F000ED9E74 /* jsb_property_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = BA175BAE18C5A2CA0040EA39 /* jsb_property_apis.js */; };
+		1A2B744D18D299F000ED9E74 /* jsb_property_impls.js in Sources */ = {isa = PBXBuildFile; fileRef = BA175BAF18C5A2CA0040EA39 /* jsb_property_impls.js */; };
 		1A2B744E18D29A1800ED9E74 /* jsb.js in Resources */ = {isa = PBXBuildFile; fileRef = 1A487B4D18BF3E7F007EEB98 /* jsb.js */; };
 		1A2B744F18D29A1800ED9E74 /* jsb_boot.js in Resources */ = {isa = PBXBuildFile; fileRef = A63D2EC618C856BE00B29B8F /* jsb_boot.js */; };
 		1A2B745018D29A1800ED9E74 /* jsb_chipmunk.js in Resources */ = {isa = PBXBuildFile; fileRef = 1A487B4118BF3E7F007EEB98 /* jsb_chipmunk.js */; };
@@ -214,12 +232,6 @@
 		BAA7DEE518C84F5000D9A10E /* main.js in Resources */ = {isa = PBXBuildFile; fileRef = BAA7DEE218C84F5000D9A10E /* main.js */; };
 		BAA7DEE618C84F5000D9A10E /* project.json in Resources */ = {isa = PBXBuildFile; fileRef = BAA7DEE318C84F5000D9A10E /* project.json */; };
 		BAA7DEE718C84F5000D9A10E /* project.json in Resources */ = {isa = PBXBuildFile; fileRef = BAA7DEE318C84F5000D9A10E /* project.json */; };
-		BAC50CBC1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = BAC50CBB1924AEFF00C57B6B /* jsb_ext_create_apis.js */; };
-		BAC50CBD1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = BAC50CBB1924AEFF00C57B6B /* jsb_ext_create_apis.js */; };
-		BAC50CBE1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = BAC50CBB1924AEFF00C57B6B /* jsb_ext_create_apis.js */; };
-		BAC50CBF1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = BAC50CBB1924AEFF00C57B6B /* jsb_ext_create_apis.js */; };
-		BAD138DF191F1BB0007733DD /* project.manifest in Resources */ = {isa = PBXBuildFile; fileRef = BAD138DE191F1BB0007733DD /* project.manifest */; };
-		BAD138E0191F1BB0007733DD /* project.manifest in Resources */ = {isa = PBXBuildFile; fileRef = BAD138DE191F1BB0007733DD /* project.manifest */; };
 		D60AE43817F9143D00757E4B /* CoreMotion.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D60AE43317F7FFE100757E4B /* CoreMotion.framework */; };
 		ED743D1717D099F10004076B /* IOKit.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = EDCC747E17C455FD007B692C /* IOKit.framework */; };
 /* End PBXBuildFile section */
@@ -605,8 +617,6 @@
 		BAA7DEDB18C755FB00D9A10E /* jsb_create_apis.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_create_apis.js; path = "../frameworks/js-bindings/bindings/script/jsb_create_apis.js"; sourceTree = "<group>"; };
 		BAA7DEE218C84F5000D9A10E /* main.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = main.js; path = "../samples/js-tests/main.js"; sourceTree = "<group>"; };
 		BAA7DEE318C84F5000D9A10E /* project.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; name = project.json; path = "../samples/js-tests/project.json"; sourceTree = "<group>"; };
-		BAC50CBB1924AEFF00C57B6B /* jsb_ext_create_apis.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_ext_create_apis.js; path = "../frameworks/js-bindings/bindings/script/jsb_ext_create_apis.js"; sourceTree = "<group>"; };
-		BAD138DE191F1BB0007733DD /* project.manifest */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text; name = project.manifest; path = "../samples/js-tests/project.manifest"; sourceTree = "<group>"; };
 		D60AE43317F7FFE100757E4B /* CoreMotion.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = CoreMotion.framework; path = Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS7.0.sdk/System/Library/Frameworks/CoreMotion.framework; sourceTree = DEVELOPER_DIR; };
 		EDCC747E17C455FD007B692C /* IOKit.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = IOKit.framework; path = System/Library/Frameworks/IOKit.framework; sourceTree = SDKROOT; };
 /* End PBXFileReference section */
@@ -815,7 +825,6 @@
 				1AB5E63B18D05CD70088DAA4 /* jsb_cocos2d_ui.js */,
 				1A487B4718BF3E7F007EEB98 /* jsb_cocosbuilder.js */,
 				BAA7DEDB18C755FB00D9A10E /* jsb_create_apis.js */,
-				BAC50CBB1924AEFF00C57B6B /* jsb_ext_create_apis.js */,
 				1A487B4818BF3E7F007EEB98 /* jsb_debugger.js */,
 				1A487B4918BF3E7F007EEB98 /* jsb_deprecated.js */,
 				A63D2ECD18C8B36600B29B8F /* jsb_loaders.js */,
@@ -857,7 +866,6 @@
 		1A604F2E18BF1D3300CC9A93 /* js-tests */ = {
 			isa = PBXGroup;
 			children = (
-				BAD138DE191F1BB0007733DD /* project.manifest */,
 				BAA7DEE218C84F5000D9A10E /* main.js */,
 				1A2B72DA18D294AE00ED9E74 /* project */,
 				BAA7DEE318C84F5000D9A10E /* project.json */,
@@ -1341,7 +1349,6 @@
 				1A2B73DC18D2967800ED9E74 /* jsb_cocos2d_ui.js in Resources */,
 				1A2B73DD18D2967800ED9E74 /* jsb_cocosbuilder.js in Resources */,
 				1A2B73DE18D2967800ED9E74 /* jsb_create_apis.js in Resources */,
-				BAC50CBE1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */,
 				1A2B73DF18D2967800ED9E74 /* jsb_debugger.js in Resources */,
 				1A2B73E018D2967800ED9E74 /* jsb_deprecated.js in Resources */,
 				1A2B73E118D2967800ED9E74 /* jsb_loaders.js in Resources */,
@@ -1367,7 +1374,6 @@
 				1A2B745618D29A1800ED9E74 /* jsb_cocos2d_ui.js in Resources */,
 				1A2B745718D29A1800ED9E74 /* jsb_cocosbuilder.js in Resources */,
 				1A2B745818D29A1800ED9E74 /* jsb_create_apis.js in Resources */,
-				BAC50CBF1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */,
 				1A2B745918D29A1800ED9E74 /* jsb_debugger.js in Resources */,
 				1A2B745A18D29A1800ED9E74 /* jsb_deprecated.js in Resources */,
 				1A2B745B18D29A1800ED9E74 /* jsb_loaders.js in Resources */,
@@ -1403,7 +1409,6 @@
 				BA623E1B191A198900761F37 /* jsb_pluginx.js in Resources */,
 				1AB5E63F18D05DE60088DAA4 /* jsb_cocos2d_ui.js in Resources */,
 				BAA7DEDF18C7561100D9A10E /* jsb_create_apis.js in Resources */,
-				BAC50CBD1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */,
 				BAA7DED518C74AE500D9A10E /* jsb_property_apis.js in Resources */,
 				BAA7DED618C74AE500D9A10E /* jsb_property_impls.js in Resources */,
 				1A487B7A18BF3EE9007EEB98 /* jsb.js in Resources */,
@@ -1435,7 +1440,6 @@
 				A63D2EC818C856BE00B29B8F /* jsb_boot.js in Resources */,
 				A63D2ECF18C8B36600B29B8F /* jsb_loaders.js in Resources */,
 				BAA7DEE518C84F5000D9A10E /* main.js in Resources */,
-				BAD138E0191F1BB0007733DD /* project.manifest in Resources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -1445,13 +1449,11 @@
 			files = (
 				1AB5E63E18D05DD60088DAA4 /* jsb_cocos2d_ui.js in Resources */,
 				BAA7DEDE18C7560500D9A10E /* jsb_create_apis.js in Resources */,
-				BAC50CBC1924AEFF00C57B6B /* jsb_ext_create_apis.js in Resources */,
 				BA175BB418C5A2DA0040EA39 /* jsb_property_apis.js in Resources */,
 				BA175BB518C5A2DA0040EA39 /* jsb_property_impls.js in Resources */,
 				BAA7DEE618C84F5000D9A10E /* project.json in Resources */,
 				1A487B6C18BF3EDF007EEB98 /* jsb.js in Resources */,
 				1A487B6D18BF3EDF007EEB98 /* jsb_chipmunk.js in Resources */,
-				BAD138DF191F1BB0007733DD /* project.manifest in Resources */,
 				1A487B6E18BF3EDF007EEB98 /* jsb_chipmunk_constants.js in Resources */,
 				1A487B6F18BF3EDF007EEB98 /* jsb_cocos2d.js in Resources */,
 				1A487B7018BF3EDF007EEB98 /* jsb_cocos2d_constants.js in Resources */,
@@ -1490,10 +1492,28 @@
 			isa = PBXSourcesBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
+				1A2B744118D299F000ED9E74 /* jsb_cocos2d_constants.js in Sources */,
+				1A2B744018D299F000ED9E74 /* jsb_cocos2d.js in Sources */,
+				1A2B744318D299F000ED9E74 /* jsb_cocos2d_studio.js in Sources */,
+				1A2B744218D299F000ED9E74 /* jsb_cocos2d_extension.js in Sources */,
+				1A2B744518D299F000ED9E74 /* jsb_cocosbuilder.js in Sources */,
+				1A2B744818D299F000ED9E74 /* jsb_deprecated.js in Sources */,
+				1A2B743C18D299F000ED9E74 /* jsb.js in Sources */,
 				1A2B741618D297E000ED9E74 /* AppController.mm in Sources */,
+				1A2B743E18D299F000ED9E74 /* jsb_chipmunk.js in Sources */,
+				1A2B744D18D299F000ED9E74 /* jsb_property_impls.js in Sources */,
+				1A2B744618D299F000ED9E74 /* jsb_create_apis.js in Sources */,
+				1A2B744C18D299F000ED9E74 /* jsb_property_apis.js in Sources */,
 				1A2B742618D297E000ED9E74 /* RootViewController.mm in Sources */,
+				1A2B744918D299F000ED9E74 /* jsb_loaders.js in Sources */,
 				1A2B740018D297D600ED9E74 /* AppDelegate.cpp in Sources */,
+				1A2B743F18D299F000ED9E74 /* jsb_chipmunk_constants.js in Sources */,
+				1A2B743D18D299F000ED9E74 /* jsb_boot.js in Sources */,
+				1A2B744718D299F000ED9E74 /* jsb_debugger.js in Sources */,
+				1A2B744418D299F000ED9E74 /* jsb_cocos2d_ui.js in Sources */,
+				1A2B744B18D299F000ED9E74 /* jsb_opengl_constants.js in Sources */,
 				1A2B742518D297E000ED9E74 /* main.m in Sources */,
+				1A2B744A18D299F000ED9E74 /* jsb_opengl.js in Sources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -1777,7 +1797,7 @@
 				PROVISIONING_PROFILE = "";
 				SDKROOT = iphoneos;
 				TARGETED_DEVICE_FAMILY = "1,2";
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/platform/ios $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/ios $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/protocols/include $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/plugins/** $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/auto $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/manual";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/2d/platform/ios $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/ios $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/protocols/include $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/plugins/** $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/auto $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/manual";
 			};
 			name = Debug;
 		};
@@ -1803,7 +1823,7 @@
 				PROVISIONING_PROFILE = "";
 				SDKROOT = iphoneos;
 				TARGETED_DEVICE_FAMILY = "1,2";
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/platform/ios $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/ios $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/protocols/include $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/plugins/** $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/auto $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/manual";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/2d/platform/ios $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/ios $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/protocols/include $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/plugins/** $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/auto $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/manual";
 				VALIDATE_PRODUCT = YES;
 			};
 			name = Release;
@@ -1824,7 +1844,7 @@
 				GCC_SYMBOLS_PRIVATE_EXTERN = NO;
 				HEADER_SEARCH_PATHS = "";
 				INFOPLIST_FILE = "$(SRCROOT)/../samples/js-tests/project/proj.mac/Test_Info.plist";
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/platform/mac $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/external/glfw3/include/mac $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/mac";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/2d/platform/mac $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/external/glfw3/include/mac $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/mac";
 			};
 			name = Debug;
 		};
@@ -1843,7 +1863,7 @@
 				GCC_SYMBOLS_PRIVATE_EXTERN = NO;
 				HEADER_SEARCH_PATHS = "";
 				INFOPLIST_FILE = "$(SRCROOT)/../samples/js-tests/project/proj.mac/Test_Info.plist";
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/platform/mac $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/external/glfw3/include/mac $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/mac";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/cocos/2d/platform/mac $(SRCROOT)/../frameworks/js-bindings/cocos2d-x/external/glfw3/include/mac $(SRCROOT)/../frameworks/js-bindings/external/spidermonkey/include/mac";
 				VALIDATE_PRODUCT = YES;
 			};
 			name = Release;
diff --git a/frameworks/js-bindings/bindings/Android.mk b/frameworks/js-bindings/bindings/Android.mk
index 104a6cc..f8d6047 100644
--- a/frameworks/js-bindings/bindings/Android.mk
+++ b/frameworks/js-bindings/bindings/Android.mk
@@ -43,6 +43,6 @@ LOCAL_WHOLE_STATIC_LIBRARIES += cocosdenshion_static
 
 include $(BUILD_STATIC_LIBRARY)
 
-$(call import-module,.)
 $(call import-module,external/spidermonkey/prebuilt/android)
+$(call import-module,.)
 $(call import-module,audio/android)
diff --git a/frameworks/js-bindings/bindings/manual/ScriptingCore.cpp b/frameworks/js-bindings/bindings/manual/ScriptingCore.cpp
index 84ebdca..0e08263 100644
--- a/frameworks/js-bindings/bindings/manual/ScriptingCore.cpp
+++ b/frameworks/js-bindings/bindings/manual/ScriptingCore.cpp
@@ -528,7 +528,7 @@ void ScriptingCore::createGlobalContext() {
         .setIon(true)
         .setBaseline(true)
         .setAsmJS(true);
-
+    
     JS::CompileOptions compileOptions(_cx);
     compileOptions.setCompileAndGo(true);
     
diff --git a/frameworks/js-bindings/bindings/manual/cocos2d_specifics.cpp b/frameworks/js-bindings/bindings/manual/cocos2d_specifics.cpp
index fee717d..604f3ea 100644
--- a/frameworks/js-bindings/bindings/manual/cocos2d_specifics.cpp
+++ b/frameworks/js-bindings/bindings/manual/cocos2d_specifics.cpp
@@ -2390,224 +2390,6 @@ bool js_cocos2dx_CCTMXLayer_getTiles(JSContext *cx, uint32_t argc, jsval *vp)
 }
 
 
-// Actions
-bool js_cocos2dx_ActionInterval_repeat(JSContext *cx, uint32_t argc, jsval *vp)
-{
-	JSObject *obj = JS_THIS_OBJECT(cx, vp);
-	js_proxy_t *proxy = jsb_get_js_proxy(obj);
-	cocos2d::ActionInterval* cobj = (cocos2d::ActionInterval *)(proxy ? proxy->ptr : NULL);
-	JSB_PRECONDITION2( cobj, cx, false, "js_cocos2dx_ActionInterval_repeat : Invalid Native Object");
-    
-    JS::CallArgs argv = JS::CallArgsFromVp(argc, vp);
-	if (argc == 1)
-    {
-        double times;
-        if( ! JS::ToNumber(cx, argv[0], &times) ) {
-            return false;
-        }
-        int timesInt = (int)times;
-        if (timesInt <= 0) {
-            JS_ReportError(cx, "js_cocos2dx_ActionInterval_repeat : Repeat times must be greater than 0");
-        }
-        
-        cocos2d::Repeat* action = cocos2d::Repeat::create(cobj, timesInt);
-        // Unbind current proxy binding
-        JS_RemoveObjectRoot(cx, &proxy->obj);
-        jsb_remove_proxy(jsb_get_native_proxy(cobj), proxy);
-        // Rebind js obj with new action
-        js_proxy_t* newProxy = jsb_new_proxy(action, obj);
-        JS_AddNamedObjectRoot(cx, &newProxy->obj, "cocos2d::Repeat");
-        
-		JS_SET_RVAL(cx, vp, OBJECT_TO_JSVAL(obj));
-		return true;
-	}
-    
-	JS_ReportError(cx, "js_cocos2dx_ActionInterval_repeat : wrong number of arguments: %d, was expecting %d", argc, 1);
-	return false;
-}
-
-bool js_cocos2dx_ActionInterval_repeatForever(JSContext *cx, uint32_t argc, jsval *vp)
-{
-	JSObject *obj = JS_THIS_OBJECT(cx, vp);
-	js_proxy_t *proxy = jsb_get_js_proxy(obj);
-	cocos2d::ActionInterval* cobj = (cocos2d::ActionInterval *)(proxy ? proxy->ptr : NULL);
-	JSB_PRECONDITION2( cobj, cx, false, "js_cocos2dx_ActionInterval_repeatForever : Invalid Native Object");
-    
-	if (argc == 0) {
-        cocos2d::RepeatForever* action = cocos2d::RepeatForever::create(cobj);
-        // Unbind current proxy binding
-        JS_RemoveObjectRoot(cx, &proxy->obj);
-        jsb_remove_proxy(jsb_get_native_proxy(cobj), proxy);
-        // Rebind js obj with new action
-        js_proxy_t* newProxy = jsb_new_proxy(action, obj);
-        JS_AddNamedObjectRoot(cx, &newProxy->obj, "cocos2d::RepeatForever");
-        
-		JS_SET_RVAL(cx, vp, OBJECT_TO_JSVAL(obj));
-		return true;
-	}
-    
-	JS_ReportError(cx, "js_cocos2dx_ActionInterval_repeatForever : wrong number of arguments: %d, was expecting %d", argc, 0);
-	return false;
-}
-
-bool js_cocos2dx_ActionInterval_speed(JSContext *cx, uint32_t argc, jsval *vp)
-{
-	JSObject *obj = JS_THIS_OBJECT(cx, vp);
-	js_proxy_t *proxy = jsb_get_js_proxy(obj);
-	cocos2d::ActionInterval* cobj = (cocos2d::ActionInterval *)(proxy ? proxy->ptr : NULL);
-	JSB_PRECONDITION2( cobj, cx, false, "js_cocos2dx_ActionInterval_speed : Invalid Native Object");
-    
-    JS::CallArgs argv = JS::CallArgsFromVp(argc, vp);
-	if (argc == 1)
-    {
-        double speed;
-        if( ! JS::ToNumber(cx, argv[0], &speed) ) {
-            return false;
-        }
-        if (speed <= 0) {
-            JS_ReportError(cx, "js_cocos2dx_ActionInterval_repeat : Speed must be greater than 0");
-        }
-        
-        cocos2d::Speed* action = cocos2d::Speed::create(cobj, speed);
-        // Unbind current proxy binding
-        JS_RemoveObjectRoot(cx, &proxy->obj);
-        jsb_remove_proxy(jsb_get_native_proxy(cobj), proxy);
-        // Rebind js obj with new action
-        js_proxy_t* newProxy = jsb_new_proxy(action, obj);
-        JS_AddNamedObjectRoot(cx, &newProxy->obj, "cocos2d::Speed");
-        
-		JS_SET_RVAL(cx, vp, OBJECT_TO_JSVAL(obj));
-		return true;
-	}
-    
-	JS_ReportError(cx, "js_cocos2dx_ActionInterval_speed : wrong number of arguments: %d, was expecting %d", argc, 1);
-	return false;
-}
-
-enum ACTION_TAG {
-    EASE_IN = 0,
-    EASE_OUT,
-    EASE_INOUT,
-    EASE_EXPONENTIAL_IN,
-    EASE_EXPONENTIAL_OUT,
-    EASE_EXPONENTIAL_INOUT,
-    EASE_SINE_IN,
-    EASE_SINE_OUT,
-    EASE_SINE_INOUT,
-    EASE_ELASTIC_IN,
-    EASE_ELASTIC_OUT,
-    EASE_ELASTIC_INOUT,
-    EASE_BOUNCE_IN,
-    EASE_BOUNCE_OUT,
-    EASE_BOUNCE_INOUT,
-    EASE_BACK_IN,
-    EASE_BACK_OUT,
-    EASE_BACK_INOUT
-};
-
-bool js_cocos2dx_ActionInterval_easing(JSContext *cx, uint32_t argc, jsval *vp)
-{
-	JSObject *obj = JS_THIS_OBJECT(cx, vp);
-	js_proxy_t *proxy = jsb_get_js_proxy(obj);
-	cocos2d::ActionInterval* cobj = (cocos2d::ActionInterval *)(proxy ? proxy->ptr : NULL);
-	JSB_PRECONDITION2( cobj, cx, false, "js_cocos2dx_ActionInterval_easing : Invalid Native Object");
-    
-    cocos2d::ActionInterval* currentAction = cobj;
-    JS::CallArgs argv = JS::CallArgsFromVp(argc, vp);
-    JS::RootedObject tmp(cx);
-    JS::RootedValue jsTag(cx);
-    JS::RootedValue jsParam(cx);
-    double tag;
-    double parameter;
-    for (int i = 0; i < argc; i++)
-    {
-        jsval vpi = argv[i];
-        bool ok = vpi.isObject() &&
-            JS_ValueToObject(cx, JS::RootedValue(cx, vpi), &tmp) &&
-            JS_GetProperty(cx, tmp, "tag", &jsTag) &&
-            JS::ToNumber(cx, jsTag, &tag);
-        JS_GetProperty(cx, tmp, "parameter", &jsParam) && JS::ToNumber(cx, jsParam, &parameter);
-        bool hasParam = (parameter == parameter);
-        if (!ok) continue;
-
-        cocos2d::ActionEase* action;
-        ok = true;
-        if (tag == EASE_IN)
-        {
-            if (!hasParam) ok = false;
-            action = cocos2d::EaseIn::create(currentAction, parameter);
-        }
-        else if (tag == EASE_OUT)
-        {
-            if (!hasParam) ok = false;
-            action = cocos2d::EaseOut::create(currentAction, parameter);
-        }
-        else if (tag == EASE_INOUT)
-        {
-            if (!hasParam) ok = false;
-            action = cocos2d::EaseInOut::create(currentAction, parameter);
-        }
-        else if (tag == EASE_EXPONENTIAL_IN)
-            action = cocos2d::EaseExponentialIn::create(currentAction);
-        else if (tag == EASE_EXPONENTIAL_OUT)
-            action = cocos2d::EaseExponentialOut::create(currentAction);
-        else if (tag == EASE_EXPONENTIAL_INOUT)
-            action = cocos2d::EaseExponentialInOut::create(currentAction);
-        else if (tag == EASE_SINE_IN)
-            action = cocos2d::EaseSineIn::create(currentAction);
-        else if (tag == EASE_SINE_OUT)
-            action = cocos2d::EaseSineOut::create(currentAction);
-        else if (tag == EASE_SINE_INOUT)
-            action = cocos2d::EaseSineInOut::create(currentAction);
-        else if (tag == EASE_ELASTIC_IN)
-        {
-            if (!hasParam) ok = false;
-            action = cocos2d::EaseElasticIn::create(currentAction, parameter);
-        }
-        else if (tag == EASE_ELASTIC_OUT)
-        {
-            if (!hasParam) ok = false;
-            action = cocos2d::EaseElasticOut::create(currentAction, parameter);
-        }
-        else if (tag == EASE_ELASTIC_INOUT)
-        {
-            if (!hasParam) ok = false;
-            action = cocos2d::EaseElasticInOut::create(currentAction, parameter);
-        }
-        else if (tag == EASE_BOUNCE_IN)
-            action = cocos2d::EaseBounceIn::create(currentAction);
-        else if (tag == EASE_BOUNCE_OUT)
-            action = cocos2d::EaseBounceOut::create(currentAction);
-        else if (tag == EASE_BOUNCE_INOUT)
-            action = cocos2d::EaseBounceInOut::create(currentAction);
-        else if (tag == EASE_BACK_IN)
-            action = cocos2d::EaseBackIn::create(currentAction);
-        else if (tag == EASE_BACK_OUT)
-            action = cocos2d::EaseBackOut::create(currentAction);
-        else if (tag == EASE_BACK_INOUT)
-            action = cocos2d::EaseBackInOut::create(currentAction);
-        else
-            continue;
-        
-        if (!ok || !action) {
-            JS_ReportError(cx, "js_cocos2dx_ActionInterval_easing : Invalid action: At least one action was expecting parameter");
-            return false;
-        }
-        
-        currentAction = action;
-    }
-    
-    // Unbind current proxy binding
-    JS_RemoveObjectRoot(cx, &proxy->obj);
-    jsb_remove_proxy(jsb_get_native_proxy(cobj), proxy);
-    // Rebind js obj with new action
-    js_proxy_t* newProxy = jsb_new_proxy(currentAction, obj);
-    JS_AddNamedObjectRoot(cx, &newProxy->obj, "cocos2d::EaseAction");
-    JS_SET_RVAL(cx, vp, OBJECT_TO_JSVAL(obj));
-    return true;
-}
-
-
 template<class T>
 bool js_BezierActions_create(JSContext *cx, uint32_t argc, jsval *vp) {
 	JS::CallArgs argv = JS::CallArgsFromVp(argc, vp);
@@ -3168,7 +2950,7 @@ bool js_cocos2dx_ccpNormalize(JSContext *cx, uint32_t argc, jsval *vp)
 	jsval *argv = JS_ARGV(cx, vp);
     bool ok = true;
 	if (argc == 1) {
-		cocos2d::Vec2 ret;
+		cocos2d::Vector2 ret;
 		ok &= jsval_to_vector2(cx, argv[0], &ret);
         JSB_PRECONDITION2(ok, cx, false, "Error processing arguments");
         
@@ -4244,11 +4026,11 @@ bool js_PlistParser_parse(JSContext *cx, unsigned argc, JS::Value *vp) {
             JS_SET_RVAL(cx, vp, outVal);
         else {
             JS_SET_RVAL(cx, vp, JSVAL_NULL);
-            JS_ReportError(cx, "js_PlistParser_parse : parse error");
+            JS_ReportError(cx, "js_SAXParser_parse : parse error");
         }
         return true;
     }
-    JS_ReportError(cx, "js_PlistParser_parse : wrong number of arguments: %d, was expecting %d", argc, 1);
+    JS_ReportError(cx, "js_SAXParser_parse : wrong number of arguments: %d, was expecting %d", argc, 1);
     return false;
 }
 
@@ -4596,11 +4378,6 @@ void register_cocos2dx_js_extensions(JSContext* cx, JSObject* global)
     JS_DefineFunction(cx, jsb_cocos2d_TMXLayer_prototype, "getTileFlagsAt", js_cocos2dx_CCTMXLayer_tileFlagsAt, 2, JSPROP_ENUMERATE | JSPROP_PERMANENT);
     JS_DefineFunction(cx, jsb_cocos2d_TMXLayer_prototype, "getTiles", js_cocos2dx_CCTMXLayer_getTiles, 0, JSPROP_ENUMERATE | JSPROP_PERMANENT);
     
-    JS_DefineFunction(cx, jsb_cocos2d_ActionInterval_prototype, "repeat", js_cocos2dx_ActionInterval_repeat, 0, JSPROP_ENUMERATE | JSPROP_PERMANENT);
-    JS_DefineFunction(cx, jsb_cocos2d_ActionInterval_prototype, "repeatForever", js_cocos2dx_ActionInterval_repeatForever, 0, JSPROP_ENUMERATE | JSPROP_PERMANENT);
-    JS_DefineFunction(cx, jsb_cocos2d_ActionInterval_prototype, "speed", js_cocos2dx_ActionInterval_speed, 0, JSPROP_ENUMERATE | JSPROP_PERMANENT);
-    JS_DefineFunction(cx, jsb_cocos2d_ActionInterval_prototype, "easing", js_cocos2dx_ActionInterval_easing, 0, JSPROP_ENUMERATE | JSPROP_PERMANENT);
-    
 	tmpObj = JSVAL_TO_OBJECT(anonEvaluate(cx, global, "(function () { return cc.Menu; })()"));
 	JS_DefineFunction(cx, tmpObj, "create", js_cocos2dx_CCMenu_create, 0, JSPROP_READONLY | JSPROP_PERMANENT);
 	tmpObj = JSVAL_TO_OBJECT(anonEvaluate(cx, global, "(function () { return cc.MenuItem; })()"));
@@ -4621,8 +4398,8 @@ void register_cocos2dx_js_extensions(JSContext* cx, JSObject* global)
 	JS_DefineFunction(cx, tmpObj, "create", js_cocos2dx_CCSequence_create, 0, JSPROP_READONLY | JSPROP_PERMANENT);
 	tmpObj = JSVAL_TO_OBJECT(anonEvaluate(cx, global, "(function () { return cc.Spawn; })()"));
 	JS_DefineFunction(cx, tmpObj, "create", js_cocos2dx_CCSpawn_create, 0, JSPROP_READONLY | JSPROP_PERMANENT);
-	//tmpObj = JSVAL_TO_OBJECT(anonEvaluate(cx, global, "(function () { return cc.Animation; })()"));
-	//JS_DefineFunction(cx, tmpObj, "create", js_cocos2dx_CCAnimation_create, 0, JSPROP_READONLY | JSPROP_PERMANENT);
+	tmpObj = JSVAL_TO_OBJECT(anonEvaluate(cx, global, "(function () { return cc.Animation; })()"));
+	JS_DefineFunction(cx, tmpObj, "create", js_cocos2dx_CCAnimation_create, 0, JSPROP_READONLY | JSPROP_PERMANENT);
     tmpObj = JSVAL_TO_OBJECT(anonEvaluate(cx, global, "(function () { return cc.LayerMultiplex; })()"));
     JS_DefineFunction(cx, tmpObj, "create", js_cocos2dx_CCLayerMultiplex_create, 0, JSPROP_READONLY | JSPROP_PERMANENT);
     
diff --git a/frameworks/js-bindings/bindings/manual/cocostudio/jsb_cocos2dx_studio_manual.cpp b/frameworks/js-bindings/bindings/manual/cocostudio/jsb_cocos2dx_studio_manual.cpp
index 1dc40ad..4f7f24c 100644
--- a/frameworks/js-bindings/bindings/manual/cocostudio/jsb_cocos2dx_studio_manual.cpp
+++ b/frameworks/js-bindings/bindings/manual/cocostudio/jsb_cocos2dx_studio_manual.cpp
@@ -51,8 +51,9 @@ JSArmatureWrapper::~JSArmatureWrapper()
 {
     if (m_bNeedUnroot)
     {
+        JSObject *thisObj = JSVAL_TO_OBJECT(_jsThisObj);
         JSContext *cx = ScriptingCore::getInstance()->getGlobalContext();
-        JS_RemoveValueRoot(cx, &_jsThisObj);
+        JS_RemoveObjectRoot(cx, &thisObj);
     }
 }
 
@@ -65,8 +66,8 @@ void JSArmatureWrapper::setJSCallbackThis(jsval _jsThisObj)
     if (!p)
     {
         JSContext *cx = ScriptingCore::getInstance()->getGlobalContext();
+        JS_AddObjectRoot(cx, &thisObj);
         m_bNeedUnroot = true;
-        m_bNeedUnroot &= JS_AddValueRoot(cx, &_jsThisObj);
     }
 }
 
diff --git a/frameworks/js-bindings/bindings/manual/js_manual_conversions.cpp b/frameworks/js-bindings/bindings/manual/js_manual_conversions.cpp
index 5937bb5..6223255 100644
--- a/frameworks/js-bindings/bindings/manual/js_manual_conversions.cpp
+++ b/frameworks/js-bindings/bindings/manual/js_manual_conversions.cpp
@@ -1287,7 +1287,7 @@ bool jsval_to_std_vector_int( JSContext *cx, jsval vp, std::vector<int>* ret)
     return true;
 }
 
-bool jsval_to_matrix(JSContext *cx, jsval vp, cocos2d::Mat4* ret)
+bool jsval_to_matrix(JSContext *cx, jsval vp, cocos2d::Matrix* ret)
 {
     JS::RootedObject jsobj(cx);
     bool ok = vp.isObject() && JS_ValueToObject( cx, JS::RootedValue(cx, vp), &jsobj );
@@ -1327,7 +1327,7 @@ bool jsval_to_matrix(JSContext *cx, jsval vp, cocos2d::Mat4* ret)
     return true;
 }
 
-bool jsval_to_vector2(JSContext *cx, jsval vp, cocos2d::Vec2* ret)
+bool jsval_to_vector2(JSContext *cx, jsval vp, cocos2d::Vector2* ret)
 {
     JS::RootedObject tmp(cx);
     JS::RootedValue jsx(cx);
@@ -1347,7 +1347,7 @@ bool jsval_to_vector2(JSContext *cx, jsval vp, cocos2d::Vec2* ret)
     return true;
 }
 
-bool jsval_to_vector3(JSContext *cx, jsval vp, cocos2d::Vec3* ret)
+bool jsval_to_vector3(JSContext *cx, jsval vp, cocos2d::Vector3* ret)
 {
     JS::RootedObject tmp(cx);
     JS::RootedValue jsx(cx);
@@ -2377,7 +2377,7 @@ jsval std_vector_int_to_jsval( JSContext *cx, const std::vector<int>& v)
     return OBJECT_TO_JSVAL(jsretArr);
 }
 
-jsval matrix_to_jsval(JSContext *cx, const cocos2d::Mat4& v)
+jsval matrix_to_jsval(JSContext *cx, const cocos2d::Matrix& v)
 {
     JSObject *jsretArr = JS_NewArrayObject(cx, 0, NULL);
     
@@ -2393,7 +2393,7 @@ jsval matrix_to_jsval(JSContext *cx, const cocos2d::Mat4& v)
     return OBJECT_TO_JSVAL(jsretArr);
 }
 
-jsval vector2_to_jsval(JSContext *cx, const cocos2d::Vec2& v)
+jsval vector2_to_jsval(JSContext *cx, const cocos2d::Vector2& v)
 {
     JSObject *tmp = JS_NewObject(cx, NULL, NULL, NULL);
     if (!tmp) return JSVAL_NULL;
@@ -2405,7 +2405,7 @@ jsval vector2_to_jsval(JSContext *cx, const cocos2d::Vec2& v)
     return JSVAL_NULL;
 }
 
-jsval vector3_to_jsval(JSContext *cx, const cocos2d::Vec3& v)
+jsval vector3_to_jsval(JSContext *cx, const cocos2d::Vector3& v)
 {
     JSObject *tmp = JS_NewObject(cx, NULL, NULL, NULL);
     if (!tmp) return JSVAL_NULL;
diff --git a/frameworks/js-bindings/bindings/manual/js_manual_conversions.h b/frameworks/js-bindings/bindings/manual/js_manual_conversions.h
index 705514f..692d67e 100644
--- a/frameworks/js-bindings/bindings/manual/js_manual_conversions.h
+++ b/frameworks/js-bindings/bindings/manual/js_manual_conversions.h
@@ -179,9 +179,9 @@ bool jsval_to_ccvaluevector(JSContext* cx, jsval v, cocos2d::ValueVector* ret);
 bool jsval_to_ssize( JSContext *cx, jsval vp, ssize_t* ret);
 bool jsval_to_std_vector_string( JSContext *cx, jsval vp, std::vector<std::string>* ret);
 bool jsval_to_std_vector_int( JSContext *cx, jsval vp, std::vector<int>* ret);
-bool jsval_to_matrix(JSContext *cx, jsval vp, cocos2d::Mat4* ret);
-bool jsval_to_vector2(JSContext *cx, jsval vp, cocos2d::Vec2* ret);
-bool jsval_to_vector3(JSContext *cx, jsval vp, cocos2d::Vec3* ret);
+bool jsval_to_matrix(JSContext *cx, jsval vp, cocos2d::Matrix* ret);
+bool jsval_to_vector2(JSContext *cx, jsval vp, cocos2d::Vector2* ret);
+bool jsval_to_vector3(JSContext *cx, jsval vp, cocos2d::Vector3* ret);
 bool jsval_to_blendfunc(JSContext *cx, jsval vp, cocos2d::BlendFunc* ret);
 
 template <class T>
@@ -326,9 +326,9 @@ jsval ccvaluevector_to_jsval(JSContext* cx, const cocos2d::ValueVector& v);
 jsval ssize_to_jsval(JSContext *cx, ssize_t v);
 jsval std_vector_string_to_jsval( JSContext *cx, const std::vector<std::string>& v);
 jsval std_vector_int_to_jsval( JSContext *cx, const std::vector<int>& v);
-jsval matrix_to_jsval(JSContext *cx, const cocos2d::Mat4& v);
-jsval vector2_to_jsval(JSContext *cx, const cocos2d::Vec2& v);
-jsval vector3_to_jsval(JSContext *cx, const cocos2d::Vec3& v);
+jsval matrix_to_jsval(JSContext *cx, const cocos2d::Matrix& v);
+jsval vector2_to_jsval(JSContext *cx, const cocos2d::Vector2& v);
+jsval vector3_to_jsval(JSContext *cx, const cocos2d::Vector3& v);
 jsval blendfunc_to_jsval(JSContext *cx, const cocos2d::BlendFunc& v);
 
 #endif /* __JS_MANUAL_CONVERSIONS_H__ */
diff --git a/frameworks/js-bindings/bindings/manual/ui/jsb_cocos2dx_ui_manual.cpp b/frameworks/js-bindings/bindings/manual/ui/jsb_cocos2dx_ui_manual.cpp
index 13cd49c..6947e8b 100644
--- a/frameworks/js-bindings/bindings/manual/ui/jsb_cocos2dx_ui_manual.cpp
+++ b/frameworks/js-bindings/bindings/manual/ui/jsb_cocos2dx_ui_manual.cpp
@@ -52,8 +52,9 @@ JSStudioEventListenerWrapper::~JSStudioEventListenerWrapper()
 {
     if (m_bNeedUnroot)
     {
+        JSObject *thisObj = JSVAL_TO_OBJECT(_jsThisObj);
         JSContext *cx = ScriptingCore::getInstance()->getGlobalContext();
-        JS_RemoveValueRoot(cx, &_jsThisObj);
+        JS_RemoveObjectRoot(cx, &thisObj);
     }
 }
 
@@ -66,8 +67,8 @@ void JSStudioEventListenerWrapper::setJSCallbackThis(jsval jsThisObj)
     if (!p)
     {
         JSContext *cx = ScriptingCore::getInstance()->getGlobalContext();
+        JS_AddObjectRoot(cx, &thisObj);
         m_bNeedUnroot = true;
-        m_bNeedUnroot &= JS_AddValueRoot(cx, &jsThisObj);
     }
 }
 
diff --git a/frameworks/js-bindings/bindings/proj.ios_mac/cocos2d_js_bindings.xcodeproj/project.pbxproj b/frameworks/js-bindings/bindings/proj.ios_mac/cocos2d_js_bindings.xcodeproj/project.pbxproj
index a32f163..8a132cb 100644
--- a/frameworks/js-bindings/bindings/proj.ios_mac/cocos2d_js_bindings.xcodeproj/project.pbxproj
+++ b/frameworks/js-bindings/bindings/proj.ios_mac/cocos2d_js_bindings.xcodeproj/project.pbxproj
@@ -864,7 +864,7 @@
 					"$(inherited)",
 					"$(SRCROOT)/../../external/spidermonkey/prebuilt/mac",
 				);
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/mac $(SRCROOT)/../../cocos2d-x/cocos/platform/mac $(SRCROOT)/../../cocos2d-x/external/glfw3/include/mac";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/mac $(SRCROOT)/../../cocos2d-x/cocos/2d/platform/mac $(SRCROOT)/../../cocos2d-x/external/glfw3/include/mac";
 			};
 			name = Debug;
 		};
@@ -883,7 +883,7 @@
 					"$(inherited)",
 					"$(SRCROOT)/../../external/spidermonkey/prebuilt/mac",
 				);
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/mac $(SRCROOT)/../../cocos2d-x/cocos/platform/mac $(SRCROOT)/../../cocos2d-x/external/glfw3/include/mac";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/mac $(SRCROOT)/../../cocos2d-x/cocos/2d/platform/mac $(SRCROOT)/../../cocos2d-x/external/glfw3/include/mac";
 			};
 			name = Release;
 		};
@@ -905,7 +905,7 @@
 				"OTHER_LDFLAGS[arch=arm64]" = "-ljs_static.arm64";
 				SDKROOT = iphoneos;
 				TARGETED_DEVICE_FAMILY = "1,2";
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/ios $(SRCROOT)/../../cocos2d-x/cocos/platform/ios $(SRCROOT)/../../cocos2d-x/extensions/cocos2dx-store/Soomla $(SRCROOT)/../../cocos2d-x/external/jansson $(SRCROOT)/../../cocos2d-x/cocos/network $(SRCROOT)/../../cocos2d-x/plugin/protocols/include";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/ios $(SRCROOT)/../../cocos2d-x/cocos/2d/platform/ios $(SRCROOT)/../../cocos2d-x/extensions/cocos2dx-store/Soomla $(SRCROOT)/../../cocos2d-x/external/jansson $(SRCROOT)/../../cocos2d-x/cocos/network $(SRCROOT)/../../cocos2d-x/plugin/protocols/include";
 			};
 			name = Debug;
 		};
@@ -927,7 +927,7 @@
 				"OTHER_LDFLAGS[arch=arm64]" = "-ljs_static.arm64";
 				SDKROOT = iphoneos;
 				TARGETED_DEVICE_FAMILY = "1,2";
-				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/ios $(SRCROOT)/../../cocos2d-x/cocos/platform/ios $(SRCROOT)/../../cocos2d-x/extensions/cocos2dx-store/Soomla $(SRCROOT)/../../cocos2d-x/external/jansson $(SRCROOT)/../../cocos2d-x/cocos/network $(SRCROOT)/../../cocos2d-x/plugin/protocols/include";
+				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../external/spidermonkey/include/ios $(SRCROOT)/../../cocos2d-x/cocos/2d/platform/ios $(SRCROOT)/../../cocos2d-x/extensions/cocos2dx-store/Soomla $(SRCROOT)/../../cocos2d-x/external/jansson $(SRCROOT)/../../cocos2d-x/cocos/network $(SRCROOT)/../../cocos2d-x/plugin/protocols/include";
 			};
 			name = Release;
 		};
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBinding.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBinding.vcxproj
index 3232824..77a1dbd 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBinding.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBinding.vcxproj
@@ -90,7 +90,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\auto;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\auto;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -114,7 +114,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\auto;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\auto;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForBuilder.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForBuilder.vcxproj
index 00a5e6d..93caa50 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForBuilder.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForBuilder.vcxproj
@@ -75,7 +75,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocosbuilder;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocosbuilder;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -99,7 +99,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocosbuilder;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocosbuilder;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForChipmunk.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForChipmunk.vcxproj
index 38b4370..9e30617 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForChipmunk.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForChipmunk.vcxproj
@@ -77,7 +77,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos\base;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -101,7 +101,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos\base;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForExtension.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForExtension.vcxproj
index dd29db9..c3b13e1 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForExtension.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForExtension.vcxproj
@@ -74,7 +74,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -98,7 +98,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForGui.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForGui.vcxproj
index 3f20924..4e62dcf 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForGui.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForGui.vcxproj
@@ -74,7 +74,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -98,7 +98,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\ui;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForLocalStorage.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForLocalStorage.vcxproj
index 325c1a9..6a1945d 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForLocalStorage.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForLocalStorage.vcxproj
@@ -72,7 +72,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(EngineRoot)external\chipmunk\include\chipmunk;$(ProjectDir)..\..\external\spidermonkey\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(EngineRoot)external\chipmunk\include\chipmunk;$(ProjectDir)..\..\external\spidermonkey\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -96,7 +96,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(EngineRoot)external\chipmunk\include\chipmunk;$(ProjectDir)..\..\external\spidermonkey\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(EngineRoot)external\chipmunk\include\chipmunk;$(ProjectDir)..\..\external\spidermonkey\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForNetwork.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForNetwork.vcxproj
index 6325f08..998f62d 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForNetwork.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForNetwork.vcxproj
@@ -73,7 +73,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)external\websockets\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)external\websockets\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -97,7 +97,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)external\websockets\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\network;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)external\websockets\include\win32;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForSpine.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForSpine.vcxproj
index 26c117d..d887e53 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForSpine.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForSpine.vcxproj
@@ -74,7 +74,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\spine;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)cocos\audio\include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\spine;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)cocos\audio\include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -98,7 +98,7 @@
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\spine;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)cocos\audio\include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\spine;$(ProjectDir)..\manual;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)cocos\audio\include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForStudio.vcxproj b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForStudio.vcxproj
index 340a8e3..8b24e96 100644
--- a/frameworks/js-bindings/bindings/proj.win32/libJSBindingForStudio.vcxproj
+++ b/frameworks/js-bindings/bindings/proj.win32/libJSBindingForStudio.vcxproj
@@ -74,7 +74,7 @@
       <WarningLevel>Level3</WarningLevel>
       <Optimization>Disabled</Optimization>
       <PreprocessorDefinitions>WIN32;_WINDOWS;_DEBUG;_LIB;COCOS2D_DEBUG=1;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
       <MinimalRebuild>false</MinimalRebuild>
@@ -85,7 +85,7 @@
       <GenerateDebugInformation>true</GenerateDebugInformation>
     </Link>
     <PreBuildEvent>
-      <Command>if not exist "$(OutDir)" mkdir "$(OutDir)"
+      <Command>if not exist "$(OutDir)" mkdir "$(OutDir)"
 xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*" "$(OutDir)"</Command>
     </PreBuildEvent>
   </ItemDefinitionGroup>
@@ -98,7 +98,7 @@ xcopy /Y /Q "$(ProjectDir)..\..\cocos2d-x\external\sqlite3\libraries\win32\*.*"
       <FunctionLevelLinking>true</FunctionLevelLinking>
       <IntrinsicFunctions>true</IntrinsicFunctions>
       <PreprocessorDefinitions>WIN32;_WINDOWS;NDEBUG;_LIB;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
-      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\editor-support\cocostudio;$(EngineRoot)cocos\audio\include;$(ProjectDir)..\manual;$(EngineRoot)external;$(ProjectDir)..\..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <DisableSpecificWarnings>4068;4101;4800;4251;4244;4099;4083;4700;%(DisableSpecificWarnings)</DisableSpecificWarnings>
       <MultiProcessorCompilation>true</MultiProcessorCompilation>
     </ClCompile>
diff --git a/frameworks/js-bindings/bindings/script/debugger/main.js b/frameworks/js-bindings/bindings/script/debugger/main.js
index 0327cc9..6ef7d67 100644
--- a/frameworks/js-bindings/bindings/script/debugger/main.js
+++ b/frameworks/js-bindings/bindings/script/debugger/main.js
@@ -32,7 +32,7 @@ Cu.import("resource://gre/modules/devtools/SourceMap.jsm");
 loadSubScript.call(this, "resource://gre/modules/devtools/DevToolsUtils.js");
 */
 
-var wantLogging = false;
+let wantLogging = true;
 let debuggerServer = null;
 const promptConnections = true;
 
diff --git a/frameworks/js-bindings/bindings/script/debugger/transport.js b/frameworks/js-bindings/bindings/script/debugger/transport.js
index 0035974..e4a2398 100644
--- a/frameworks/js-bindings/bindings/script/debugger/transport.js
+++ b/frameworks/js-bindings/bindings/script/debugger/transport.js
@@ -6,7 +6,7 @@
 
 "use strict";
 // Components.utils.import("resource://gre/modules/NetUtil.jsm");
-//let wantLogging = true;
+let wantLogging = true;
 /**
  * An adapter that handles data transfers between the debugger client and
  * server. It can work with both nsIPipe and nsIServerSocket transports so
@@ -91,9 +91,7 @@ DebuggerTransport.prototype = {
     if (this._outgoing.length > 0) {
       // var threadManager = Cc["@mozilla.org/thread-manager;1"].getService();
       // this._output.asyncWait(this, 0, 0, threadManager.currentThread);
-      if (wantLogging) {
-        log("outgoing: " + this._outgoing);//.substring(0, 200));
-      };
+      log("outgoing: " + this._outgoing);//.substring(0, 200));
       _bufferWrite(this._outgoing);
     }
   },
diff --git a/frameworks/js-bindings/bindings/script/jsb.js b/frameworks/js-bindings/bindings/script/jsb.js
index 91beaf8..9915d01 100644
--- a/frameworks/js-bindings/bindings/script/jsb.js
+++ b/frameworks/js-bindings/bindings/script/jsb.js
@@ -33,7 +33,6 @@ require('jsb_cocos2d_ui.js');
 require('jsb_property_impls.js');
 require('jsb_property_apis.js');
 require('jsb_create_apis.js');
-require('jsb_ext_create_apis.js');
 require('jsb_chipmunk_constants.js');
 require('jsb_chipmunk.js');
 require('jsb_opengl_constants.js');
@@ -42,8 +41,6 @@ require('jsb_cocosbuilder.js');
 require('jsb_deprecated.js');
 require('jsb_loaders.js');
 
-if (cc.FileUtils.getInstance().isFileExist('jsb_pluginx.js')) {
-    if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID) {
-        require('jsb_pluginx.js');
-    }
-}
+//if (cc.sys.os == cc.sys.OS_IOS) {
+//    require('jsb_pluginx.js');
+//}
diff --git a/frameworks/js-bindings/bindings/script/jsb_boot.js b/frameworks/js-bindings/bindings/script/jsb_boot.js
index 98c3d42..02c504f 100644
--- a/frameworks/js-bindings/bindings/script/jsb_boot.js
+++ b/frameworks/js-bindings/bindings/script/jsb_boot.js
@@ -1104,7 +1104,6 @@ cc.game._initConfig();
 // JS to Native bridges
 if(cc.sys.os == cc.sys.OS_ANDROID){
     cc.reflection = new JavascriptJavaBridge();
-    cc.sys.capabilities["keyboard"] = true;
 }
 else if(cc.sys.os == cc.sys.OS_IOS){
     //TODO
diff --git a/frameworks/js-bindings/bindings/script/jsb_cocos2d.js b/frameworks/js-bindings/bindings/script/jsb_cocos2d.js
index f8bf690..625e13e 100644
--- a/frameworks/js-bindings/bindings/script/jsb_cocos2d.js
+++ b/frameworks/js-bindings/bindings/script/jsb_cocos2d.js
@@ -269,104 +269,6 @@ cc.SCENE_FADE = 4208917214;             //CCTransition.js
 
 cc.SCENE_RADIAL = 0xc001;               //CCTransitionProgress.js
 
-
-cc.KEY = {
-    //android
-    back:8,
-    menu:4199,
-    //desktop
-    backspace:7,
-    tab:8,
-    enter:32,
-    shift:12,
-    ctrl:13,
-    alt:14,
-    pause:1,
-    capslock:11,
-    escape:6,
-    pageup:35,
-    pagedown:41,
-    end:21,
-    home:33,
-    left:23,
-    up:25,
-    right:24,
-    down:26,
-    insert:17,
-    Delete:20,
-    0:73,
-    1:74,
-    2:75,
-    3:76,
-    4:77,
-    5:78,
-    6:79,
-    7:80,
-    8:81,
-    9:82,
-    a:121,
-    b:122,
-    c:123,
-    d:124,
-    e:125,
-    f:126,
-    g:127,
-    h:128,
-    i:129,
-    j:130,
-    k:131,
-    l:132,
-    m:133,
-    n:134,
-    o:135,
-    p:136,
-    q:137,
-    r:138,
-    s:139,
-    t:140,
-    u:141,
-    v:142,
-    w:143,
-    x:144,
-    y:145,
-    z:146,
-    '*':30,
-    '+':28,
-    '-':29,
-    'numdel':71,
-    '/':31,
-    f1:44,
-    f2:45,
-    f3:46,
-    f4:47,
-    f5:48,
-    f6:49,
-    f7:50,
-    f8:51,
-    f9:52,
-    f10:53,
-    f11:54,
-    f12:55,
-    numlock:27,
-    scrolllock:2,
-    semicolon:84,
-    ',':69,
-    equal:86,
-    '=':86,
-    ';':84,
-    comma:69,
-    '.':71,
-    period:71,
-    forwardslash:72,
-    grave:120,
-    '[':116,
-    openbracket:116,
-    ']':118,
-    closebracket:118,
-    backslash:117,
-    quote:58,
-    space:56
-};
 //
 // CCMacro.js export
 //
@@ -1492,21 +1394,6 @@ cc.TMXTiledMap.extend = cc.Class.extend;
 cc.TMXMapInfo.extend = cc.Class.extend;
 cc.TransitionScene.extend = cc.Class.extend;
 ccs.Armature.extend = cc.Class.extend;
-ccui.Widget.extend = cc.Class.extend;
-ccui.Button.extend = cc.Class.extend;
-ccui.CheckBox.extend = cc.Class.extend;
-ccui.ImageView.extend = cc.Class.extend;
-ccui.LoadingBar.extend = cc.Class.extend;
-ccui.RichText.extend = cc.Class.extend;
-ccui.Slider.extend = cc.Class.extend;
-ccui.Text.extend = cc.Class.extend;
-ccui.TextAtlas.extend = cc.Class.extend;
-ccui.TextBMFont.extend = cc.Class.extend;
-ccui.TextField.extend = cc.Class.extend;
-ccui.Layout.extend = cc.Class.extend;
-ccui.ListView.extend = cc.Class.extend;
-ccui.PageView.extend = cc.Class.extend;
-ccui.ScrollView.extend = cc.Class.extend;
 
 // Cocos2d-html5 supports multi scene resources preloading.
 // This is a compatible function for JSB.
@@ -2096,11 +1983,6 @@ cc.DrawNode.create = function () {
   return new cc.DrawNode();
 };
 
-
-//
-// TMX classes JS API Wrapper
-//
-
 cc.TMXTiledMap.prototype.allLayers = function(){
     var retArr = [],
         locChildren = this.getChildren(),
@@ -2148,10 +2030,6 @@ cc.TMXLayer.prototype.getPositonAt = function(x, y){
 };
 
 
-//
-// setBlendFunc JS API Wrapper
-//
-
 var protoHasBlend = [cc.AtlasNode.prototype,
                      cc.DrawNode.prototype,
                      cc.LabelTTF.prototype,
@@ -2172,377 +2050,9 @@ var templateSetBlendFunc = function(src, dst) {
     this._setBlendFunc(blendf);
     var b = this.getBlendFunc();
     cc.log((b.src == src) + ", " + (b.dst == dst));
-};
+}
 for (var i = 0, l = protoHasBlend.length; i < l; i++) {
     var proto = protoHasBlend[i];
     proto._setBlendFunc = proto.setBlendFunc;
     proto.setBlendFunc = templateSetBlendFunc;
 }
-
-
-//
-// Ease actions JS API Wrapper
-//
-
-var easeActions = {
-    easeIn : 0,
-    easeOut : 1,
-    easeInOut : 2,
-    easeExponentialIn : 3,
-    easeExponentialOut : 4,
-    easeExponentialInOut : 5,
-    easeSineIn : 6,
-    easeSineOut : 7,
-    easeSineInOut : 8,
-    easeElasticIn : 9,
-    easeElasticOut : 10,
-    easeElasticInOut : 11,
-    easeBounceIn : 12,
-    easeBounceOut : 13,
-    easeBounceInOut : 14,
-    easeBackIn : 15,
-    easeBackOut : 16,
-    easeBackInOut : 17
-};
-
-function templateEaseActions(actionTag) {
-    return function(param) {
-        return {tag: actionTag, parameter: param};
-    }
-}
-
-for (var a in easeActions) {
-    var actionTag = easeActions[a];
-    cc[a] = templateEaseActions(actionTag);
-}
-
-cc.action = cc.Action.create;
-cc.speed = cc.Speed.create;
-cc.follow = cc.Follow.create;
-cc.orbitCamera = cc.OrbitCamera.create;
-cc.cardinalSplineTo = cc.CardinalSplineTo.create;
-cc.cardinalSplineBy = cc.CardinalSplineBy.create;
-cc.catmullRomTo = cc.CatmullRomTo.create;
-cc.catmullRomBy = cc.CatmullRomBy.create;
-cc.show = cc.Show.create;
-cc.hide = cc.Hide.create;
-cc.toggleVisibility = cc.ToggleVisibility.create;
-cc.removeSelf = cc.RemoveSelf.create;
-cc.flipX = cc.FlipX.create;
-cc.flipY = cc.FlipY.create;
-cc.place = cc.Place.create;
-cc.callFunc = cc.CallFunc.create;
-cc.actionInterval = cc.ActionInterval.create;
-cc.sequence = cc.Sequence.create;
-cc.repeat = cc.Repeat.create;
-cc.repeatForever = cc.RepeatForever.create;
-cc.spawn = cc.Spawn.create;
-cc.rotateTo = cc.RotateTo.create;
-cc.rotateBy = cc.RotateBy.create;
-cc.moveBy = cc.MoveBy.create;
-cc.moveTo = cc.MoveTo.create;
-cc.skewTo = cc.SkewTo.create;
-cc.skewBy = cc.SkewBy.create;
-cc.jumpBy = cc.JumpBy.create;
-cc.jumpTo = cc.JumpTo.create;
-cc.bezierBy = cc.BezierBy.create;
-cc.bezierTo = cc.BezierTo.create;
-cc.scaleTo = cc.ScaleTo.create;
-cc.scaleBy = cc.ScaleBy.create;
-cc.blink = cc.Blink.create;
-cc.fadeTo = cc.FadeTo.create;
-cc.fadeIn = cc.FadeIn.create;
-cc.fadeOut = cc.FadeOut.create;
-cc.tintTo = cc.TintTo.create;
-cc.tintBy = cc.TintBy.create;
-cc.delayTime = cc.DelayTime.create;
-//cc.reverseTime = cc.ReverseTime.create;
-cc.animate = cc.Animate.create;
-cc.targetedAction = cc.TargetedAction.create;
-cc.actionTween = cc.ActionTween.create;
-
-
-//AffineTransform API
-
-/**
- * @memberOf cc
- * @function
- * @param {Number} a
- * @param {Number} b
- * @param {Number} c
- * @param {Number} d
- * @param {Number} tx
- * @param {Number} ty
- */
-cc.AffineTransform = function (a, b, c, d, tx, ty) {
-    this.a = a;
-    this.b = b;
-    this.c = c;
-    this.d = d;
-    this.tx = tx;
-    this.ty = ty;
-};
-
-/**
- * @memberOf cc
- * @function
- * @param {Number} a
- * @param {Number} b
- * @param {Number} c
- * @param {Number} d
- * @param {Number} tx
- * @param {Number} ty
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformMake = function (a, b, c, d, tx, ty) {
-    return {a: a, b: b, c: c, d: d, tx: tx, ty: ty};
-};
-
-/**
- * @memberOf cc
- * @function
- * @param {cc.Point} point
- * @param {cc.AffineTransform} t
- * @return {cc.Point}
- * Constructor
- */
-cc.PointApplyAffineTransform = function (point, t) {
-    return {x: t.a * point.x + t.c * point.y + t.tx, y: t.b * point.x + t.d * point.y + t.ty};
-};
-
-cc._PointApplyAffineTransform = function (x, y, t) {
-    return {x: t.a * x + t.c * y + t.tx,
-        y: t.b * x + t.d * y + t.ty};
-};
-
-/**
- * @memberOf cc
- * @function
- * @param {cc.Size} size
- * @param {cc.AffineTransform} t
- * @return {cc.Size}
- * Constructor
- */
-cc.SizeApplyAffineTransform = function (size, t) {
-    return {width: t.a * size.width + t.c * size.height, height: t.b * size.width + t.d * size.height};
-};
-
-/**
- * @memberOf cc
- * @function
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformMakeIdentity = function () {
-    return {a: 1.0, b: 0.0, c: 0.0, d: 1.0, tx: 0.0, ty: 0.0};
-};
-
-/**
- * @memberOf cc
- * @function
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformIdentity = function () {
-    return {a: 1.0, b: 0.0, c: 0.0, d: 1.0, tx: 0.0, ty: 0.0};
-};
-
-/**
- * @memberOf cc
- * @function
- * @param {cc.Rect} rect
- * @param {cc.AffineTransform} anAffineTransform
- * @return {cc.Rect}
- * Constructor
- */
-cc.RectApplyAffineTransform = function (rect, anAffineTransform) {
-    var top = cc.rectGetMinY(rect);
-    var left = cc.rectGetMinX(rect);
-    var right = cc.rectGetMaxX(rect);
-    var bottom = cc.rectGetMaxY(rect);
-
-    var topLeft = cc._PointApplyAffineTransform(left, top, anAffineTransform);
-    var topRight = cc._PointApplyAffineTransform(right, top, anAffineTransform);
-    var bottomLeft = cc._PointApplyAffineTransform(left, bottom, anAffineTransform);
-    var bottomRight = cc._PointApplyAffineTransform(right, bottom, anAffineTransform);
-
-    var minX = Math.min(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);
-    var maxX = Math.max(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);
-    var minY = Math.min(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);
-    var maxY = Math.max(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);
-
-    return cc.rect(minX, minY, (maxX - minX), (maxY - minY));
-};
-
-cc._RectApplyAffineTransformIn = function(rect, anAffineTransform){
-    var top = cc.rectGetMinY(rect);
-    var left = cc.rectGetMinX(rect);
-    var right = cc.rectGetMaxX(rect);
-    var bottom = cc.rectGetMaxY(rect);
-
-    var topLeft = cc._PointApplyAffineTransform(left, top, anAffineTransform);
-    var topRight = cc._PointApplyAffineTransform(right, top, anAffineTransform);
-    var bottomLeft = cc._PointApplyAffineTransform(left, bottom, anAffineTransform);
-    var bottomRight = cc._PointApplyAffineTransform(right, bottom, anAffineTransform);
-
-    var minX = Math.min(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);
-    var maxX = Math.max(topLeft.x, topRight.x, bottomLeft.x, bottomRight.x);
-    var minY = Math.min(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);
-    var maxY = Math.max(topLeft.y, topRight.y, bottomLeft.y, bottomRight.y);
-
-    rect.x = minX;
-    rect.y = minY;
-    rect.width = maxX - minX;
-    rect.height = maxY - minY;
-    return rect;
-};
-
-/**
- * @memberOf cc
- * @function
- * @param {cc.AffineTransform} t
- * @param {Number} tx
- * @param {Number}ty
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformTranslate = function (t, tx, ty) {
-    return {
-        a: t.a,
-        b: t.b,
-        c: t.c,
-        d: t.d,
-        tx: t.tx + t.a * tx + t.c * ty,
-        ty: t.ty + t.b * tx + t.d * ty
-    };
-};
-
-/**
- * @memberOf cc
- * @function
- * @param {cc.AffineTransform} t
- * @param {Number} sx
- * @param {Number} sy
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformScale = function (t, sx, sy) {
-    return {a: t.a * sx, b: t.b * sx, c: t.c * sy, d: t.d * sy, tx: t.tx, ty: t.ty};
-};
-
-/**
- * @memberOf cc
- * @function
- * @param {cc.AffineTransform} aTransform
- * @param {Number} anAngle
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformRotate = function (aTransform, anAngle) {
-    var fSin = Math.sin(anAngle);
-    var fCos = Math.cos(anAngle);
-
-    return {a: aTransform.a * fCos + aTransform.c * fSin,
-        b: aTransform.b * fCos + aTransform.d * fSin,
-        c: aTransform.c * fCos - aTransform.a * fSin,
-        d: aTransform.d * fCos - aTransform.b * fSin,
-        tx: aTransform.tx,
-        ty: aTransform.ty};
-};
-
-/**
- * Concatenate `t2' to `t1' and return the result:<br/>
- * t' = t1 * t2
- * @memberOf cc
- * @function
- * @param {cc.AffineTransform} t1
- * @param {cc.AffineTransform} t2
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformConcat = function (t1, t2) {
-    return {a: t1.a * t2.a + t1.b * t2.c,                          //a
-        b: t1.a * t2.b + t1.b * t2.d,                               //b
-        c: t1.c * t2.a + t1.d * t2.c,                               //c
-        d: t1.c * t2.b + t1.d * t2.d,                               //d
-        tx: t1.tx * t2.a + t1.ty * t2.c + t2.tx,                    //tx
-        ty: t1.tx * t2.b + t1.ty * t2.d + t2.ty};                   //ty
-};
-
-/**
- * Return true if `t1' and `t2' are equal, false otherwise.
- * @memberOf cc
- * @function
- * @param {cc.AffineTransform} t1
- * @param {cc.AffineTransform} t2
- * @return {Boolean}
- * Constructor
- */
-cc.AffineTransformEqualToTransform = function (t1, t2) {
-    return ((t1.a === t2.a) && (t1.b === t2.b) && (t1.c === t2.c) && (t1.d === t2.d) && (t1.tx === t2.tx) && (t1.ty === t2.ty));
-};
-
-/**
- * Get the invert value of an AffineTransform object
- * @memberOf cc
- * @function
- * @param {cc.AffineTransform} t
- * @return {cc.AffineTransform}
- * Constructor
- */
-cc.AffineTransformInvert = function (t) {
-    var determinant = 1 / (t.a * t.d - t.b * t.c);
-    return {a: determinant * t.d, b: -determinant * t.b, c: -determinant * t.c, d: determinant * t.a,
-        tx: determinant * (t.c * t.ty - t.d * t.tx), ty: determinant * (t.b * t.tx - t.a * t.ty)};
-};
-
-/** returns a "world" axis aligned bounding box of the node. <br/>
- * @return {cc.Rect}
- */
-cc.Node.prototype.getBoundingBoxToWorld = function () {
-    var contentSize = this.getContentSize();
-    var rect = cc.rect(0, 0, contentSize.width, contentSize.height);
-    var matrix = this.getNodeToWorldTransform();
-    var trans = cc.AffineTransformMake(matrix[0], matrix[4], matrix[1], matrix[5], matrix[12], matrix[13]);  
-    rect = cc.RectApplyAffineTransform(rect, trans);
-
-    //query child's BoundingBox
-    if (!this.getChildren())
-        return rect;
-
-    var locChildren = this.getChildren();
-    for (var i = 0; i < locChildren.length; i++) {
-        var child = locChildren[i];
-        if (child && child.isVisible()) {
-            var childRect = child._getBoundingBoxToCurrentNode(trans);
-            if (childRect)
-                rect = cc.rectUnion(rect, childRect);
-        }
-    }
-    return rect;
-};
-
-cc.Node.prototype._getBoundingBoxToCurrentNode = function (parentTransform) {
-    var contentSize = this.getContentSize();
-    var rect = cc.rect(0, 0, contentSize.width, contentSize.height);
-    var matrix = this.getNodeToParentTransform();
-    var _trans = cc.AffineTransformMake(matrix[0], matrix[4], matrix[1], matrix[5], matrix[12], matrix[13]); 
-    var trans = (parentTransform == null) ? _trans : cc.AffineTransformConcat(_trans, parentTransform);
-    rect = cc.RectApplyAffineTransform(rect, trans);
-
-    //query child's BoundingBox
-    if (!this.getChildren())
-        return rect;
-
-    var locChildren = this.getChildren();
-    for (var i = 0; i < locChildren.length; i++) {
-        var child = locChildren[i];
-        if (child && child.isVisible()) {
-            var childRect = child._getBoundingBoxToCurrentNode(trans);
-            if (childRect)
-                rect = cc.rectUnion(rect, childRect);
-        }
-    }
-    return rect;
-};
diff --git a/frameworks/js-bindings/bindings/script/jsb_create_apis.js b/frameworks/js-bindings/bindings/script/jsb_create_apis.js
index 6a0c83f..d8c7dda 100644
--- a/frameworks/js-bindings/bindings/script/jsb_create_apis.js
+++ b/frameworks/js-bindings/bindings/script/jsb_create_apis.js
@@ -281,8 +281,8 @@ _p._ctor = function(fileImage, capacity){
 
 _p = cc.ParticleSystem.prototype;
 _p._ctor = function(plistFile){
-    if (!plistFile || typeof(plistFile) === "number") {
-        var ton = plistFile || 100;
+    if (typeof(plistFile) === "number") {
+        var ton = plistFile;
         this.initWithTotalParticles(ton);
     } else if (plistFile) {
         this.initWithFile(plistFile);
@@ -1122,44 +1122,4 @@ cc.LabelAtlas.create = function( a,b,c,d,e ) {
 
 
 // LayerMultiplex
-cc.LayerMultiplex.create = cc.LayerMultiplex.createWithArray;
-
-/**
- * Creates an animation.
- * @param {Array} frames
- * @param {Number} delay
- * @param {Number} [loops=1]
- * @return {cc.Animation}
- * @example
- *
- * 1.Creates an empty animation
- * var animation1 = cc.Animation.create();
- *
- * 2.Create an animation with sprite frames , delay and loops.
- * var spriteFrames = [];
- * var frame = cache.getSpriteFrame("grossini_dance_01.png");
- * spriteFrames.push(frame);
- * var animation1 = cc.Animation.create(spriteFrames);
- * var animation2 = cc.Animation.create(spriteFrames, 0.2);
- * var animation2 = cc.Animation.create(spriteFrames, 0.2, 2);
- *
- * 3.Create an animation with animation frames , delay and loops.
- * var animationFrames = [];
- * var frame =  new cc.AnimationFrame();
- * animationFrames.push(frame);
- * var animation1 = cc.Animation.create(animationFrames);
- * var animation2 = cc.Animation.create(animationFrames, 0.2);
- * var animation3 = cc.Animation.create(animationFrames, 0.2, 2);
- */
-cc.Animation.create = function (frames, delay, loops) {
-    if(frames === undefined){
-        return cc.Animation.createWithAnimationFrames();
-    }
-    else if(frames[0] && frames[0] instanceof cc.AnimationFrame){
-        return cc.Animation.createWithAnimationFrames.apply(this, arguments);
-    }
-    else if(frames[0] && frames[0] instanceof cc.SpriteFrame){
-        delay = delay || 0;
-        return cc.Animation.createWithSpriteFrames.apply(this, arguments);
-    }
-};
+cc.LayerMultiplex.create = cc.LayerMultiplex.createWithArray;
\ No newline at end of file
diff --git a/frameworks/js-bindings/bindings/script/jsb_ext_create_apis.js b/frameworks/js-bindings/bindings/script/jsb_ext_create_apis.js
deleted file mode 100644
index 4b80492..0000000
--- a/frameworks/js-bindings/bindings/script/jsb_ext_create_apis.js
+++ /dev/null
@@ -1,80 +0,0 @@
-/*
- * Copyright (c) 2014 Chukong Technologies Inc.
- *
- * Permission is hereby granted, free of charge, to any person obtaining a copy
- * of this software and associated documentation files (the "Software"), to deal
- * in the Software without restriction, including without limitation the rights
- * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
- * copies of the Software, and to permit persons to whom the Software is
- * furnished to do so, subject to the following conditions:
- *
- * The above copyright notice and this permission notice shall be included in
- * all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
- * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
- * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
- * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
- * THE SOFTWARE.
- */
-
-/************************************************************
- *
- * Constructors with built in init function
- *
- ************************************************************/
-ccui.Widget.prototype.init = ccui.Widget.prototype._init;
-ccui.Button.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-    this.setTouchEnabled(true);
-};
-ccui.CheckBox.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-    this.setSelectedState(false);
-    this.setTouchEnabled(true);
-};
-ccui.LoadingBar.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-};
-ccui.RichText.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-};
-ccui.Slider.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-    this.setTouchEnabled(true);
-};
-ccui.Text.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-};
-ccui.TextAtlas.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-};
-ccui.TextBMFont.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-};
-ccui.TextField.prototype.init = function(){
-    ccui.Widget.prototype.init.call(this);
-    this.setTouchEnabled(true);
-};
-
-var _p = {};
-_p._ctor = function(){
-    this.init();
-}
-ccui.Widget.prototype._ctor = ccui.Button.prototype._ctor
-                            = ccui.CheckBox.prototype._ctor 
-                            = ccui.ImageView.prototype._ctor
-                            = ccui.LoadingBar.prototype._ctor
-                            = ccui.RichText.prototype._ctor
-                            = ccui.Slider.prototype._ctor
-                            = ccui.Text.prototype._ctor
-                            = ccui.TextAtlas.prototype._ctor
-                            = ccui.TextBMFont.prototype._ctor
-                            = ccui.TextField.prototype._ctor
-                            = ccui.Layout.prototype._ctor
-                            = ccui.ListView.prototype._ctor
-                            = ccui.PageView.prototype._ctor
-                            = ccui.ScrollView.prototype._ctor
-                            = _p._ctor; 
diff --git a/frameworks/js-bindings/bindings/script/jsb_loaders.js b/frameworks/js-bindings/bindings/script/jsb_loaders.js
index 143a0e3..a51903e 100644
--- a/frameworks/js-bindings/bindings/script/jsb_loaders.js
+++ b/frameworks/js-bindings/bindings/script/jsb_loaders.js
@@ -55,8 +55,7 @@ cc.loader.register(["png", "jpg", "bmp","jpeg","gif"], cc._imgLoader);
 
 cc._plistLoader = {
     load : function(realUrl, url){
-        var content = cc.fileUtils.getStringFromFile(realUrl);
-        return cc.plistParser.parse(content);
+        return cc.plistParser.parse(realUrl);
     }
 }
 cc.loader.register(["plist"], cc._plistLoader);
diff --git a/samples/js-moonwarriors/project/proj.android/jni/main.cpp b/samples/js-moonwarriors/project/proj.android/jni/main.cpp
index 5199d12..26fe88c 100644
--- a/samples/js-moonwarriors/project/proj.android/jni/main.cpp
+++ b/samples/js-moonwarriors/project/proj.android/jni/main.cpp
@@ -1,6 +1,6 @@
 #include "AppDelegate.h"
 #include "cocos2d.h"
-#include "platform/android/jni/JniHelper.h"
+#include "2d/platform/android/jni/JniHelper.h"
 #include <jni.h>
 #include <android/log.h>
 
diff --git a/samples/js-moonwarriors/project/proj.android/project.properties b/samples/js-moonwarriors/project/proj.android/project.properties
index 43cac9e..cd98da2 100644
--- a/samples/js-moonwarriors/project/proj.android/project.properties
+++ b/samples/js-moonwarriors/project/proj.android/project.properties
@@ -10,4 +10,4 @@
 # Project target.
 target=android-10
 
-android.library.reference.1=../../../../frameworks/js-bindings/cocos2d-x/cocos/platform/android/java
+android.library.reference.1=../../../../frameworks/js-bindings/cocos2d-x/cocos/2d/platform/android/java
diff --git a/samples/js-moonwarriors/project/proj.win32/js-moonwarriors.vcxproj b/samples/js-moonwarriors/project/proj.win32/js-moonwarriors.vcxproj
index 6f09105..243811a 100644
--- a/samples/js-moonwarriors/project/proj.win32/js-moonwarriors.vcxproj
+++ b/samples/js-moonwarriors/project/proj.win32/js-moonwarriors.vcxproj
@@ -79,7 +79,7 @@
     </Midl>
     <ClCompile>
       <Optimization>Disabled</Optimization>
-      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;_DEBUG;DEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_DEBUG=1;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <MinimalRebuild>false</MinimalRebuild>
       <BasicRuntimeChecks>EnableFastChecks</BasicRuntimeChecks>
@@ -136,7 +136,7 @@ copy "$(ProjectDir)..\..\project.json" "$(OutDir)\js-moonwarriors-res"</Command>
       <ProxyFileName>js-moonwarriors_p.c</ProxyFileName>
     </Midl>
     <ClCompile>
-      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;NDEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <ExceptionHandling>
       </ExceptionHandling>
diff --git a/samples/js-tests/TestCase.html b/samples/js-tests/TestCase.html
deleted file mode 100644
index 039e9c0..0000000
--- a/samples/js-tests/TestCase.html
+++ /dev/null
@@ -1,208 +0,0 @@
-<!DOCTYPE html>
-<html>
-<head lang="en">
-    <meta charset="UTF-8">
-    <title>Cocos2d Testcase</title>
-    <link href="lib/TestCase/test.css" type="text/css" rel="stylesheet" />
-    <script type="text/javascript" src="./lib/syntaxhighlighter/scripts/shCore.js"></script>
-    <script type="text/javascript" src="./lib/syntaxhighlighter/scripts/shBrushJScript.js"></script>
-    <script type="text/javascript" src="./lib/TestCase/testcase.js"></script>
-    <link type="text/css" rel="stylesheet" href="./lib/syntaxhighlighter/styles/shCore.css"/>
-    <link type="text/css" rel="stylesheet" href="./lib/syntaxhighlighter/styles/shThemeDefault.css"/>
-</head>
-<body>
-<header>
-    <a class="logo" href="http://www.cocos2d-x.org/"></a>
-    <ul class="btn">
-        <li>
-            <a href="http://www.cocos2d-x.org" target="_blank">Home</a>
-        </li>
-        <li>
-            <a href="http://www.cocos2d-x.org/product" target="_blank">Products</a>
-        </li>
-        <li>
-            <a href="http://www.cocos2d-x.org/learn" target="_blank">Learn</a>
-        </li>
-        <li>
-            <a href="http://www.cocos2d-x.org/games" target="_blank">Showcase</a>
-        </li>
-        <li>
-            <a href="http://www.cocos2d-x.org/community" target="_blank">Community</a>
-        </li>
-        <li>
-            <a href="http://www.cocos2d-x.org/download" target="_blank">Download</a>
-        </li>
-        <li>
-            <a href="http://www.cocos2d-x.org/news" target="_blank">Blog</a>
-        </li>
-        <li>
-            <a href="http://www.cocos2d-x.org/about" target="_blank">About</a>
-        </li>
-    </ul>
-</header>
-
-<section>
-    <div class="sidebar">
-        <span class="up" id="upBtn"></span>
-        <div id="sidebar-overflow">
-            <ul id="sidebar">
-                <li>
-                    <a><span class="hitarea"></span>ActionManager Test</a>
-                    <ul class="list"  data-scene="0"></ul>
-                </li>
-
-                <li>
-                    <a><span class="hitarea"></span>Actions Test</a>
-                    <ul class="list" data-scene="1"></ul>
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>Box2D Test</a>-->
-                    <!--<ul class="list" data-scene="2"></ul>-->
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>Chipmunk Test</a>-->
-                    <!--<ul class="list" data-scene="3"></ul>-->
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>Click and Move Test</a>-->
-                    <!--<ul class="list" data-scene="4"></ul>-->
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>ClippingNode Test</a>-->
-                    <!--<ul class="list" data-scene="5"></ul>-->
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>CocosDenshion Test</a>-->
-                    <!--<ul class="list" data-scene="6"></ul>-->
-                </li>
-
-                <li></li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>CurrentLanguage Test</a>-->
-                    <!--<ul class="list" data-scene="8"></ul>-->
-                </li>
-
-                <li>
-                    <a><span class="hitarea"></span>DrawPrimitives Test</a>
-                    <ul class="list" data-scene="9"></ul>
-                </li>
-
-                <li>
-                    <a><span class="hitarea"></span>EaseActions Test</a>
-                    <ul class="list" data-scene="10"></ul>
-                </li>
-
-                <li>
-                    <a><span class="hitarea"></span>Event Manager Test</a>
-                    <ul class="list" data-scene="11"></ul>
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>Event Test</a>-->
-                    <!--<ul class="list" data-scene="12"></ul>-->
-                </li>
-
-                <li></li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>Effects Test</a>-->
-                    <!--<ul class="list" data-scene="14"></ul>-->
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>Effects Advanced Test</a>-->
-                    <!--<ul class="list" data-scene="15"></ul>-->
-                </li>
-
-                <li>
-                    <!--<a><span class="hitarea"></span>Font Test</a>-->
-                    <!--<ul class="list" data-scene="16"></ul>-->
-                </li>
-
-                <li></li>
-
-                <li></li>
-
-                <li>
-                    <a><span class="hitarea"></span>Label Test</a>
-                    <ul class="list" data-scene="19"></ul>
-                </li>
-
-                <li>
-                    <a><span class="hitarea"></span>Layer Test</a>
-                    <ul class="list" data-scene="20"></ul>
-                </li>
-
-                <li></li>
-
-                <li>
-                    <a><span class="hitarea"></span>Menu Test</a>
-                    <ul class="list" data-scene="22"></ul>
-                </li>
-
-                <li></li>
-
-                <li>
-                    <a><span class="hitarea"></span>Node Test</a>
-                    <ul class="list" data-scene="24"></ul>
-                </li>
-
-                <li></li>
-
-                <li></li>
-
-                <li></li>
-
-                <li></li>
-
-                <li></li>
-
-                <li>
-                    <a><span class="hitarea"></span>ProgressActions Test</a>
-                    <ul class="list" data-scene="30"></ul>
-                </li>
-
-                <li></li>
-
-                <li></li>
-
-                <li>
-                    <a><span class="hitarea"></span>Scene Test</a>
-                    <ul class="list" data-scene="33"></ul>
-                </li>
-
-                <li>
-                    <a><span class="hitarea"></span>Scheduler Test</a>
-                    <ul class="list" data-scene="34"></ul>
-                </li>
-
-                <li></li>
-
-                <li>
-                    <a><span class="hitarea"></span>Sprite Test</a>
-                    <ul class="list" data-scene="36"></ul>
-                </li>
-
-            </ul>
-        </div>
-        <span class="down" id="downBtn"></span>
-    </div>
-    <div class="canvas">
-        <canvas id="gameCanvas" width="800" height="450"></canvas>
-        <div id="code" class="code"></div>
-    </div>
-    <br clear="all" />
-</section>
-
-<!--<script src="../../frameworks/cocos2d-html5/CCBoot.js"></script>-->
-<script src="lib/cocos2d-html5-v3.0-alpha2-min.js"></script>
-<script src="main.js"></script>
-
-</body>
-</html>
\ No newline at end of file
diff --git a/samples/js-tests/lib/TestCase/button.png b/samples/js-tests/lib/TestCase/button.png
deleted file mode 100644
index cd6b86b..0000000
Binary files a/samples/js-tests/lib/TestCase/button.png and /dev/null differ
diff --git a/samples/js-tests/lib/TestCase/logo.png b/samples/js-tests/lib/TestCase/logo.png
deleted file mode 100644
index 67679c3..0000000
Binary files a/samples/js-tests/lib/TestCase/logo.png and /dev/null differ
diff --git a/samples/js-tests/lib/TestCase/test.css b/samples/js-tests/lib/TestCase/test.css
deleted file mode 100644
index 87c2a6f..0000000
--- a/samples/js-tests/lib/TestCase/test.css
+++ /dev/null
@@ -1,188 +0,0 @@
-body{
-    margin: 0;
-    padding: 0;
-    font-family: Arial, Helvetica, sans-serif,'Lucida Grande', 'Lucida Sans Unicode',sans-serif;
-    color: #333333;
-}
-
-ul{
-    list-style: none;
-    margin: 0;
-    padding: 0;
-}
-
-/*header*/
-header{
-    width: 820px;
-    height: 90px;
-    padding-left: 140px;
-    margin: 0 auto;
-    position: relative;
-}
-
-header .logo{
-    width: 93px;
-    height: 127px;
-    position: absolute;
-    top: 10px;
-    left: 0;
-    background: url("logo.png") no-repeat;
-}
-
-header .btn{
-    padding: 32px 0 0 0;
-}
-
-header .btn li{
-    float: left;
-    font-size: 14px;
-    padding: 0 1px;
-    line-height: 28px;
-}
-
-header .btn a, header .btn a:visited{
-    cursor: pointer;
-    border-radius: 5px;
-    display: block;
-    padding: 0 14px;
-    color: #000;
-    text-decoration: none;
-}
-
-header .btn a:hover{
-    background: #349FD0;
-    color: #FFF;
-}
-
-/*main*/
-section{
-    margin: 0 auto 0;
-    width: 1080px;
-}
-
-/*side list*/
-section .up{
-    display: block;
-    height:30px;
-    width: 60px;
-    margin:0 auto;
-    background: url("button.png") 0 -74px no-repeat;
-    cursor: pointer;
-}
-
-section .down{
-    display: block;
-    height:30px;
-    width: 60px;
-    margin:0 auto;
-    background: url("button.png") 0 -74px no-repeat;
-    cursor: pointer;
-    -webkit-transform: rotate(180deg);
-    -moz-transform: rotate(180deg);
-    -ms-transform: rotate(180deg);
-    -o-transform: rotate(180deg);
-    transform: rotate(180deg);
-}
-
-section .sidebar{
-    padding-top: 90px;
-    width: 256px;
-    overflow-x: hidden;
-    float: left;
-    user-select: none;
-    -webkit-user-select: none;
-    -moz-user-select: none;
-    padding-bottom: 40px;
-}
-
-#sidebar{
-    width: 250px;
-    position: absolute;
-    top:0;
-}
-
-section #sidebar-overflow{
-    height: 480px;
-    width: 280px;
-    overflow-y: auto;
-    position: relative;
-    border-top:#CCC solid 1px;
-    border-bottom:#CCC solid 1px;
-}
-
-.sidebar a{
-    position: relative;
-    padding: 0 0 0 36px;
-    font-size: 14px;
-    line-height: 30px;
-    cursor: pointer;
-    white-space: nowrap;
-}
-
-section a:hover{
-    color: #4183C4;
-}
-
-section .hitarea{
-    background: url("tree.png") 0 0 no-repeat;
-    position: absolute;
-    left: 20px;
-    height: 26px;
-    width: 8px;
-    cursor: pointer;
-}
-
-section .active{
-    -webkit-transform: rotate(90deg);
-    -moz-transform: rotate(90deg);
-    -ms-transform: rotate(90deg);
-    -o-transform: rotate(90deg);
-    transform: rotate(90deg);
-}
-
-section ul .list{
-    padding: 0 0 0 20px;
-    display: none;
-}
-
-section ul .list li{
-    padding: 0 0 0 36px;
-}
-
-section ul .list a{
-    padding:0;
-    width: 100%;
-    overflow: hidden;
-    display: block;
-    white-space: nowrap;
-    text-overflow: ellipsis;
-}
-
-section ul .list a.hover{
-    color:#4183C4;
-}
-
-
-/*canvas*/
-section .canvas{
-    float: right;
-    width: 800px;
-    padding-bottom: 40px;
-}
-
-section .canvas .function{
-    font-weight: bold;
-    font-size: 16px;
-}
-
-section .canvas .syntaxhighlighter  {
-    font-size: 14px !important;
-}
-
-section .canvas canvas{
-    border-radius: 5px;
-}
-
-section .code{
-    margin: 20px 0 0 0;
-}
\ No newline at end of file
diff --git a/samples/js-tests/lib/TestCase/testcase.js b/samples/js-tests/lib/TestCase/testcase.js
deleted file mode 100644
index 894f765..0000000
--- a/samples/js-tests/lib/TestCase/testcase.js
+++ /dev/null
@@ -1,613 +0,0 @@
-(function(){
-
-
-    //show code function
-    var code = {
-
-        list: [
-            'src/ActionManagerTest/ActionManagerTest.js'
-            ,'src/ActionsTest/ActionsTest.js'
-            ,'src/Box2dTest/Box2dTest.js'
-            ,'src/ChipmunkTest/ChipmunkTest.js'
-            ,'src/ClickAndMoveTest/ClickAndMoveTest.js'
-            ,'src/ClippingNodeTest/ClippingNodeTest.js'
-            ,'src/CocosDenshionTest/CocosDenshionTest.js'
-            ,null
-            ,'src/CurrentLanguageTest/CurrentLanguageTest.js'
-            ,'src/DrawPrimitivesTest/DrawPrimitivesTest.js'
-            ,'src/EaseActionsTest/EaseActionsTest.js'
-            ,'src/NewEventManagerTest/NewEventManagerTest.js'
-            ,'src/EventTest/EventTest.js'
-            ,null
-            ,'src/EffectsTest/EffectsTest.js'
-            ,'src/EffectsAdvancedTest/EffectsAdvancedTest.js'
-            ,'src/FontTest/FontTest.js'
-            ,null//UI
-            ,null//Interval
-            ,'src/LabelTest/LabelTest.js'//Label
-            ,'src/LayerTest/LayerTest.js'//layer
-            ,null//loader
-            ,'src/MenuTest/MenuTest.js'//menu
-            ,null//motionstreak
-            ,'src/CocosNodeTest/CocosNodeTest.js'//node
-            ,null//opengl
-            ,null//parallax
-            ,null//particle
-            ,null//path
-            ,null//performance
-            ,'src/ProgressActionsTest/ProgressActionsTest.js'//progressActions
-            ,null//RenderTexture
-            ,null//rotateWorld
-            ,'src/SceneTest/SceneTest.js'//scene
-            ,'src/SchedulerTest/SchedulerTest.js'//scheduler
-            ,null//spine
-            ,'src/SpriteTest/SpriteTest.js'//sprite
-            ,null//scale9sprite
-            ,null//textinput
-            ,null//texturecache
-            ,null//tilemap
-            ,null//touches
-            ,null//transitions
-            ,null//unit
-            ,null//sys
-            ,null//cocos2d js presentation
-            ,null//xmlhttprequest
-        ],
-
-        cache: {},
-
-        init: function(){
-            this._dom = document.getElementById('code');
-
-            if(!this._dom) return;
-            code.showCode(0, 0);
-        },
-
-        showCode: function(s, t){
-
-            code.getJson(code.list[s], function(err, text){
-                if(err){
-                    return;
-                }
-                var result = text.match(new RegExp('//----start'+t+'----(.|\r\n|\r|\n)*?//----end'+t+'----', "g"));
-                if(!result){
-                    document.getElementById('code').innerHTML = 'The corresponding code not found.';
-                    return;
-                }
-                var list = {};
-                result.forEach(function(_data){
-                    var on;
-                    _data = _data.replace(new RegExp('//----start'+t+'----'), '').replace(new RegExp('//----end'+t+'----'), '');
-                    _data = _data.replace(/\S*/, function(name){
-                        on = name;
-                        return '';
-                    });
-                    list[on] = _data;
-
-                });
-                var html = '';
-                for(var p in list){
-                    html += '<div class="function">' + '<span style="font-weight: normal;">function</span> ' + p + '</div>';
-                    html += list[p].replace(/^\s*?(\r\n|\r|\n)/, '<pre class="brush: javascript;">').replace(/(\r\n|\r|\n)\s*?(\r\n|\r|\n)?$/, '</pre>');
-                }
-                document.getElementById('code').innerHTML = html;
-                SyntaxHighlighter.highlight();
-            });
-        },
-
-        getJson: function(url, cb){
-            //check cache
-            if(code.cache[url]){
-                typeof cb === 'function' && cb(false, code.cache[url]);
-                return;
-            }
-            var request = new XMLHttpRequest();
-            request.open('GET', url);
-            request.onreadystatechange = function() {
-                if (request.readyState == 4 && request.status == 200) {
-
-                    typeof cb === 'function' && cb(false, request.responseText);
-                    //add cache
-                    code.cache[url] = request.responseText;
-
-                }else{
-                    document.getElementById('code').innerHTML = 'The corresponding code not found.';
-                }
-            };
-            request.send(null);
-        }
-    };
-
-    //sidebar function
-    var sidebar = {
-
-        _sceneNum: 0,
-        _testNum: 0,
-
-        /**
-         * init sidebar
-         */
-        init: function(){
-
-            this._testNameList = [
-                [
-                    "should not crash",
-                    "Sequence logic",
-                    "Pause",
-                    "Remove",
-                    "Resume"
-                ]//arrayOfActionMgrTest - actionManager
-                ,[
-                    "Sprite properties",
-                    "cc.MoveTo / cc.MoveBy",
-                    "cc.ScaleTo / cc.ScaleBy",
-                    "cc.RotateTo / cc.RotateBy",
-                    "cc.RotateTo / cc.RotateBy",
-                    "cc.SkewTo / cc.SkewBy",
-                    "Skew + Rotate + Scale",
-                    "cc.JumpTo / cc.JumpBy",
-                    "cc.BezierTo / cc.BezierBy",
-                    "cc.BezierTo copy",
-                    null,
-                    "CardinalSplineAt / CardinalSplineBy",
-                    "CatmullRomTo / CatmullRomTo",
-                    "cc.Blink",
-                    "cc.FadeIn / cc.FadeOut",
-                    "cc.TintTo / cc.TintBy",
-                    "cc.Sequence: Move + Rotate",
-                    "Sequence of InstantActions",
-                    "cc.Spawn: Jump + Rotate",
-                    "Reverse Jump action",
-                    "DelayTime: m + delay + m",
-                    "Repeat / RepeatForever actions",
-                    "cc.CallFunc + cc.RepeatForever",
-                    "Repeat / RepeatForever + RotateTo",
-                    "RepeatForever / Repeat + Rotate",
-                    "Callbacks: CallFunc and friends",
-                    "cc.CallFunc + auto remove",
-                    "cc.CallFunc + parameters",
-                    "Reverse a sequence",
-                    null,
-                    "Follow action",
-                    "ActionTargeted",
-                    "Testing copy on TargetedAction",
-                    "Stackable actions: MoveBy + MoveBy",
-                    "Stackable actions: MoveBy + JumpBy",
-                    "Stackable actions: MoveBy + BezierBy",
-                    "Stackable actions: MoveBy + CatmullRomBy",
-                    "Stackable actions: MoveBy + CardinalSplineBy",
-                    "PauseResumeActions",
-                    null,
-                    null,
-                    null,
-                    null,
-                    null,
-                    "Animation 1",
-                    null,
-                    null,
-                    "OrbitCamera action"
-                ]//arrayOfActionsTest - action
-                ,null//arrayOfBox2DTest
-                ,null//arrayOfChipmunkTest
-                ,arrayOfClickMoveTest
-                ,arrayOfClippingNodeTest
-                ,_DenshionTests
-                ,null//cocostudio
-                ,arrayOfCurrentLanguageTest
-                ,[
-                    "cc.DrawNode 1",
-                    "cc.DrawNode 2"
-                ]
-                ,[
-                    "EaseIn - EaseOut",
-                    "EaseInOut and rates",
-                    "ExpIn - ExpOut actions",
-                    "EaseExponentialInOut action",
-                    "EaseSineIn - EaseSineOut",
-                    "EaseSineInOut action",
-                    "Elastic In - Out actions",
-                    "EaseElasticInOut action",
-                    "Bounce In - Out actions",
-                    "EaseBounceInOut action",
-                    "Back In - Out actions",
-                    "EaseBackInOut action",
-                    "Speed action",
-                    "Scheduler scaleTime Test"
-                ]//arrayOfEaseActionsTest
-                ,[
-                    "Touchable Sprite",
-                    "Fixed priority",
-                    "Add and remove listener",
-                    "Send custom event",
-                    "Label Receives Keyboard Event",
-                    "Sprite Receives Acceleration Event",
-                    "RemoveAndRetainNodeTest",
-                    "RemoveListenerAfterAddingTest",
-                    "Testing Director Events",
-                    "Stop Propagation",
-                    null,
-                    "PauseResumeTarget"
-                ]//arrayOfEventDispatcherTest
-                ,[
-                    'Touches One by One. Touch the left / right and see console',
-                    'Touches All At Once. Touch and see console',
-                    'Accelerometer test. Move device and see console',
-                    'Mouse test. Move mouse and see console',
-                    'Keyboard test. Press keyboard and see console'
-                ]//arrayOfEventsTest
-                ,null//extensions
-                ,arrayOfEffectsTest
-                ,arrayOfEffectsAdvancedTest
-                ,fontList
-                ,null//UI
-                ,null//Interval
-                ,[
-                    "LabelAtlas Opacity",
-                    "LabelAtlas Opacity Color",
-                    "LabelAtlas with Retina Display",
-                    "cc.LabelBMFont",
-                    "cc.LabelBMFont BMFontSubSpriteTest",
-                    "cc.LabelBMFont BMFontPaddingTest",
-                    "cc.LabelBMFont",
-                    "cc.LabelBMFont BMFontTintTest",
-                    "cc.LabelBMFont",
-                    "cc.LabelBMFont BMFontMultiLineTest",
-                    "cc.LabelBMFont BMFontMultiLine2Test",
-                    "Typesetting",
-                    "cc.LabelBMFont with one texture",
-                    "cc.LabelBMFont with Unicode support",
-                    "cc.LabelBMFont init",
-                    "cc.LabelBMFont color parent / child",
-                    "Testing Retina Display BMFont",
-                    "Testing Glyph Designer",
-                    "Testing cc.LabelBMFont with Chinese character",
-                    "Testing cc.LabelTTF",
-                    "Testing cc.LabelTTF Word Wrap",
-                    "Testing cc.LabelTTF with Chinese character",
-                    "Testing A8 Format",
-                    "cc.LabelTTF init",
-                    "cc.LabelTTF alignment",
-                    "Testing empty labels",
-                    "Testing cc.LabelTTF + shadow and stroke"
-                ]//arrayOfLabelTest
-                ,[
-                    "ColorLayer resize (tap & move)",
-                    "ColorLayer: fade and tint",
-                    "ColorLayer: blend",
-                    "ignore Anchorpoint Test #1",
-                    "ignore Anchorpoint Test #2",
-                    "ignore Anchorpoint Test #3",
-                    "ignore Anchorpoint Test #4",
-                    "LayerGradient"
-                ]//arrayOfLayerTest//layer
-                ,null//loader
-                ,arrayOfMenuTest//menu
-                ,null//motionstreak
-                ,[
-                    "anchorPoint and children",
-                    "tags",
-                    "remove and cleanup",
-                    "remove/cleanup with children",
-                    "stress test #1: no crashes",
-                    "stress test #2: no leaks",
-                    "nodeToParent transform",
-                    "cocosnode scheduler test #1",
-                    "Bounding Box Test",
-                    "Convert To Node Space",
-                    "Camera Center test",
-                    "Camera Orbit test",
-                    "Camera Zoom test",
-                    "Node Opaque Test",
-                    "Node Non Opaque Test"
-                ]//arrayOfNodeTest
-                ,null//opengl
-                ,null//parallax
-                ,null//particle
-                ,null//path
-                ,null//performance
-                ,[
-                    "ProgressTo Radial",
-                    "ProgressTo Horizontal",
-                    "ProgressTo Vertical",
-                    "Radial w/ Different Midpoints",
-                    "ProgressTo Bar Mid",
-                    "ProgressTo Bar Mid",
-                    "Progress With Sprite Frame",
-                    "Progress With Sprite Frame"
-                ]//arrayOfProgressTest//progressActions
-                ,null//RenderTexture
-                ,null//rotateWorld
-                ,arrayOfSceneTest//scene
-                ,[
-                    "Self-remove an scheduler",
-                    "Pause / Resume",
-                    "Unschedule All callbacks",
-                    "Unschedule All callbacks #2",
-                    "Schedule from Schedule",
-                    "Schedule update with priority",
-                    "Schedule Update + custom callback",
-                    "Schedule Update in 2 sec",
-                    "Reschedule Callback",
-                    "Schedule / Unschedule using Scheduler"
-                ]//arrayOfSchedulerTest//scheduler
-                ,null//spine
-                ,[
-                    "Non Batched Sprite ",
-                    "Batched Sprite ",
-                    null,//"Sprite vs. SpriteBatchNode animation",
-                    "SpriteFrame Alias Name",
-                    "Sprite: anchor point",
-                    "SpriteBatchNode: anchor point",
-                    "Sprite offset + anchor + rot",
-                    "SpriteBatchNode offset + anchor + rot",
-                    "Sprite offset + anchor + scale",
-                    "SpriteBatchNode offset + anchor + scale",
-                    "Sprite: Animation + flip",
-                    "Sprite: Color & Opacity",
-                    "SpriteBatchNode: Color & Opacity",
-                    "Sprite: Z order",
-                    "SpriteBatch: Z order",
-                    "SpriteBatchNode: reorder #1",
-                    null,//"SpriteBatchNode: reorder issue #744",
-                    null,//"SpriteBatchNode: reorder issue #766",
-                    null,//"SpriteBatchNode: reorder issue #767",
-                    "Sprite: openGL Z vertex",
-                    "SpriteBatchNode: openGL Z vertex",
-                    "SpriteBatchNode transformation",
-                    "Sprite Flip X & Y",
-                    "SpriteBatchNode Flip X & Y",
-                    "Sprite Aliased",
-                    "SpriteBatchNode Aliased",
-                    "Sprite New texture (tap)",
-                    "SpriteBatchNode new texture (tap)",
-                    "Hybrid.Sprite* sprite Test",
-                    "SpriteBatchNode Grand Children",
-                    "SpriteBatchNode Children Z",
-                    "Sprite & SpriteBatchNode Visibility",
-                    "Sprite & SpriteBatchNode Visibility",
-                    "Sprite: children + anchor",
-                    "SpriteBatchNode: children + anchor",
-                    "Sprite/BatchNode + child + scale + rot",
-                    "Sprite multiple levels of children",
-                    "SpriteBatchNode multiple levels of children",
-                    "Sprite without texture",
-                    "Sprite subclass",
-                    "AnimationCache",
-                    "Sprite offset + anchor + skew",
-                    "SpriteBatchNode offset + anchor + skew",
-                    "Sprite anchor + skew + scale",
-                    "SpriteBatchNode anchor + skew + scale",
-                    "Sprite offset + anchor + flip",
-                    null,//"SpriteBatchNode offset + anchor + flip",
-                    null,//"SpriteBatchNodeReorder same index",
-                    "SpriteBatchNode reorder 1 child",
-                    "node sort same index",
-                    "Sprite + children + skew",
-                    "SpriteBatchNode + children + skew",
-                    "Sprite Double resolution",
-                    null,//"SpriteBatch - Bug 1217",
-                    "AnimationCache - Load file",
-                    null,//"Texture Color Cache Issue Test",
-                    null,//"Texture Color Cache Issue Test #2",
-                    "Sub Sprite (rotated source)"
-                ]//arrayOfSpriteTest//sprite
-                ,null//scale9sprite
-                ,null//textinput
-                ,null//texturecache
-                ,null//tilemap
-                ,null//touches
-                ,null//transitions
-                ,null//unit
-                ,null//sys
-                ,null//cocos2d js presentation
-                ,null//xmlhttprequest
-            ];
-
-            this._sidebar = document.getElementById('sidebar');
-
-            if(!this._sidebar){
-                return;
-            }
-
-            this.list = Array.prototype.map.call(this._sidebar.children, function($li){ return $li.children; });
-            this._upbtn = document.getElementById('upBtn');
-            this._downbtn = document.getElementById('downBtn');
-            this._sidebarOverflow = document.getElementById('sidebar-overflow');
-
-            this.createBtnDOM();
-            this.bindBtnEvent();
-            this.upAndDownEvent();
-            this._hiddenOtherUl(0);
-        },
-
-        /**
-         * init default scene
-         */
-        defaultScene: function(){
-            window.director = cc.director;
-            window.winSize = director.getWinSize();
-            cc.LoaderScene.preload(testNames[0].resource || [], function () {
-                var scene = testNames[0].testScene();
-                if (scene) {
-                    scene.runThisTest();
-                }
-            }, this);
-            //Click on the sidebar to allow
-            cc._silderClick = true;
-        },
-
-        createBtnDOM: function(){
-
-            this.list && this.list.forEach(function(btnArray, i){
-                //btnArray[0] -> <a>
-                //btnArray[1] -> <ul>
-                if(btnArray[0] && btnArray[1] && sidebar._testNameList[i]){
-                    var html = '';
-                    sidebar._testNameList[i].forEach(function(o, j){
-                        var title = '';
-                        if(typeof o === 'string'){
-                            title = o;
-                        }
-                        html += '<li><a data-num="'+ j +'">'+ title +'</a></li>'
-                    });
-                    btnArray[1].innerHTML = html;
-                }
-
-            });
-        },
-
-        getDefaultStyle: function getDefaultStyle(obj,attribute){
-            return obj.currentStyle ?
-                obj.currentStyle[attribute] :
-                document.defaultView.getComputedStyle(obj,false)[attribute];
-        },
-
-        bindBtnEvent: function(){
-            this.list.forEach(function(btnArray, num){
-                btnArray[0] && btnArray[0].addEventListener('click', function(){
-
-                    if(sidebar._sceneNum == num){
-                        sidebar._hiddenOtherHover(sidebar._testNum, num);
-                    }else{
-                        sidebar._hiddenOtherHover(-1, num);
-                    }
-                    if(sidebar.getDefaultStyle(btnArray[1], "display") == "none"){
-                        sidebar._hiddenOtherUl(num);
-                    }else{
-                        sidebar._hiddenOtherUl();
-                    }
-                });
-
-                if(btnArray[1]){
-                    var aArray = btnArray[1].getElementsByTagName("a");
-                    Array.prototype.forEach.call(aArray, function(a, i){
-                        a.addEventListener('click', function(){
-                            sidebar._testNum = i;
-                            sidebar.changeTest(i, num);
-                        });
-                    });
-                }
-            });
-        },
-
-        _hiddenOtherUl: function(num){
-            this.list.forEach(function(btnArray, i){
-                if(btnArray[1]){
-                    if(i == num){
-                        btnArray[1].style.display = "block";
-                        var span = btnArray[0].getElementsByTagName('span');
-                        if(span)
-                            span[0].className = "hitarea active";
-                    }else{
-                        btnArray[1].style.display = "none";
-                        var span = btnArray[0].getElementsByTagName('span');
-                        if(span)
-                            span[0].className = "hitarea";
-                    }
-                }
-            });
-        },
-
-        changeTest: function(testNum, sceneNum){
-            if(sidebar._sceneNum == sceneNum){
-
-                if(sidebar._testNum < testNum){
-                    while(this._testNameList[sceneNum][testNum] == null){
-                        testNum++;
-                        if(testNum >= this._testNameList[sceneNum].length){
-                            testNum = 0;
-                        }
-                    }
-                }else{
-                    while(this._testNameList[sceneNum][testNum] == null){
-                        testNum--;
-                        if(testNum < 0){
-                            testNum = this._testNameList[sceneNum].length - 1;
-                        }
-                    }
-                }
-            }
-
-            sidebar._sceneNum = sceneNum;
-            sidebar._testNum = testNum;
-
-            this._hiddenOtherHover(testNum, sceneNum);
-
-            //The same scene
-            cc.LoaderScene.preload(testNames[sceneNum].resource || [], function () {
-                //Click on the sidebar to allow
-                cc._silderClick = true;
-
-                var scene = testNames[sceneNum].testScene();
-                if (scene) {
-                    scene.runThisTest(testNum);
-                }
-
-            }, this);
-
-            //show code
-            code && code.showCode && code.showCode(sceneNum, testNum);
-            return testNum;
-        },
-
-        _hiddenOtherHover: function(testNum, sceneNum){
-            var sceneList = this.list[sceneNum];
-            if(!sceneList[1]) return;
-
-            var aArray = sceneList[1].getElementsByTagName("a");
-            Array.prototype.forEach.call(aArray, function(a, i){
-                if(i == testNum){
-                    a.className = 'hover';
-                }else{
-                    a.className = '';
-                }
-            });
-        },
-
-        upAndDownEvent: function(){
-            var upBtn = document.getElementById("upBtn");
-            var downBtn = document.getElementById("downBtn");
-
-            var self = this;
-            var count = 0;
-            var timer = null;
-
-            var delayUp = function(){
-                var repeat = arguments.callee;
-                timer = setTimeout(function(){
-                    self._sidebarOverflow.scrollTop -= 5;
-                    count++ < 80 && repeat();
-                }, 5);
-            };
-
-            var delayDown = function(){
-                var repeat = arguments.callee;
-                timer = setTimeout(function(){
-                    self._sidebarOverflow.scrollTop += 5;
-                    count++ < 80 && repeat();
-                }, 5);
-            };
-
-            upBtn.addEventListener('click', function(){
-                clearTimeout(timer);
-                count = 0;
-                delayUp();
-            }, false);
-
-            downBtn.addEventListener('click', function(){
-                clearTimeout(timer);
-                count = 0;
-                delayDown();
-            }, false);
-        },
-        start: function(){
-            this.defaultScene();
-            sidebar.init();
-            code.init();
-        }
-    };
-
-    window.sidebar = sidebar;
-
-
-})(window);
\ No newline at end of file
diff --git a/samples/js-tests/lib/TestCase/tree.png b/samples/js-tests/lib/TestCase/tree.png
deleted file mode 100644
index 87851b4..0000000
Binary files a/samples/js-tests/lib/TestCase/tree.png and /dev/null differ
diff --git a/samples/js-tests/lib/syntaxhighlighter/scripts/clipboard.swf b/samples/js-tests/lib/syntaxhighlighter/scripts/clipboard.swf
deleted file mode 100644
index 1b4d90a..0000000
Binary files a/samples/js-tests/lib/syntaxhighlighter/scripts/clipboard.swf and /dev/null differ
diff --git a/samples/js-tests/lib/syntaxhighlighter/scripts/shBrushJScript.js b/samples/js-tests/lib/syntaxhighlighter/scripts/shBrushJScript.js
deleted file mode 100644
index e0b5486..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/scripts/shBrushJScript.js
+++ /dev/null
@@ -1,52 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-SyntaxHighlighter.brushes.JScript = function()
-{
-	var keywords =	'break case catch continue ' +
-					'default delete do else false  ' +
-					'for function if in instanceof ' +
-					'new null return super switch ' +
-					'this throw true try typeof var while with'
-					;
-
-	this.regexList = [
-		{ regex: SyntaxHighlighter.regexLib.singleLineCComments,	css: 'comments' },			// one line comments
-		{ regex: SyntaxHighlighter.regexLib.multiLineCComments,		css: 'comments' },			// multiline comments
-		{ regex: SyntaxHighlighter.regexLib.doubleQuotedString,		css: 'string' },			// double quoted strings
-		{ regex: SyntaxHighlighter.regexLib.singleQuotedString,		css: 'string' },			// single quoted strings
-		{ regex: /\s*#.*/gm,										css: 'preprocessor' },		// preprocessor tags like #region and #endregion
-		{ regex: new RegExp(this.getKeywords(keywords), 'gm'),		css: 'keyword' }			// keywords
-		];
-	
-	this.forHtmlScript(SyntaxHighlighter.regexLib.scriptScriptTags);
-};
-
-SyntaxHighlighter.brushes.JScript.prototype	= new SyntaxHighlighter.Highlighter();
-SyntaxHighlighter.brushes.JScript.aliases	= ['js', 'jscript', 'javascript'];
diff --git a/samples/js-tests/lib/syntaxhighlighter/scripts/shCore.js b/samples/js-tests/lib/syntaxhighlighter/scripts/shCore.js
deleted file mode 100644
index b910d77..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/scripts/shCore.js
+++ /dev/null
@@ -1,30 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('c(!1k.2G){h 2G=l(){h p={6b:{"1o-U":"","84-2d":1,"83-2d-82":I,"1M":v,"8z-8H":I,"1H-2L":4,"3j":I,"1y":I,"67":N,"8B-8o":I,"7X":N,"5h-1n":I,"1F-1m":N},M:{4Q:I,6f:v,5o:16,5k:16,8s:N,8G:N,89:"58",1g:{5p:"54 1j",5b:"9O 1j",5j:"9P 6k 6q",76:"9N C 9M 26 9J 6q 9K",3o:"3o",6F:"?",1x:"2G\\n\\n",6M:"9L\'t 9Q 2V D: ",86:"9R 9W\'t 9X D 1F-1m 9V: ",78:"<!9U 1F 9S \\"-//9T//6j 9I 1.0 9H//9w\\" \\"2o://5x.6J.6u/9x/6H/6j/6H-9v.9u\\"><1F 9r=\\"2o://5x.6J.6u/9y/9z\\"><6y><9F 2o-9G=\\"9E-9D\\" 60=\\"1X/1F; 9A=9B-8\\" /><39>9C 2G</39></6y><2Z 1t=\\"3H-9Z:an,ao,am,al-ai;aj-43:#ak;43:#ap;3H-2L:aq;1X-6z:6A;\\"><B 1t=\\"1X-6z:6A;6x-4G:au;\\"><B 1t=\\"3H-2L:at-ar;\\">2G</B><B 1t=\\"3H-2L:.ah;6x-9q:ag;\\"><B>6O 2.1.a5 (a6 24 a4)</B><B><a 1Q=\\"2o://6G.3x\\" a3=\\"44\\" 1t=\\"43:#6E;1X-6t:6r;\\">2o://6G.3x</a></B><B>a1 a2 a7 f 1m, a8 <a 1Q=\\"ae://5x.af.3x/ad-ac/a9?aa=ab-ax&8Z=8Q\\" 1t=\\"43:#6E;1X-6t:6r;\\">8P</a> 6k 8N 8R 8S!</B></B><B>8W C 8V 8U.</B><B>8X 8J-8K 8O 9h.</B></B></2Z></1F>"},8C:N},1q:{4U:v,9g:v,3D:v,6g:{}},2n:{},8l:{9f:/\\/\\*[\\s\\S]*?\\*\\//3v,9d:/\\/\\/.*$/3v,9e:/#.*$/3v,9j:/"([^\\\\"\\n]|\\\\.)*"/g,9o:/\'([^\\\\\'\\n]|\\\\.)*\'/g,8Y:/"([^\\\\"]|\\\\.)*"/g,9m:/\'([^\\\\\']|\\\\.)*\'/g,9k:/(&X;|<)!--[\\s\\S]*?--(&Y;|>)/3v,3Q:/&X;\\w+:\\/\\/[\\w-.\\/?%&=@:;]*&Y;|\\w+:\\/\\/[\\w-.\\/?%&=@:;]*/g,9c:{F:/(&X;|<)\\?=?/g,19:/\\?(&Y;|>)/g},92:{F:/(&X;|<)%=?/g,19:/%(&Y;|>)/g},91:{F:/(&X;|<)\\s*1m.*?(&Y;|>)/4v,19:/(&X;|<)\\/\\s*1m\\s*(&Y;|>)/4v}},1y:{18:l(3f){h 3C=Q.1N("3c"),5s=p.1y.7d;3C.L="1y";D(h 35 26 5s){h 6h=5s[35],5r=W 6h(3f),1U=5r.18();3f.6a[35]=5r;c(1U==v){1J}c(7I(1U)=="90"){1U=p.1y.6l(1U,3f.1h,35)}1U.L+="5v "+35;3C.2u(1U)}q 3C},6l:l(5K,6m,5D){h a=Q.1N("a"),5M=a.1t,5u=p.M,5L=5u.5o,5N=5u.5k;a.1Q="#"+5D;a.39=5K;a.5g=6m;a.75=5D;a.27=5K;c(38(5L)==N){5M.1W=5L+"73"}c(38(5N)==N){5M.2s=5N+"73"}a.96=l(e){9n{p.1y.7a(f,e||1k.6V,f.5g,f.75)}97(e){p.A.1x(e.77)}q N};q a},7a:l(7f,7e,7b,7h,7c){h 5G=p.1q.6g[7b],5H;c(5G==v||(5H=5G.6a[7h])==v){q v}q 5H.2B(7f,7e,7c)},7d:{5p:l(59){f.18=l(){c(59.T("67")!=I){q}q p.M.1g.5p};f.2B=l(5a,8T,8M){h B=59.B;5a.8v.4u(5a);B.L=B.L.E("5O","")}},5b:l(71){f.18=l(){q p.M.1g.5b};f.2B=l(aV,bV,bW){h 3Y=p.A.3E(71.5f).E(/</g,"&X;"),2t=p.A.4M("","44",bU,bT,"bR=0, bS=1, bX=0, 6s=1");3Y=p.A.2I(3Y);2t.Q.3I("<58>"+3Y+"</58>");2t.Q.4c()}},5j:l(65){h 3k,bY,5i=65.1h;f.18=l(){h 2Q=p.M;c(2Q.6f==v){q v}l 1I(52){h 5e="";D(h 56 26 52){5e+="<c3 U=\'"+56+"\' 23=\'"+52[56]+"\'/>"}q 5e};l 2q(5l){h 5n="";D(h 5m 26 5l){5n+=" "+5m+"=\'"+5l[5m]+"\'"}q 5n};h 68={1W:2Q.5o,2s:2Q.5k,1h:5i+"c0",4j:"bQ/x-6Z-6U",39:p.M.1g.5j},5V={bP:"ay",bG:"bH",bF:"5g="+5i,bD:"N"},5W=2Q.6f,3O;c(/bI/i.1R(7j.6B)){3O="<4d"+2q({bJ:"bO:bN-bM-bK-bL-c4",cl:"2o://cj.c7.3x/ce/6Z/ck/6U/c9.ci#6O=9,0,0,0"})+2q(68)+">"+1I(5V)+1I({c8:5W})+"</4d>"}G{3O="<c6"+2q(68)+2q(5V)+2q({cf:5W})+"/>"}3k=Q.1N("B");3k.27=3O;q 3k};f.2B=l(co,cn,63){h 72=63.bA;6S(72){2O"7l":h 64=p.A.2I(p.A.3E(65.5f).E(/&X;/g,"<").E(/&Y;/g,">").E(/&aT;/g,"&"));c(1k.74){1k.74.aU("1X",64)}G{q p.A.2I(64)}2O"aS":p.A.1x(p.M.1g.76);2y;2O"aP":p.A.1x(63.77);2y}}},bB:l(61){f.18=l(){q p.M.1g.3o};f.2B=l(aW,b1,b2){h 29=Q.1N("b0"),1G=v;c(p.1q.3D!=v){Q.2Z.4u(p.1q.3D)}p.1q.3D=29;29.1t.aX="aY:aO;1W:6w;2s:6w;F:-6o;4G:-6o;";Q.2Z.2u(29);1G=29.5Z.Q;6D(1G,1k.Q);1G.3I("<B 1o=\\""+61.B.L.E("5O","")+" aD\\">"+61.B.27+"</B>");1G.4c();29.5Z.4Y();29.5Z.3o();l 6D(6I,6C){h 2E=6C.4D("4e");D(h i=0;i<2E.u;i++){c(2E[i].6i.70()=="6P"&&/aC\\.1a$/.1R(2E[i].1Q)){6I.3I("<4e 4j=\\"1X/1a\\" 6i=\\"6P\\" 1Q=\\""+2E[i].1Q+"\\"></4e>")}}}}},az:l(aA){f.18=l(){q p.M.1g.6F};f.2B=l(aG,aL){h 2t=p.A.4M("","44",aK,aJ,"6s=0"),1G=2t.Q;1G.3I(p.M.1g.78);1G.4c();2t.4Y()}}}},A:{Z:l(4a,6L,3U){3U=3w.aH(3U||0,0);D(h i=3U;i<4a.u;i++){c(4a[i]==6L){q i}}q-1},6d:l(7g){q 7g+3w.aI(3w.b3()*b4).2h()},6c:l(47,46){h 3m={},28;D(28 26 47){3m[28]=47[28]}D(28 26 46){3m[28]=46[28]}q 3m},7t:l(4L){6S(4L){2O"I":q I;2O"N":q N}q 4L},4M:l(3Q,6W,4H,4O,2R){h x=(6T.1W-4H)/2,y=(6T.2s-4O)/2;2R+=", F="+x+", 4G="+y+", 1W="+4H+", 2s="+4O;2R=2R.E(/^,/,"");h 4V=1k.bn(3Q,6W,2R);4V.4Y();q 4V},7y:l(1E,1Y,1Z){c(1E.6X){1E["e"+1Y+1Z]=1Z;1E[1Y+1Z]=l(){1E["e"+1Y+1Z](1k.6V)};1E.6X("bt"+1Y,1E[1Y+1Z])}G{1E.by(1Y,1Z,N)}},1x:l(z){1x(p.M.1g.1x+z)},4P:l(4h,6N){h 2w=p.1q.4U,3W=v;c(2w==v){2w={};D(h 2W 26 p.2n){h 3g=p.2n[2W].bx;c(3g==v){1J}p.2n[2W].U=2W.70();D(h i=0;i<3g.u;i++){2w[3g[i]]=2W}}p.1q.4U=2w}3W=p.2n[2w[4h]];c(3W==v&&6N!=N){p.A.1x(p.M.1g.6M+4h)}q 3W},4x:l(z,6Q){h 2C=z.1O("\\n");D(h i=0;i<2C.u;i++){2C[i]=6Q(2C[i])}q 2C.5A("\\n")},7A:l(z){q z.E(/^[ ]*[\\n]+|[\\n]*[ ]*$/g,"")},8b:l(z){h 42,4E={},4S=W V("^\\\\[(?<4T>(.*?))\\\\]$"),6R=W V("(?<U>[\\\\w-]+)"+"\\\\s*:\\\\s*"+"(?<23>"+"[\\\\w-%#]+|"+"\\\\[.*?\\\\]|"+"\\".*?\\"|"+"\'.*?\'"+")\\\\s*;?","g");2r((42=6R.R(z))!=v){h 2f=42.23.E(/^[\'"]|[\'"]$/g,"");c(2f!=v&&4S.1R(2f)){h m=4S.R(2f);2f=m.4T.u>0?m.4T.1O(/\\s*,\\s*/):[]}4E[42.U]=2f}q 4E},7Q:l(z,1a){c(z==v||z.u==0||z=="\\n"){q z}z=z.E(/</g,"&X;");z=z.E(/ {2,}/g,l(m){h 4o="";D(h i=0;i<m.u-1;i++){4o+="&2m;"}q 4o+" "});c(1a!=v){z=p.A.4x(z,l(2j){c(2j.u==0){q""}h 3F="";2j=2j.E(/^(&2m;| )+/,l(s){3F=s;q""});c(2j.u==0){q 3F}q 3F+"<C 1o=\\""+1a+"\\">"+2j+"</C>"})}q z},81:l(79,7i){h 34=79.2h();2r(34.u<7i){34="0"+34}q 34},6p:l(){h 40=Q.1N("B"),3J,3i=0,4y=Q.2Z,1h=p.A.6d("6p"),36="<B 1o=\\"",33="</B>",4A="</4t>";40.27=36+"6e\\">"+36+"1n\\">"+36+"2d\\">"+36+"60"+"\\"><4t 1o=\\"b7\\"><4t 1h=\\""+1h+"\\">&2m;"+4A+4A+33+33+33+33;4y.2u(40);3J=Q.b6(1h);c(/bb/i.1R(7j.6B)){h 6v=1k.bh(3J,v);3i=80(6v.bg("1W"))}G{3i=3J.bd}4y.4u(40);q 3i},8c:l(6n,6K){h 1H="";D(h i=0;i<6K;i++){1H+=" "}q 6n.E(/\\t/g,1H)},8D:l(2F,4w){h be=2F.1O("\\n"),1H="\\t",62="";D(h i=0;i<50;i++){62+="                    "}l 8u(3n,17,8y){q 3n.22(0,17)+62.22(0,8y)+3n.22(17+1,3n.u)};2F=p.A.4x(2F,l(21){c(21.Z(1H)==-1){q 21}h 17=0;2r((17=21.Z(1H))!=-1){h 8r=4w-17%4w;21=8u(21,17,8r)}q 21});q 2F},3E:l(z){h br=/<br\\s*\\/?>|&X;br\\s*\\/?&Y;/4v;c(p.M.8s==I){z=z.E(br,"\\n")}c(p.M.8G==I){z=z.E(br,"")}q z},2J:l(z){q z.E(/^\\s+|\\s+$/g,"")},2I:l(z){h 2a=p.A.3E(z).1O("\\n"),bf=W bi(),8g=/^\\s*/,20=bc;D(h i=0;i<2a.u&&20>0;i++){h 4z=2a[i];c(p.A.2J(4z).u==0){1J}h 4C=8g.R(4z);c(4C==v){q z}20=3w.20(4C[0].u,20)}c(20>0){D(h i=0;i<2a.u;i++){2a[i]=2a[i].22(20)}}q 2a.5A("\\n")},7W:l(31,30){c(31.H<30.H){q-1}G{c(31.H>30.H){q 1}G{c(31.u<30.u){q-1}G{c(31.u>30.u){q 1}}}}q 0},2S:l(8i,2Y){l 8p(4B,87){q[W p.4W(4B[0],4B.H,87.1a)]};h b5=0,4s=v,3Z=[],8h=2Y.4K?2Y.4K:8p;2r((4s=2Y.3K.R(8i))!=v){3Z=3Z.2l(8h(4s,2Y))}q 3Z},8m:l(8k){h X="&X;",Y="&Y;";q 8k.E(p.8l.3Q,l(m){h 4k="",4l="";c(m.Z(X)==0){4l=X;m=m.3M(X.u)}c(m.Z(Y)==m.u-Y.u){m=m.3M(0,m.u-Y.u);4k=Y}q 4l+"<a 1Q=\\""+m+"\\">"+m+"</a>"+4k})},8a:l(){h 3G=Q.4D("1m"),4i=[];D(h i=0;i<3G.u;i++){c(3G[i].4j=="6e"){4i.K(3G[i])}}q 4i},8t:l(4n){h 4m="<![b8[",3P="]]>",1u=p.A.2J(4n),3L=N;c(1u.Z(4m)==0){1u=1u.3M(4m.u);3L=I}c(1u.Z(3P)==1u.u-3P.u){1u=1u.3M(0,1u.u-3P.u);3L=I}q 3L?1u:4n}},1M:l(8e,4p){l 8f(4r){h 4q=[];D(h i=0;i<4r.u;i++){4q.K(4r[i])}q 4q};h 2k=4p?[4p]:8f(Q.4D(p.M.89)),8q="27",2v=v,4R=p.M;c(4R.4Q){2k=2k.2l(p.A.8a())}c(2k.u===0){q}D(h i=0;i<2k.u;i++){h 2T=2k[i],1T=p.A.8b(2T.L),1L,2D,1P;1T=p.A.6c(8e,1T);1L=1T["2V"];c(1L==v){1J}c(1T["1F-1m"]=="I"||p.6b["1F-1m"]==I){2v=W p.4b(1L);1L="b9"}G{h 3S=p.A.4P(1L);c(3S){1L=3S.U;2v=W 3S()}G{1J}}2D=2T[8q];c(4R.4Q){2D=p.A.8t(2D)}1T["2V-U"]=1L;2v.1M(2D,1T);1P=2v.B;c(p.M.8C){1P=Q.1N("bk");1P.23=2v.B.27;1P.1t.1W="bu";1P.1t.2s="bw"}2T.8v.bz(1P,2T)}},bs:l(7x){p.A.7y(1k,"bm",l(){p.1M(7x)})}};p.4W=l(4X,7B,1a){f.23=4X;f.H=7B;f.u=4X.u;f.1a=1a;f.5S=v};p.4W.1c.2h=l(){q f.23};p.4b=l(4F){h 3t=p.A.4P(4F),2p,4J=W p.2n.bl(),bo=v;c(3t==v){q}2p=W 3t();f.49=4J;c(2p.3N==v){p.A.1x(p.M.1g.86+4F);q}4J.5c.K({3K:2p.3N.C,4K:7E});l 3l(4N,7F){D(h j=0;j<4N.u;j++){4N[j].H+=7F}};l 7E(15,bq){h 7w=15.C,1l=[],4Z=2p.5c,7v=15.H+15.F.u,2P=2p.3N,1p;D(h i=0;i<4Z.u;i++){1p=p.A.2S(7w,4Z[i]);3l(1p,7v);1l=1l.2l(1p)}c(2P.F!=v&&15.F!=v){1p=p.A.2S(15.F,2P.F);3l(1p,15.H);1l=1l.2l(1p)}c(2P.19!=v&&15.19!=v){1p=p.A.2S(15.19,2P.19);3l(1p,15.H+15[0].bp(15.19));1l=1l.2l(1p)}D(h j=0;j<1l.u;j++){1l[j].5S=3t.U}q 1l}};p.4b.1c.1M=l(7k,7p){f.49.1M(7k,7p);f.B=f.49.B};p.7q=l(){};p.7q.1c={T:l(7u,7s){h 48=f.1I[7u];q p.A.7t(48==v?7s:48)},18:l(7H){q Q.1N(7H)},8n:l(32,7Y){h 3A=[];c(32!=v){D(h i=0;i<32.u;i++){c(7I(32[i])=="4d"){3A=3A.2l(p.A.2S(7Y,32[i]))}}}q 3A.aM(p.A.7W)},8F:l(){h 1V=f.2X;D(h i=0;i<1V.u;i++){c(1V[i]===v){1J}h 2z=1V[i],45=2z.H+2z.u;D(h j=i+1;j<1V.u&&1V[i]!==v;j++){h 25=1V[j];c(25===v){1J}G{c(25.H>45){2y}G{c(25.H==2z.H&&25.u>2z.u){f.2X[i]=v}G{c(25.H>=2z.H&&25.H<45){f.2X[j]=v}}}}}}},7Z:l(2U){h 3h=2U.1O("\\n"),3X=80(f.T("84-2d")),2i=f.T("83-2d-82"),7U=f.T("1M",[]),7M=f.T("3j");2U="";c(2i==I){2i=(3X+3h.u-1).2h().u}G{c(38(2i)==I){2i=0}}D(h i=0;i<3h.u;i++){h 1A=3h[i],66=/^(&2m;|\\s)+/.R(1A),51="aE"+(i%2==0?1:2),7N=p.A.81(3X+i,2i),7T=p.A.Z(7U,(3X+i).2h())!=-1,2H=v;c(66!=v){2H=66[0].2h();1A=1A.22(2H.u)}1A=p.A.2J(1A);c(1A.u==0){1A="&2m;"}c(7T){51+=" aN"}2U+="<B 1o=\\"2d "+51+"\\">"+"<7P>"+"<7R>"+(7M?"<3T 1o=\\"aZ\\"><C>"+7N+"</C></3T>":"")+"<3T 1o=\\"60\\">"+(2H!=v?"<C 1o=\\"aQ\\">"+2H.E(" ","&2m;")+"</C>":"")+1A+"</3T>"+"</7R>"+"</7P>"+"</B>"}q 2U},88:l(69,5T){h 17=0,3p="",3r=p.A.7Q,5R=f.T("2V-U","");l 5X(5Y){h 5Q=5Y?(5Y.5S||5R):5R;q 5Q?5Q+" ":""};D(h i=0;i<5T.u;i++){h 1v=5T[i],3y;c(1v===v||1v.u===0){1J}3y=5X(1v);3p+=3r(69.22(17,1v.H-17),3y+"7K")+3r(1v.23,3y+1v.1a);17=1v.H+1v.u}3p+=3r(69.22(17),5X()+"7K");q 3p},1M:l(C,7V){h cg=p.M,1q=p.1q,B,ca,3e,cd="cm";f.1I={};f.B=v;f.1n=v;f.C=v;f.1e=v;f.6a={};f.1h=p.A.6d("ch");1q.6g[f.1h]=f;c(C===v){C=""}f.1I=p.A.6c(p.6b,7V||{});c(f.T("7X")==I){f.1I.1y=f.1I.3j=N}f.B=B=f.18("3c");f.1n=f.18("3c");f.1n.L="1n";L="6e";B.1h=f.1h;c(f.T("67")){L+=" 5O"}c(f.T("3j")==N){L+=" c5"}c(f.T("5h-1n")==N){f.1n.L+=" bC-5h"}L+=" "+f.T("1o-U");L+=" "+f.T("2V-U");B.L=L;f.5f=C;f.C=p.A.7A(C).E(/\\r/g," ");3e=f.T("1H-2L");f.C=f.T("8z-8H")==I?p.A.8D(f.C,3e):p.A.8c(f.C,3e);f.C=p.A.2I(f.C);c(f.T("1y")){f.1e=f.18("3c");f.1e.L="1e";f.1e.2u(p.1y.18(f));B.2u(f.1e);h 1e=f.1e;l 53(){1e.L=1e.L.E("54","")};B.c1=l(){53();1e.L+=" 54"};B.c2=l(){53()}}B.2u(f.1n);f.2X=f.8n(f.5c,f.C);f.8F();C=f.88(f.C,f.2X);C=f.7Z(p.A.2J(C));c(f.T("8B-8o")){C=p.A.8m(C)}f.1n.27=C},9i:l(z){z=z.E(/^\\s+|\\s+$/g,"").E(/\\s+/g,"|");q"\\\\b(?:"+z+")\\\\b"},9l:l(2K){f.3N={F:{3K:2K.F,1a:"1m"},19:{3K:2K.19,1a:"1m"},C:W V("(?<F>"+2K.F.1j+")"+"(?<C>.*?)"+"(?<19>"+2K.19.1j+")","99")}}};q p}()}c(!1k.V){(l(){h 2A={R:10.1c.R,8w:5I.1c.8w,E:5I.1c.E,1O:5I.1c.1O},1D={13:/(?:[^\\\\([#\\s.]+|\\\\(?!k<[\\w$]+>|[7z]{[^}]+})[\\S\\s]?|\\((?=\\?(?!#|<[\\w$]+>)))+|(\\()(?:\\?(?:(#)[^)]*\\)|<([$\\w]+)>))?|\\\\(?:k<([\\w$]+)>|[7z]{([^}]+)})|(\\[\\^?)|([\\S\\s])/g,98:/(?:[^$]+|\\$(?![1-9$&`\']|{[$\\w]+}))+|\\$(?:([1-9]\\d*|[$&`\'])|{([$\\w]+)})/g,3d:/^(?:\\s+|#.*)+/,5B:/^(?:[?*+]|{\\d+(?:,\\d*)?})/,7J:/&&\\[\\^?/g,7O:/]/g},7G=l(5C,5v,5t){D(h i=5t||0;i<5C.u;i++){c(5C[i]===5v){q i}}q-1},8I=/()??/.R("")[1]!==3a,3b={};V=l(1d,1S){c(1d 5U 10){c(1S!==3a){3q 7n("4g\'t 4I 9a 8A 95 7r 10 5t 94")}q 1d.3z()}h 1S=1S||"",7S=1S.Z("s")>-1,7L=1S.Z("x")>-1,5z=N,3R=[],14=[],13=1D.13,J,cc,3V,37,3u;13.O=0;2r(J=2A.R.2e(13,1d)){c(J[2]){c(!1D.5B.1R(1d.1b(13.O))){14.K("(?:)")}}G{c(J[1]){3R.K(J[3]||v);c(J[3]){5z=I}14.K("(")}G{c(J[4]){37=7G(3R,J[4]);14.K(37>-1?"\\\\"+(37+1)+(38(1d.5w(13.O))?"":"(?:)"):J[0])}G{c(J[5]){14.K(3b.7o?3b.7o.7l(J[5],J[0].5w(1)==="P"):J[0])}G{c(J[6]){c(1d.5w(13.O)==="]"){14.K(J[6]==="["?"(?!)":"[\\\\S\\\\s]");13.O++}G{cc=V.8d("&&"+1d.1b(J.H),1D.7J,1D.7O,"",{7D:"\\\\"})[0];14.K(J[6]+cc+"]");13.O+=cc.u+1}}G{c(J[7]){c(7S&&J[7]==="."){14.K("[\\\\S\\\\s]")}G{c(7L&&1D.3d.1R(J[7])){3V=2A.R.2e(1D.3d,1d.1b(13.O-1))[0].u;c(!1D.5B.1R(1d.1b(13.O-1+3V))){14.K("(?:)")}13.O+=3V-1}G{14.K(J[7])}}}G{14.K(J[0])}}}}}}}3u=10(14.5A(""),2A.E.2e(1S,/[9Y]+/g,""));3u.1B={1j:1d,2g:5z?3R:v};q 3u};V.9s=l(U,o){3b[U]=o};10.1c.R=l(z){h 1f=2A.R.2e(f,z),U,i,5y;c(1f){c(8I&&1f.u>1){5y=W 10("^"+f.1j+"$(?!\\\\s)",f.5J());2A.E.2e(1f[0],5y,l(){D(i=1;i<8j.u-2;i++){c(8j[i]===3a){1f[i]=3a}}})}c(f.1B&&f.1B.2g){D(i=1;i<1f.u;i++){U=f.1B.2g[i-1];c(U){1f[U]=1f[i]}}}c(f.3s&&f.O>(1f.H+1f[0].u)){f.O--}}q 1f}})()}10.1c.5J=l(){q(f.3s?"g":"")+(f.aw?"i":"")+(f.8E?"m":"")+(f.3d?"x":"")+(f.a0?"y":"")};10.1c.3z=l(7C){h 5E=W V(f.1j,(7C||"")+f.5J());c(f.1B){5E.1B={1j:f.1B.1j,2g:f.1B.2g?f.1B.2g.1b(0):v}}q 5E};10.1c.2e=l(93,z){q f.R(z)};10.1c.9b=l(9p,8x){q f.R(8x[0])};V.57=l(55,5d){h 5P="/"+55+"/"+(5d||"");q V.57[5P]||(V.57[5P]=W V(55,5d))};V.41=l(z){q z.E(/[-[\\]{}()*+?.\\\\^$|,#\\s]/g,"\\\\$&")};V.8d=l(z,F,11,1i,2N){h 2N=2N||{},2M=2N.7D,12=2N.cb,1i=1i||"",5F=1i.Z("g")>-1,6Y=1i.Z("i")>-1,7m=1i.Z("m")>-1,5q=1i.Z("y")>-1,1i=1i.E(/y/g,""),F=F 5U 10?(F.3s?F:F.3z("g")):W V(F,"g"+1i),11=11 5U 10?(11.3s?11:11.3z("g")):W V(11,"g"+1i),1K=[],2x=0,1s=0,1r=0,1w=0,2c,2b,1z,1C,3B,4f;c(2M){c(2M.u>1){3q aR("4g\'t 4I aB aF 7r 41 85")}c(7m){3q 7n("4g\'t 4I 41 85 8A bv bj 8E ba")}3B=V.41(2M);4f=W 10("^(?:"+3B+"[\\\\S\\\\s]|(?:(?!"+F.1j+"|"+11.1j+")[^"+3B+"])+)+",6Y?"i":"")}2r(I){F.O=11.O=1r+(2M?(4f.R(z.1b(1r))||[""])[0].u:0);1z=F.R(z);1C=11.R(z);c(1z&&1C){c(1z.H<=1C.H){1C=v}G{1z=v}}c(1z||1C){1s=(1z||1C).H;1r=(1z?F:11).O}G{c(!2x){2y}}c(5q&&!2x&&1s>1w){2y}c(1z){c(!2x++){2c=1s;2b=1r}}G{c(1C&&2x){c(!--2x){c(12){c(12[0]&&2c>1w){1K.K([12[0],z.1b(1w,2c),1w,2c])}c(12[1]){1K.K([12[1],z.1b(2c,2b),2c,2b])}c(12[2]){1K.K([12[2],z.1b(2b,1s),2b,1s])}c(12[3]){1K.K([12[3],z.1b(1s,1r),1s,1r])}}G{1K.K(z.1b(2b,1s))}1w=1r;c(!5F){2y}}}G{F.O=11.O=0;3q bE("bZ 8L av 9t as")}}c(1s===1r){1r++}}c(5F&&!5q&&12&&12[0]&&z.u>1w){1K.K([12[0],z.1b(1w),1w,z.u])}F.O=11.O=0;q 1K};',62,769,'||||||||||||if|||this||var||||function||||sh|return||||length|null||||str|utils|div|code|for|replace|left|else|index|true|_121|push|className|config|false|lastIndex||document|exec||getParam|name|XRegExp|new|lt|gt|indexOf|RegExp|_139|vN|part|_11f|_d3||pos|create|right|css|slice|prototype|_119|bar|_129|strings|id|_13a|source|window|_d6|script|lines|class|_da|vars|_145|_144|style|_b5|_103|_146|alert|toolbar|_149|_f4|_x|_14a|lib|obj|html|doc|tab|params|continue|_142|_c3|highlight|createElement|split|_c5|href|test|_11a|_c2|_8|_e7|width|text|_5a|_5b|min|_91|substr|value||_ec|in|innerHTML|_4f|_3c|_98|_148|_147|line|call|_6e|captureNames|toString|_f0|_75|_bc|concat|nbsp|brushes|http|_cd|attributes|while|height|wnd|appendChild|_be|_5f|_143|break|_e9|real|execute|_66|_c4|_40|_88|SyntaxHighlighter|_f9|unindent|trim|_10f|size|_13c|_13b|case|_d9|_28|_55|getMatches|_c1|_ed|brush|_61|matches|_a2|body|m2|m1|_e3|_81|_7a|_5|_80|_124|isNaN|title|undefined|_118|DIV|extended|_10b|_2|_62|_ee|_7d|gutter|_25|offsetMatches|_4e|_8e|print|_fd|throw|_fe|global|_cc|_125|gm|Math|com|_104|addFlags|_e5|_14b|_3|printFrame|fixInputString|_76|_af|font|write|_7c|regex|_b6|substring|htmlScript|_32|_b4|url|_11e|_c6|td|_49|len|_60|_ef|_22|_a7|_7b|escape|_6a|color|_blank|_ea|_4d|_4c|_e1|xmlBrush|_47|HtmlScript|close|object|link|esc|can|_5d|_b0|type|_ad|_ae|_b3|_b2|_73|_b8|_ba|_b9|_a6|span|removeChild|gi|_89|eachLine|_7e|_9d|_82|_a3|_9e|getElementsByTagName|_6b|_cb|top|_53|supply|_ce|func|_50|popup|_d0|_54|findBrush|useScriptTags|_bf|_6c|values|discoveredBrushes|win|Match|_c8|focus|_d7||_f6|_29|hide|show|_133|_2b|cache|pre|_19|_1a|viewSource|regexList|_134|_2a|originalCode|highlighterId|wrap|_27|copyToClipboard|toolbarItemHeight|_2c|_2e|_2d|toolbarItemWidth|expandSource|_141|_7|_4|from|_e|item|charAt|www|r2|_11d|join|quantifier|_113|_b|_12e|_13e|_17|_18|String|getNativeFlags|_9|_f|_d|_10|collapsed|key|_101|_ff|brushName|_fb|instanceof|_30|swf|getBrushNameCss|_100|contentWindow|content|_38|_8c|_35|_37|_24|_f5|collapse|_2f|_fa|toolbarCommands|defaults|merge|guid|syntaxhighlighter|clipboardSwf|highlighters|_6|rel|DTD|to|createButton|_a|_84|500px|measureSpace|clipboard|none|scrollbars|decoration|org|_83|0px|margin|head|align|center|userAgent|_3f|copyStyles|0099FF|help|alexgorbatchev|xhtml1|_3e|w3|_85|_48|noBrush|_5e|version|stylesheet|_65|_6d|switch|screen|flash|event|_52|attachEvent|_13f|shockwave|toLowerCase|_1e|_36|px|clipboardData|commandName|copyToClipboardConfirmation|message|aboutDialog|_78|executeCommand|_14|_16|items|_13|_12|_4b|_15|_79|navigator|_dd|get|_140|TypeError|unicode|_de|Highlighter|one|_e0|toBoolean|_df|_d8|_d5|_c7|addEvent|pP|trimFirstAndLastLines|_c9|_12d|escapeChar|process|_d1|_112|_e2|typeof|classLeft|plain|_11c|_f2|_f7|classRight|table|decorate|tr|_11b|_f8|_f1|_106|matchesSortCallback|light|_e4|createDisplayLines|parseInt|padNumber|numbers|pad|first|character|brushNotHtmlScript|_a4|processMatches|tagName|getSyntaxHighlighterScriptTags|parseParams|processTabs|matchRecursive|_b7|toArray|_9a|_a8|_a1|arguments|_a9|regexLib|processUrls|findMatches|links|defaultAdd|_bd|_93|bloggerMode|stripCData|insertSpaces|parentNode|match|args|_90|smart|when|auto|debug|processSmartTabs|multiline|removeNestedMatches|stripBrs|tabs|_117|2004|2009|data|_1c|keep|Alex|donate|2930402|development|active|_1b|highlighter|syntax|JavaScript|Copyright|multiLineDoubleQuotedString|hosted_button_id|string|scriptScriptTags|aspScriptTags|_12f|another|constructing|onclick|catch|replaceVar|sgi|flags|apply|phpScriptTags|singleLineCComments|singleLinePerlComments|multiLineCComments|spaceWidth|Gorbatchev|getKeywords|doubleQuotedString|xmlComments|forHtmlScript|multiLineSingleQuotedString|try|singleQuotedString|_131|bottom|xmlns|addPlugin|unbalanced|dtd|transitional|EN|TR|1999|xhtml|charset|utf|About|Type|Content|meta|equiv|Transitional|XHTML|your|now|Can|is|The|view|copy|find|Brush|PUBLIC|W3C|DOCTYPE|option|wasn|configured|sx|family|sticky|If|you|target|2010|382|June|like|please|webscr|cmd|_s|bin|cgi|https|paypal|4em|75em|serif|background|fff|sans|Helvetica|Geneva|Arial|000|1em|large|delimiters|xx|3em|contains|ignoreCase|xclick|always|about|_42|more|shCore|printing|alt|than|_43|max|round|250|500|_44|sort|highlighted|absolute|error|spaces|SyntaxError|ok|amp|setData|_1f|_39|cssText|position|number|IFRAME|_3a|_3b|random|1000000|_a5|getElementById|block|CDATA|htmlscript|flag|opera|1000|offsetWidth|_8a|_99|getPropertyValue|getComputedStyle|Array|the|textarea|Xml|load|open|_cf|lastIndexOf|_d4||all|on|70em|using|30em|aliases|addEventListener|replaceChild|command|printSource|no|menu|Error|flashVars|wmode|transparent|msie|classid|11cf|96b8|ae6d|d27cdb6e|clsid|allowScriptAccess|application|location|resizable|400|750|_20|_21|menubar|_26|subject|_clipboard|onmouseover|onmouseout|param|444553540000|nogutter|embed|macromedia|movie|swflash|_10a|valueNames||_10c|pub|src|conf|highlighter_|cab|download|cabs|codebase|important|_34|_33'.split('|'),0,{}))
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/help.png b/samples/js-tests/lib/syntaxhighlighter/styles/help.png
deleted file mode 100644
index 5c87017..0000000
Binary files a/samples/js-tests/lib/syntaxhighlighter/styles/help.png and /dev/null differ
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/magnifier.png b/samples/js-tests/lib/syntaxhighlighter/styles/magnifier.png
deleted file mode 100644
index cf3d97f..0000000
Binary files a/samples/js-tests/lib/syntaxhighlighter/styles/magnifier.png and /dev/null differ
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/page_white_code.png b/samples/js-tests/lib/syntaxhighlighter/styles/page_white_code.png
deleted file mode 100644
index 0c76bd1..0000000
Binary files a/samples/js-tests/lib/syntaxhighlighter/styles/page_white_code.png and /dev/null differ
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/page_white_copy.png b/samples/js-tests/lib/syntaxhighlighter/styles/page_white_copy.png
deleted file mode 100644
index a9f31a2..0000000
Binary files a/samples/js-tests/lib/syntaxhighlighter/styles/page_white_copy.png and /dev/null differ
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/printer.png b/samples/js-tests/lib/syntaxhighlighter/styles/printer.png
deleted file mode 100644
index a350d18..0000000
Binary files a/samples/js-tests/lib/syntaxhighlighter/styles/printer.png and /dev/null differ
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shCore.css b/samples/js-tests/lib/syntaxhighlighter/styles/shCore.css
deleted file mode 100644
index 7c41230..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shCore.css
+++ /dev/null
@@ -1,330 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-.syntaxhighlighter,
-.syntaxhighlighter div,
-.syntaxhighlighter code,
-.syntaxhighlighter table,
-.syntaxhighlighter table td,
-.syntaxhighlighter table tr,
-.syntaxhighlighter table tbody
-{
-	margin: 0 !important;
-	padding: 0 !important;
-	border: 0 !important;
-	outline: 0 !important;
-	background: none !important;
-	text-align: left !important;
-	float: none !important;
-	vertical-align: baseline !important;
-	position: static !important;
-	left: auto !important;
-	top: auto !important;
-	right: auto !important;
-	bottom: auto !important;
-	height: auto !important;
-	width: auto !important;
-	line-height: 1.1em !important;
-	font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important;
-	font-weight: normal !important;
-	font-style: normal !important;
-	font-size: 1em !important;
-	min-height: inherit !important; /* For IE8, FF & WebKit */
-	min-height: auto !important; /* For IE7 */
-}
-
-.syntaxhighlighter
-{
-	width: 99% !important; /* 99% fixes IE8 horizontal scrollbar */
-	margin: 1em 0 1em 0 !important;
-	padding: 1px !important; /* adds a little border on top and bottom */
-	position: relative !important;
-}
-
-.syntaxhighlighter .bold 
-{
-	font-weight: bold !important;
-}
-
-.syntaxhighlighter .italic 
-{
-	font-style: italic !important;
-}
-
-.syntaxhighlighter .line
-{
-}
-
-.syntaxhighlighter .no-wrap .line .content
-{
-	white-space: pre !important;
-}
-
-.syntaxhighlighter .line table 
-{
-	border-collapse: collapse !important;
-}
-
-.syntaxhighlighter .line td
-{
-	vertical-align: top !important;
-}
-
-.syntaxhighlighter .line .number
-{
-	width: 3em !important;
-}
-
-.syntaxhighlighter .line .number code
-{
-	width: 2.7em !important;
-	padding-right: .3em !important;
-	text-align: right !important;
-	display: block !important;
-}
-
-.syntaxhighlighter .line .content
-{
-	padding-left: .5em !important;
-}
-
-.syntaxhighlighter .line .spaces
-{
-}
-
-/* Disable border and margin on the lines when no gutter option is set */
-.syntaxhighlighter.nogutter .line .content
-{
-	border-left: none !important;
-}
-
-.syntaxhighlighter .bar
-{
-	display: none !important;
-}
-
-.syntaxhighlighter .bar.show 
-{
-	display: block !important;
-}
-
-.syntaxhighlighter.collapsed .bar
-{
-	display: block !important;
-}
-
-/* Adjust some properties when collapsed */
-
-.syntaxhighlighter.collapsed .lines
-{
-	display: none !important;
-}
-
-.syntaxhighlighter .lines.no-wrap
-{
-	overflow: auto !important;
-	overflow-y: hidden !important;
-}
-
-/* Styles for the toolbar */
-
-.syntaxhighlighter .toolbar
-{
-	position: absolute !important;
-	right: 0px !important;
-	top: 0px !important;
-	font-size: 1px !important;
-	padding: 8px 8px 8px 0 !important; /* in px because images don't scale with ems */
-}
-
-.syntaxhighlighter.collapsed .toolbar
-{
-	font-size: 80% !important;
-	padding: .2em 0 .5em .5em !important;
-	position: static !important;
-}
-
-.syntaxhighlighter .toolbar a.item,
-.syntaxhighlighter .toolbar .item
-{
-	display: block !important;
-	float: left !important;
-	margin-left: 8px !important;
-	background-repeat: no-repeat !important;
-	overflow: hidden !important;
-	text-indent: -5000px !important;
-}
-
-.syntaxhighlighter.collapsed .toolbar .item
-{
-	display: none !important;
-}
-
-.syntaxhighlighter.collapsed .toolbar .item.expandSource
-{
-	background-image: url(magnifier.png) !important;
-	display: inline !important;
-	text-indent: 0 !important;
-	width: auto !important;
-	float: none !important;
-	height: 16px !important;
-	padding-left: 20px !important;
-}
-
-.syntaxhighlighter .toolbar .item.viewSource
-{
-	background-image: url(page_white_code.png) !important;
-}
-
-.syntaxhighlighter .toolbar .item.printSource
-{
-	background-image: url(printer.png) !important;
-}
-
-.syntaxhighlighter .toolbar .item.copyToClipboard
-{
-	text-indent: 0 !important;
-	background: none !important;
-	overflow: visible !important;
-}
-
-.syntaxhighlighter .toolbar .item.about
-{
-	background-image: url(help.png) !important;
-}
-
-/** 
- * Print view.
- * Colors are based on the default theme without background.
- */
-
-.syntaxhighlighter.printing,
-.syntaxhighlighter.printing .line.alt1 .content,
-.syntaxhighlighter.printing .line.alt2 .content,
-.syntaxhighlighter.printing .line.highlighted .number,
-.syntaxhighlighter.printing .line.highlighted.alt1 .content,
-.syntaxhighlighter.printing .line.highlighted.alt2 .content,
-{
-	background: none !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter.printing .line .number
-{
-	color: #bbb !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter.printing .line .content
-{
-	color: #000 !important;
-}
-
-/* Toolbar when visible */
-.syntaxhighlighter.printing .toolbar
-{
-	display: none !important;
-}
-
-.syntaxhighlighter.printing a
-{
-	text-decoration: none !important;
-}
-
-.syntaxhighlighter.printing .plain,
-.syntaxhighlighter.printing .plain a
-{ 
-	color: #000 !important;
-}
-
-.syntaxhighlighter.printing .comments,
-.syntaxhighlighter.printing .comments a
-{ 
-	color: #008200 !important;
-}
-
-.syntaxhighlighter.printing .string,
-.syntaxhighlighter.printing .string a
-{
-	color: blue !important; 
-}
-
-.syntaxhighlighter.printing .keyword
-{ 
-	color: #069 !important; 
-	font-weight: bold !important; 
-}
-
-.syntaxhighlighter.printing .preprocessor 
-{ 
-	color: gray !important; 
-}
-
-.syntaxhighlighter.printing .variable 
-{ 
-	color: #a70 !important; 
-}
-
-.syntaxhighlighter.printing .value
-{ 
-	color: #090 !important; 
-}
-
-.syntaxhighlighter.printing .functions
-{ 
-	color: #ff1493 !important; 
-}
-
-.syntaxhighlighter.printing .constants
-{ 
-	color: #0066CC !important; 
-}
-
-.syntaxhighlighter.printing .script
-{
-	font-weight: bold !important;
-}
-
-.syntaxhighlighter.printing .color1,
-.syntaxhighlighter.printing .color1 a
-{ 
-	color: #808080 !important; 
-}
-
-.syntaxhighlighter.printing .color2,
-.syntaxhighlighter.printing .color2 a
-{ 
-	color: #ff1493 !important; 
-}
-
-.syntaxhighlighter.printing .color3,
-.syntaxhighlighter.printing .color3 a
-{ 
-	color: red !important; 
-}
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeDefault.css b/samples/js-tests/lib/syntaxhighlighter/styles/shThemeDefault.css
deleted file mode 100644
index e7c7ee4..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeDefault.css
+++ /dev/null
@@ -1,173 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-/************************************
- * Default Syntax Highlighter theme.
- * 
- * Interface elements.
- ************************************/
-
-.syntaxhighlighter
-{
-	background-color: #fff !important;
-}
-
-/* Highlighed line number */
-.syntaxhighlighter .line.highlighted .number
-{
-	color: black !important;
-}
-
-/* Highlighed line */
-.syntaxhighlighter .line.highlighted.alt1,
-.syntaxhighlighter .line.highlighted.alt2
-{
-	background-color: #e0e0e0 !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter .line .number
-{
-	color: #afafaf !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter .line .content
-{
-	border-left: 3px solid #6CE26C !important;
-	color: #000 !important;
-}
-
-.syntaxhighlighter.printing .line .content 
-{
-	border: 0 !important;
-}
-
-/* First line */
-.syntaxhighlighter .line.alt1
-{
-	background-color: #fff !important;
-}
-
-/* Second line */
-.syntaxhighlighter .line.alt2
-{
-	background-color: #F8F8F8 !important;
-}
-
-.syntaxhighlighter .toolbar
-{
-	background-color: #F8F8F8 !important;
-	border: #E7E5DC solid 1px !important;
-}
-
-.syntaxhighlighter .toolbar a
-{
-	color: #a0a0a0 !important;
-}
-
-.syntaxhighlighter .toolbar a:hover
-{
-	color: red !important;
-}
-
-/************************************
- * Actual syntax highlighter colors.
- ************************************/
-.syntaxhighlighter .plain,
-.syntaxhighlighter .plain a
-{ 
-	color: #000 !important;
-}
-
-.syntaxhighlighter .comments,
-.syntaxhighlighter .comments a
-{ 
-	color: #008200 !important;
-}
-
-.syntaxhighlighter .string,
-.syntaxhighlighter .string a
-{
-	color: blue !important; 
-}
-
-.syntaxhighlighter .keyword
-{ 
-	color: #069 !important; 
-	font-weight: bold !important; 
-}
-
-.syntaxhighlighter .preprocessor 
-{ 
-	color: gray !important; 
-}
-
-.syntaxhighlighter .variable 
-{ 
-	color: #a70 !important; 
-}
-
-.syntaxhighlighter .value
-{ 
-	color: #090 !important; 
-}
-
-.syntaxhighlighter .functions
-{ 
-	color: #ff1493 !important; 
-}
-
-.syntaxhighlighter .constants
-{ 
-	color: #0066CC !important; 
-}
-
-.syntaxhighlighter .script
-{ 
-	background-color: yellow !important;
-}
-
-.syntaxhighlighter .color1,
-.syntaxhighlighter .color1 a
-{ 
-	color: #808080 !important; 
-}
-
-.syntaxhighlighter .color2,
-.syntaxhighlighter .color2 a
-{ 
-	color: #ff1493 !important; 
-}
-
-.syntaxhighlighter .color3,
-.syntaxhighlighter .color3 a
-{ 
-	color: red !important; 
-}
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeDjango.css b/samples/js-tests/lib/syntaxhighlighter/styles/shThemeDjango.css
deleted file mode 100644
index 44ead40..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeDjango.css
+++ /dev/null
@@ -1,176 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-/**
- * Django SyntaxHighlighter theme
- */
-
-/************************************
- * Interface elements.
- ************************************/
-
-.syntaxhighlighter
-{
-	background-color: #0B2F20 !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter .line .number
-{
-	color: #497958 !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter .line .content
-{
-	border-left: 3px solid #41A83E !important;
-	color: #B9BDB6 !important;
-}
-
-.syntaxhighlighter.printing .line .content 
-{
-	border: 0 !important;
-}
-
-/* First line */
-.syntaxhighlighter .line.alt1
-{
-}
-
-/* Second line */
-.syntaxhighlighter .line.alt2
-{
-	background-color: #0a2b1d !important;
-}
-
-/* Highlighed line number */
-.syntaxhighlighter .line.highlighted .number
-{
-	background-color: #336442 !important;
-	color: #fff !important;
-}
-
-/* Highlighed line */
-.syntaxhighlighter .line.highlighted.alt1,
-.syntaxhighlighter .line.highlighted.alt2
-{
-	background-color: #336442 !important;
-}
-
-.syntaxhighlighter .toolbar
-{
-	background-color: #245032 !important;
-	border: #0B2F20 solid 1px !important;
-}
-
-.syntaxhighlighter .toolbar a
-{
-	color: #C4B14A !important;
-}
-
-.syntaxhighlighter .toolbar a:hover
-{
-	color: #FFE862 !important;
-}
-
-/************************************
- * Actual syntax highlighter colors.
- ************************************/
-.syntaxhighlighter .plain,
-.syntaxhighlighter .plain a
-{
-	color: #F8F8F8 !important;
-}
-
-.syntaxhighlighter .comments,
-.syntaxhighlighter .comments a
-{ 
-	color: #336442 !important;
-	font-style: italic !important;
-}
-
-.syntaxhighlighter .string,
-.syntaxhighlighter .string a
-{
-	color: #9DF39F !important; 
-}
-
-.syntaxhighlighter .keyword
-{ 
-	color: #96DD3B !important; 
-	font-weight: bold !important;
-}
-
-.syntaxhighlighter .preprocessor 
-{ 
-	color: #91BB9E !important; 
-}
-
-.syntaxhighlighter .variable 
-{ 
-	color: #FFAA3E !important; 
-}
-
-.syntaxhighlighter .value
-{ 
-	color: #F7E741 !important; 
-}
-
-.syntaxhighlighter .functions
-{ 
-	color: #FFAA3E !important; 
-}
-
-.syntaxhighlighter .constants
-{ 
-	color: #E0E8FF !important; 
-}
-
-.syntaxhighlighter .script
-{ 
-	background-color: #497958 !important;
-}
-
-.syntaxhighlighter .color1,
-.syntaxhighlighter .color1 a
-{ 
-	color: #EB939A !important; 
-}
-
-.syntaxhighlighter .color2,
-.syntaxhighlighter .color2 a
-{ 
-	color: #91BB9E !important; 
-}
-
-.syntaxhighlighter .color3,
-.syntaxhighlighter .color3 a
-{ 
-	color: #EDEF7D !important; 
-}
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeEclipse.css b/samples/js-tests/lib/syntaxhighlighter/styles/shThemeEclipse.css
deleted file mode 100644
index 36368a1..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeEclipse.css
+++ /dev/null
@@ -1,190 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-/**
- * Eclipse IDE SyntaxHighlighter color theme
- * (C) Code-House
- * http://blog.code-house.org/2009/10/xml-i-adnotacje-kod-ogolnego-przeznaczenia-i-jpa/
- */
-
-.syntaxhighlighter
-{
-	background-color: #fff !important;
-}
-
-/* Highlighed line number */
-.syntaxhighlighter .line.highlighted .number
-{
-	background-color: #c3defe !important;
-}
-
-/* Highlighed line */
-.syntaxhighlighter .line.highlighted.alt1,
-.syntaxhighlighter .line.highlighted.alt2
-{
-	background-color: #c3defe !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter .line .number
-{
-	color: #787878 !important;
-	background-color: #fff !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter .line .content
-{
-	border-left: 1px solid #d4d0c8 !important;
-	color: #000 !important;
-}
-
-.syntaxhighlighter.printing .line .content 
-{
-	border: 0 !important;
-}
-
-/* First line */
-.syntaxhighlighter .line.alt1
-{
-	background-color: #fff !important;
-}
-
-/* Second line */
-.syntaxhighlighter .line.alt2
-{
-	background-color: #fff !important;
-}
-
-.syntaxhighlighter .toolbar
-{
-	background-color: #F8F8F8 !important;
-	border: #E7E5DC solid 1px !important;
-}
-
-.syntaxhighlighter .toolbar a
-{
-	color: #a0a0a0 !important;
-}
-
-.syntaxhighlighter .toolbar a:hover
-{
-	color: red !important;
-}
-
-/************************************
- * Actual syntax highlighter colors.
- ************************************/
-.syntaxhighlighter .plain,
-.syntaxhighlighter .plain a
-{ 
-	color: #000 !important;
-}
-
-.syntaxhighlighter .comments,
-.syntaxhighlighter .comments a
-{ 
-	color: #3f5fbf !important;
-}
-
-.syntaxhighlighter .string,
-.syntaxhighlighter .string a
-{
-	color: #2a00ff !important; 
-}
-
-.syntaxhighlighter .keyword
-{ 
-	color: #7f0055 !important; 
-	font-weight: bold !important; 
-}
-
-.syntaxhighlighter .preprocessor 
-{ 
-	color: #646464 !important; 
-}
-
-.syntaxhighlighter .variable 
-{ 
-	color: #a70 !important; 
-}
-
-.syntaxhighlighter .value
-{ 
-	color: #090 !important; 
-}
-
-.syntaxhighlighter .functions
-{ 
-	color: #ff1493 !important; 
-}
-
-.syntaxhighlighter .constants
-{ 
-	color: #0066CC !important; 
-}
-
-.syntaxhighlighter .script
-{ 
-	background-color: yellow !important;
-}
-
-.syntaxhighlighter .color1,
-.syntaxhighlighter .color1 a
-{ 
-	color: #808080 !important; 
-}
-
-.syntaxhighlighter .color2,
-.syntaxhighlighter .color2 a
-{ 
-	color: #ff1493 !important; 
-}
-
-.syntaxhighlighter .color3,
-.syntaxhighlighter .color3 a
-{ 
-	color: red !important; 
-}
-
-
-.xml .keyword {
-    color: #3f7f7f !important;
-    font-weight: normal !important;
-}
-
-.xml .color1,
-.xml .color1 a{
-    color: #7f007f !important;
-}
-
-.xml .string {
-    font-style: italic !important;
-    color: #2a00ff !important;
-}
\ No newline at end of file
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeEmacs.css b/samples/js-tests/lib/syntaxhighlighter/styles/shThemeEmacs.css
deleted file mode 100644
index b004e8d..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeEmacs.css
+++ /dev/null
@@ -1,175 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-/**
- * Emacs SyntaxHighlighter theme based on theme by Joshua Emmons
- * http://www.skia.net/
- */
-
-/************************************
- * Interface elements.
- ************************************/
-
-.syntaxhighlighter
-{
-	background-color: #000000 !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter .line .number
-{
-	color: #D3D3D3 !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter .line .content
-{
-	border-left: 3px solid #990000 !important;
-	color: #B9BDB6 !important;
-}
-
-.syntaxhighlighter.printing .line .content 
-{
-	border: 0 !important;
-}
-
-/* First line */
-.syntaxhighlighter .line.alt1
-{
-}
-
-/* Second line */
-.syntaxhighlighter .line.alt2
-{
-	background-color: #0f0f0f !important;
-}
-
-/* Highlighed line number */
-.syntaxhighlighter .line.highlighted .number
-{
-	background-color: #435A5F !important;
-	color: #fff !important;
-}
-
-/* Highlighed line */
-.syntaxhighlighter .line.highlighted.alt1,
-.syntaxhighlighter .line.highlighted.alt2
-{
-	background-color: #435A5F !important;
-}
-
-.syntaxhighlighter .toolbar
-{
-	background-color: #000000 !important;
-	border: #000000 solid 1px !important;
-}
-
-.syntaxhighlighter .toolbar a
-{
-	color: #646763 !important;
-}
-
-.syntaxhighlighter .toolbar a:hover
-{
-	color: #9CCFF4 !important;
-}
-
-/************************************
- * Actual syntax highlighter colors.
- ************************************/
-.syntaxhighlighter .plain,
-.syntaxhighlighter .plain a
-{ 
-	color: #D3D3D3 !important;
-}
-
-.syntaxhighlighter .comments,
-.syntaxhighlighter .comments a
-{ 
-	color: #FF7D27 !important;
-}
-
-.syntaxhighlighter .string,
-.syntaxhighlighter .string a
-{
-	color: #FF9E7B !important; 
-}
-
-.syntaxhighlighter .keyword
-{ 
-	color: #00FFFF !important; 
-}
-
-.syntaxhighlighter .preprocessor 
-{ 
-	color: #AEC4DE !important; 
-}
-
-.syntaxhighlighter .variable 
-{ 
-	color: #FFAA3E !important; 
-}
-
-.syntaxhighlighter .value
-{ 
-	color: #090 !important; 
-}
-
-.syntaxhighlighter .functions
-{ 
-	color: #81CEF9 !important; 
-}
-
-.syntaxhighlighter .constants
-{ 
-	color: #FF9E7B !important; 
-}
-
-.syntaxhighlighter .script
-{ 
-	background-color: #990000 !important;
-}
-
-.syntaxhighlighter .color1,
-.syntaxhighlighter .color1 a
-{ 
-	color: #EBDB8D !important; 
-}
-
-.syntaxhighlighter .color2,
-.syntaxhighlighter .color2 a
-{ 
-	color: #FF7D27 !important; 
-}
-
-.syntaxhighlighter .color3,
-.syntaxhighlighter .color3 a
-{ 
-	color: #AEC4DE !important; 
-}
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeFadeToGrey.css b/samples/js-tests/lib/syntaxhighlighter/styles/shThemeFadeToGrey.css
deleted file mode 100644
index 649af1b..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeFadeToGrey.css
+++ /dev/null
@@ -1,177 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-/**
- * Fade to Grey SyntaxHighlighter theme based on theme by Brasten Sager
- * http://www.ibrasten.com/
- */
-
-/************************************
- * Interface elements.
- ************************************/
-
-.syntaxhighlighter
-{
-	background-color: #121212 !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter .line .number
-{
-	color: #C3C3C3 !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter .line .content
-{
-	border-left: 3px solid #3185B9 !important;
-	color: #B9BDB6 !important;
-}
-
-.syntaxhighlighter.printing .line .content 
-{
-	border: 0 !important;
-}
-
-/* First line */
-.syntaxhighlighter .line.alt1
-{
-}
-
-/* Second line */
-.syntaxhighlighter .line.alt2
-{
-	background-color: #000000 !important;
-}
-
-/* Highlighed line number */
-.syntaxhighlighter .line.highlighted .number
-{
-	background-color: #3A3A00 !important;
-	color: #fff !important;
-}
-
-/* Highlighed line */
-.syntaxhighlighter .line.highlighted.alt1,
-.syntaxhighlighter .line.highlighted.alt2
-{
-	background-color: #3A3A00 !important;
-}
-
-.syntaxhighlighter .toolbar
-{
-	background-color: #000000 !important;
-	border: #000000 solid 1px !important;
-}
-
-.syntaxhighlighter .toolbar a
-{
-	color: #808080 !important;
-}
-
-.syntaxhighlighter .toolbar a:hover
-{
-	color: #96DAFF !important;
-}
-
-/************************************
- * Actual syntax highlighter colors.
- ************************************/
-.syntaxhighlighter .plain,
-.syntaxhighlighter .plain a
-{ 
-	color: #FFFFFF !important;
-}
-
-.syntaxhighlighter .comments,
-.syntaxhighlighter .comments a
-{ 
-	color: #696854 !important;
-}
-
-.syntaxhighlighter .string,
-.syntaxhighlighter .string a
-{
-	color: #E3E658 !important; 
-}
-
-.syntaxhighlighter .keyword
-{ 
-	color: #D01D33 !important; 
-}
-
-.syntaxhighlighter .preprocessor 
-{ 
-	color: #435A5F !important; 
-}
-
-.syntaxhighlighter .variable 
-{ 
-	color: #898989 !important; 
-}
-
-.syntaxhighlighter .value
-{ 
-	color: #090 !important; 
-}
-
-.syntaxhighlighter .functions
-{ 
-	color: #AAAAAA !important;
-	font-weight: bold !important;
-}
-
-.syntaxhighlighter .constants
-{ 
-	color: #96DAFF !important; 
-}
-
-.syntaxhighlighter .script
-{ 
-	background-color: #C3C3C3 !important;
-	color: #000 !important;
-}
-
-.syntaxhighlighter .color1,
-.syntaxhighlighter .color1 a
-{ 
-	color: #FFC074 !important; 
-}
-
-.syntaxhighlighter .color2,
-.syntaxhighlighter .color2 a
-{ 
-	color: #4A8CDB !important; 
-}
-
-.syntaxhighlighter .color3,
-.syntaxhighlighter .color3 a
-{ 
-	color: #96DAFF !important; 
-}
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeMidnight.css b/samples/js-tests/lib/syntaxhighlighter/styles/shThemeMidnight.css
deleted file mode 100644
index d73f9b6..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeMidnight.css
+++ /dev/null
@@ -1,175 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-/**
- * Midnight SyntaxHighlighter theme based on theme by J.D. Myers
- * http://webdesign.lsnjd.com/
- */
-
-/************************************
- * Interface elements.
- ************************************/
-
-.syntaxhighlighter
-{
-	background-color: #0F192A !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter .line .number
-{
-	color: #38566F !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter .line .content
-{
-	border-left: 3px solid #435A5F !important;
-	color: #B9BDB6 !important;
-}
-
-.syntaxhighlighter.printing .line .content 
-{
-	border: 0 !important;
-}
-
-/* First line */
-.syntaxhighlighter .line.alt1
-{
-	background-color: #0F192A !important;
-}
-
-/* Second line */
-.syntaxhighlighter .line.alt2
-{
-	background-color: #0F192A !important;
-}
-
-/* Highlighed line number */
-.syntaxhighlighter .line.highlighted .number
-{
-	background-color: #253E5A !important;
-	color: #fff !important;
-}
-
-/* Highlighed line */
-.syntaxhighlighter .line.highlighted.alt1,
-.syntaxhighlighter .line.highlighted.alt2
-{
-	background-color: #253E5A !important;
-}
-
-.syntaxhighlighter .toolbar
-{
-	background-color: #0F192A !important;
-}
-
-.syntaxhighlighter .toolbar a
-{
-	color: #38566F !important;
-}
-
-.syntaxhighlighter .toolbar a:hover
-{
-	color: #8AA6C1 !important;
-}
-
-/************************************
- * Actual syntax highlighter colors.
- ************************************/
-.syntaxhighlighter .plain,
-.syntaxhighlighter .plain a
-{ 
-	color: #D1EDFF !important;
-}
-
-.syntaxhighlighter .comments,
-.syntaxhighlighter .comments a
-{ 
-	color: #428BDD !important;
-}
-
-.syntaxhighlighter .string,
-.syntaxhighlighter .string a
-{
-	color: #1DC116 !important; 
-}
-
-.syntaxhighlighter .keyword
-{ 
-	color: #B43D3D !important; 
-}
-
-.syntaxhighlighter .preprocessor 
-{ 
-	color: #8AA6C1 !important; 
-}
-
-.syntaxhighlighter .variable 
-{ 
-	color: #FFAA3E !important; 
-}
-
-.syntaxhighlighter .value
-{ 
-	color: #F7E741 !important; 
-}
-
-.syntaxhighlighter .functions
-{ 
-	color: #FFAA3E !important; 
-}
-
-.syntaxhighlighter .constants
-{ 
-	color: #E0E8FF !important; 
-}
-
-.syntaxhighlighter .script
-{ 
-	background-color: #404040 !important;
-}
-
-.syntaxhighlighter .color1,
-.syntaxhighlighter .color1 a
-{ 
-	color: #F8BB00 !important; 
-}
-
-.syntaxhighlighter .color2,
-.syntaxhighlighter .color2 a
-{ 
-	color: #FFFFFF !important; 
-}
-
-.syntaxhighlighter .color3,
-.syntaxhighlighter .color3 a
-{ 
-	color: #FFAA3E !important; 
-}
diff --git a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeRDark.css b/samples/js-tests/lib/syntaxhighlighter/styles/shThemeRDark.css
deleted file mode 100644
index 495b9a9..0000000
--- a/samples/js-tests/lib/syntaxhighlighter/styles/shThemeRDark.css
+++ /dev/null
@@ -1,175 +0,0 @@
-/**
- * SyntaxHighlighter
- * http://alexgorbatchev.com/
- *
- * SyntaxHighlighter is donationware. If you are using it, please donate.
- * http://alexgorbatchev.com/wiki/SyntaxHighlighter:Donate
- *
- * @version
- * 2.1.382 (June 24 2010)
- * 
- * @copyright
- * Copyright (C) 2004-2009 Alex Gorbatchev.
- *
- * @license
- * This file is part of SyntaxHighlighter.
- * 
- * SyntaxHighlighter is free software: you can redistribute it and/or modify
- * it under the terms of the GNU Lesser General Public License as published by
- * the Free Software Foundation, either version 3 of the License, or
- * (at your option) any later version.
- * 
- * SyntaxHighlighter is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- * GNU General Public License for more details.
- * 
- * You should have received a copy of the GNU General Public License
- * along with SyntaxHighlighter.  If not, see <http://www.gnu.org/copyleft/lesser.html>.
- */
-/**
- * RDark SyntaxHighlighter theme based on theme by Radu Dineiu
- * http://www.vim.org/scripts/script.php?script_id=1732
- */
-
-/************************************
- * Interface elements.
- ************************************/
-
-.syntaxhighlighter
-{
-	background-color: #1B2426 !important;
-}
-
-/* Gutter line numbers */
-.syntaxhighlighter .line .number
-{
-	color: #B9BDB6 !important;
-}
-
-/* Add border to the lines */
-.syntaxhighlighter .line .content
-{
-	border-left: 3px solid #435A5F !important;
-	color: #B9BDB6 !important;
-}
-
-.syntaxhighlighter.printing .line .content 
-{
-	border: 0 !important;
-}
-
-/* First line */
-.syntaxhighlighter .line.alt1
-{
-	background-color: #1B2426 !important;
-}
-
-/* Second line */
-.syntaxhighlighter .line.alt2
-{
-	background-color: #1B2426 !important;
-}
-
-/* Highlighed line number */
-.syntaxhighlighter .line.highlighted .number
-{
-	background-color: #435A5F !important;
-	color: #fff !important;
-}
-
-/* Highlighed line */
-.syntaxhighlighter .line.highlighted.alt1,
-.syntaxhighlighter .line.highlighted.alt2
-{
-	background-color: #435A5F !important;
-}
-
-.syntaxhighlighter .toolbar
-{
-	background-color: #1B2426 !important;
-}
-
-.syntaxhighlighter .toolbar a
-{
-	color: #646763 !important;
-}
-
-.syntaxhighlighter .toolbar a:hover
-{
-	color: #E0E8FF !important;
-}
-
-/************************************
- * Actual syntax highlighter colors.
- ************************************/
-.syntaxhighlighter .plain,
-.syntaxhighlighter .plain a
-{ 
-	color: #B9BDB6 !important;
-}
-
-.syntaxhighlighter .comments,
-.syntaxhighlighter .comments a
-{ 
-	color: #878A85 !important;
-}
-
-.syntaxhighlighter .string,
-.syntaxhighlighter .string a
-{
-	color: #5CE638 !important; 
-}
-
-.syntaxhighlighter .keyword
-{ 
-	color: #5BA1CF !important; 
-}
-
-.syntaxhighlighter .preprocessor 
-{ 
-	color: #435A5F !important; 
-}
-
-.syntaxhighlighter .variable 
-{ 
-	color: #FFAA3E !important; 
-}
-
-.syntaxhighlighter .value
-{ 
-	color: #090 !important; 
-}
-
-.syntaxhighlighter .functions
-{ 
-	color: #FFAA3E !important; 
-}
-
-.syntaxhighlighter .constants
-{ 
-	color: #E0E8FF !important; 
-}
-
-.syntaxhighlighter .script
-{ 
-	background-color: #435A5F !important;
-}
-
-.syntaxhighlighter .color1,
-.syntaxhighlighter .color1 a
-{ 
-	color: #E0E8FF !important; 
-}
-
-.syntaxhighlighter .color2,
-.syntaxhighlighter .color2 a
-{ 
-	color: #FFFFFF !important; 
-}
-
-.syntaxhighlighter .color3,
-.syntaxhighlighter .color3 a
-{ 
-	color: #FFAA3E !important; 
-}
diff --git a/samples/js-tests/main.js b/samples/js-tests/main.js
index facab6b..839be2a 100644
--- a/samples/js-tests/main.js
+++ b/samples/js-tests/main.js
@@ -27,12 +27,7 @@
 
 cc.game.onStart = function(){
     cc.LoaderScene.preload(g_resources, function () {
-
-        if(window.sidebar){
-            sidebar.start();
-        }else{
-            cc.director.runScene(new TestController());
-        }
+	    cc.director.runScene(new TestController());
     }, this);
 };
 cc.game.run();
diff --git a/samples/js-tests/project.manifest b/samples/js-tests/project.manifest
deleted file mode 100644
index f37ade2..0000000
--- a/samples/js-tests/project.manifest
+++ /dev/null
@@ -1,47 +0,0 @@
-{
-	"remoteManifestUrl" : "http://tools.itharbors.com/assets_manager/project.manifest",
-	"remoteVersionUrl" : "http://tools.itharbors.com/assets_manager/version.manifest",
-	"version" : "1.1.0",
-	"groupVersions" : {
-		"1" : "1.1.0",
-		"2" : "1.0.0"
-	},
-	"engineVersion" : "3.0 alpha2",
-
-	"assets" : {
-		"main_js" : {
-			"path" : "main.js",
-			"md5" : "...",
-			"group" : "1"
-		},
-
-		"close_png" : {
-			"path" : "res/CloseNormal.png",
-			"md5" : "...",
-			"group" : "2"
-		},
-
-		"app_js" : {
-			"compressed" : true,
-			"compressedFile" : "jsfiles",
-			"path" : "src/test-main.js",
-			"md5" : "...",
-			"group" : "1"
-		},
-
-		"enemy_js" : {
-			"compressed" : true,
-			"compressedFile" : "jsfiles",
-			"path" : "src/tests_resources.js",
-			"md5" : "...",
-			"group" : "1"
-		}
-	},
-
-	"compressedFiles" : {
-		"jsfiles" : {
-			"compression" : "zip",
-			"path" : "src/jsfiles.zip"
-		}
-	}
-}
\ No newline at end of file
diff --git a/samples/js-tests/project/Classes/AppDelegate.cpp b/samples/js-tests/project/Classes/AppDelegate.cpp
index 094654d..39ad3c7 100644
--- a/samples/js-tests/project/Classes/AppDelegate.cpp
+++ b/samples/js-tests/project/Classes/AppDelegate.cpp
@@ -23,7 +23,7 @@
 #include "network/jsb_socketio.h"
 #include "cocosbuilder/js_bindings_ccbreader.h"
 
-#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS || CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)
+#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS)
 #include "jsb_cocos2dx_pluginx_auto.hpp"
 #include "jsb_pluginx_extension_registration.h"
 #endif
@@ -60,7 +60,7 @@ bool AppDelegate::applicationDidFinishLaunching()
     director->setAnimationInterval(1.0 / 60);
 
     auto fileUtils = FileUtils::getInstance();
-    std::vector<std::string> searchPaths = fileUtils->getSearchPaths();
+    std::vector<std::string> searchPaths;
     searchPaths.push_back("script");
     searchPaths.push_back("src");
     
@@ -109,7 +109,7 @@ bool AppDelegate::applicationDidFinishLaunching()
     sc->addRegisterCallback(register_all_cocos2dx_spine);
     sc->addRegisterCallback(register_all_cocos2dx_spine_manual);
     
-#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS || CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)
+#if (CC_TARGET_PLATFORM == CC_PLATFORM_IOS)
     sc->addRegisterCallback(register_all_pluginx_protocols);
     sc->addRegisterCallback(register_pluginx_js_extensions);
 #endif
diff --git a/samples/js-tests/project/proj.android/AndroidManifest.xml b/samples/js-tests/project/proj.android/AndroidManifest.xml
index e4d53ef..ae26913 100644
--- a/samples/js-tests/project/proj.android/AndroidManifest.xml
+++ b/samples/js-tests/project/proj.android/AndroidManifest.xml
@@ -28,17 +28,10 @@
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
-        <meta-data android:value="50d2af93527015338b000052" android:name="UMENG_APPKEY"></meta-data>
     </application>
     <supports-screens android:anyDensity="true"
                       android:smallScreens="true"
                       android:normalScreens="true"
                       android:largeScreens="true"
                       android:xlargeScreens="true"/>
-    <uses-permission android:name="android.permission.INTERNET" />
-	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
-    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
-    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
-    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
-    <uses-permission android:name="android.permission.READ_LOGS" />
 </manifest>
diff --git a/samples/js-tests/project/proj.android/build-cfg.json b/samples/js-tests/project/proj.android/build-cfg.json
index 48bc01c..48f9e78 100644
--- a/samples/js-tests/project/proj.android/build-cfg.json
+++ b/samples/js-tests/project/proj.android/build-cfg.json
@@ -21,32 +21,10 @@
         {
             "from": "../../../../frameworks/js-bindings/bindings/script", 
             "to": ""
-        },
-        {
-            "from": "../../../../frameworks/js-bindings/cocos2d-x/plugin/jsbindings/script", 
-            "to": ""
-        },
-        {
-            "from": "../../../../frameworks/js-bindings/cocos2d-x/plugin/protocols/proj.android/src", 
-            "to": "../src"
-        },
-        {
-            "from": "../../../../frameworks/js-bindings/cocos2d-x/plugin/plugins/umeng/proj.android/src", 
-            "to": "../src"
-        },
-        {
-            "from": "../../../../frameworks/js-bindings/cocos2d-x/plugin/plugins/umeng/proj.android/sdk", 
-            "to": "../libs"
-        },
-        {
-            "from": "../../../../frameworks/js-bindings/cocos2d-x/plugin/plugins/flurry/proj.android/src", 
-            "to": "../src"
-        },
-        {
-            "from": "../../../../frameworks/js-bindings/cocos2d-x/plugin/plugins/flurry/proj.android/sdk", 
-            "to": "../libs"
         }
     ], 
+    "key_store": "/Users/cocos2d-x/Desktop/for_sign/punchbox.keystore", 
+    "key_store_pass": "w3297825w", 
     "ndk_module_path": [
         "../../../../frameworks/js-bindings", 
         "../../../../frameworks/js-bindings/cocos2d-x", 
diff --git a/samples/js-tests/project/proj.android/jni/Android.mk b/samples/js-tests/project/proj.android/jni/Android.mk
index 626341f..8545a34 100644
--- a/samples/js-tests/project/proj.android/jni/Android.mk
+++ b/samples/js-tests/project/proj.android/jni/Android.mk
@@ -20,7 +20,6 @@ LOCAL_WHOLE_STATIC_LIBRARIES += jsb_builder_static
 LOCAL_WHOLE_STATIC_LIBRARIES += jsb_ui_static
 LOCAL_WHOLE_STATIC_LIBRARIES += jsb_studio_static
 LOCAL_WHOLE_STATIC_LIBRARIES += jsb_spine_static
-LOCAL_WHOLE_STATIC_LIBRARIES += jsb_pluginx_static
 
 
 LOCAL_EXPORT_CFLAGS := -DCOCOS2D_DEBUG=1
@@ -36,4 +35,3 @@ $(call import-module,bindings/manual/cocosbuilder)
 $(call import-module,bindings/manual/ui)
 $(call import-module,bindings/manual/cocostudio)
 $(call import-module,bindings/manual/spine)
-$(call import-module,cocos2d-x/plugin/jsbindings)
diff --git a/samples/js-tests/project/proj.android/jni/main.cpp b/samples/js-tests/project/proj.android/jni/main.cpp
index 32ccb21..26fe88c 100644
--- a/samples/js-tests/project/proj.android/jni/main.cpp
+++ b/samples/js-tests/project/proj.android/jni/main.cpp
@@ -1,9 +1,8 @@
 #include "AppDelegate.h"
 #include "cocos2d.h"
-#include "platform/android/jni/JniHelper.h"
+#include "2d/platform/android/jni/JniHelper.h"
 #include <jni.h>
 #include <android/log.h>
-#include "PluginJniHelper.h"
 
 #define  LOG_TAG    "main"
 #define  LOGD(...)  __android_log_print(ANDROID_LOG_DEBUG,LOG_TAG,__VA_ARGS__)
@@ -13,7 +12,4 @@ using namespace cocos2d;
 void cocos_android_app_init (JNIEnv* env, jobject thiz) {
     LOGD("cocos_android_app_init");
     AppDelegate *pAppDelegate = new AppDelegate();
-    JavaVM* vm;
-    env->GetJavaVM(&vm);
-    PluginJniHelper::setJavaVM(vm);
 }
diff --git a/samples/js-tests/project/proj.android/project.properties b/samples/js-tests/project/proj.android/project.properties
index 43cac9e..cd98da2 100644
--- a/samples/js-tests/project/proj.android/project.properties
+++ b/samples/js-tests/project/proj.android/project.properties
@@ -10,4 +10,4 @@
 # Project target.
 target=android-10
 
-android.library.reference.1=../../../../frameworks/js-bindings/cocos2d-x/cocos/platform/android/java
+android.library.reference.1=../../../../frameworks/js-bindings/cocos2d-x/cocos/2d/platform/android/java
diff --git a/samples/js-tests/project/proj.android/src/org/cocos2dx/js_tests/AppActivity.java b/samples/js-tests/project/proj.android/src/org/cocos2dx/js_tests/AppActivity.java
index 541fa03..6521962 100644
--- a/samples/js-tests/project/proj.android/src/org/cocos2dx/js_tests/AppActivity.java
+++ b/samples/js-tests/project/proj.android/src/org/cocos2dx/js_tests/AppActivity.java
@@ -25,16 +25,13 @@ package org.cocos2dx.js_tests;
 
 import org.cocos2dx.lib.Cocos2dxActivity;
 import org.cocos2dx.lib.Cocos2dxGLSurfaceView;
-import org.cocos2dx.plugin.PluginWrapper;
 
 public class AppActivity extends Cocos2dxActivity {
     public Cocos2dxGLSurfaceView onCreateView() {
         Cocos2dxGLSurfaceView glSurfaceView = new Cocos2dxGLSurfaceView(this);
         // TestCpp should create stencil buffer
         glSurfaceView.setEGLConfigChooser(5, 6, 5, 0, 16, 8);
-
-        PluginWrapper.init(this);
-        PluginWrapper.setGLSurfaceView(glSurfaceView);
+        
         return glSurfaceView;
     }
 }
diff --git a/samples/js-tests/project/proj.win32/js-tests.vcxproj b/samples/js-tests/project/proj.win32/js-tests.vcxproj
index 21703c8..f6ef2bf 100644
--- a/samples/js-tests/project/proj.win32/js-tests.vcxproj
+++ b/samples/js-tests/project/proj.win32/js-tests.vcxproj
@@ -79,7 +79,7 @@
     </Midl>
     <ClCompile>
       <Optimization>Disabled</Optimization>
-      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;_DEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_DEBUG=1;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <MinimalRebuild>false</MinimalRebuild>
       <BasicRuntimeChecks>EnableFastChecks</BasicRuntimeChecks>
@@ -138,7 +138,7 @@ copy "$(ProjectDir)..\..\project.json" "$(OutDir)\js-tests-res"</Command>
       <ProxyFileName>js-tests_p.c</ProxyFileName>
     </Midl>
     <ClCompile>
-      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)cocos\audio\include;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;$(ProjectDir)..\Classes;$(ProjectDir)..\..\..\..\frameworks\js-bindings\external\spidermonkey\include\win32;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\auto;$(ProjectDir)..\..\..\..\frameworks\js-bindings\bindings\manual;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;NDEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <ExceptionHandling>
       </ExceptionHandling>
diff --git a/samples/js-tests/src/ActionManagerTest/ActionManagerTest.js b/samples/js-tests/src/ActionManagerTest/ActionManagerTest.js
index e045358..4f526df 100644
--- a/samples/js-tests/src/ActionManagerTest/ActionManagerTest.js
+++ b/samples/js-tests/src/ActionManagerTest/ActionManagerTest.js
@@ -84,12 +84,11 @@ var CrashTest = ActionManagerTest.extend({
         return "Test 1. Should not crash";
     },
     onEnter:function () {
-        //----start0----onEnter
         this._super();
 
         var child = cc.Sprite.create(s_pathGrossini);
         child.x = 200;
-        child.y = 200;
+	    child.y = 200;
         this.addChild(child, 1);
 
         //Sum of all action's duration is 1.5 second.
@@ -100,18 +99,15 @@ var CrashTest = ActionManagerTest.extend({
         );
 
         //After 1.5 second, self will be removed.
-        //this.runAction(cc.Sequence.create(
-        //    cc.DelayTime.create(1.4),
-        //    cc.CallFunc.create(this.onRemoveThis, this))
-        //);
-        //----end0----
+        this.runAction(cc.Sequence.create(
+            cc.DelayTime.create(1.4),
+            cc.CallFunc.create(this.onRemoveThis, this))
+        );
     },
 
     onRemoveThis:function () {
-        //----start0----onRemoveThis
         this.parent.removeChild(this);
         this.onNextCallback(this);
-        //----end0----
     },
 
     //
@@ -137,7 +133,6 @@ var LogicTest = ActionManagerTest.extend({
         return "Logic test";
     },
     onEnter:function () {
-        //----start1----onEnter
         this._super();
 
         var grossini = cc.Sprite.create(s_pathGrossini);
@@ -157,13 +152,11 @@ var LogicTest = ActionManagerTest.extend({
         if ( autoTestEnabled ) {
             this._grossini = grossini;
         }
-        //----end1----
+
     },
     onBugMe:function (node) {
-        //----start1----onBugMe
         node.stopAllActions(); //After this stop next action not working, if remove this stop everything is working
         node.runAction(cc.ScaleTo.create(2, 2));
-        //----end1----
     },
 
     //
@@ -190,7 +183,6 @@ var PauseTest = ActionManagerTest.extend({
         return "Pause Test";
     },
     onEnter:function () {
-        //----start2----onEnter
         //
         // This test MUST be done in 'onEnter' and not on 'init'
         // otherwise the paused action will be resumed at 'onEnter' time
@@ -226,15 +218,12 @@ var PauseTest = ActionManagerTest.extend({
             this.scheduleOnce(this.checkControl2, 4.5);
             this._grossini = grossini;
         }
-        //----end2----
     },
 
     onUnpause:function (dt) {
-        //----start2----onUnpause
         this.unschedule(this.onUnpause);
         var node = this.getChildByTag(TAG_GROSSINI);
         director.getActionManager().resumeTarget(node);
-        //----end2----
     },
 
     //
@@ -267,7 +256,6 @@ var RemoveTest = ActionManagerTest.extend({
         return "Remove Test";
     },
     onEnter:function () {
-        //----start3----onEnter
         this._super();
 
         var s = director.getWinSize();
@@ -287,14 +275,11 @@ var RemoveTest = ActionManagerTest.extend({
 
         this.addChild(child, 1, TAG_GROSSINI);
         child.runAction(sequence);
-        //----end3----
     },
 
     stopAction:function () {
-        //----start3----onEnter
         var sprite = this.getChildByTag(TAG_GROSSINI);
         sprite.stopActionByTag(TAG_SEQUENCE);
-        //----end3----
     },
 
     //
@@ -319,7 +304,6 @@ var ResumeTest = ActionManagerTest.extend({
         return "Resume Test";
     },
     onEnter:function () {
-        //----start4----onEnter
         this._super();
 
         var s = director.getWinSize();
@@ -340,16 +324,13 @@ var ResumeTest = ActionManagerTest.extend({
         grossini.runAction(cc.RotateBy.create(2, 360));
 
         this.schedule(this.resumeGrossini, 3.0);
-        //----end4----
 
     },
     resumeGrossini:function (time) {
-        //----start4----resumeGrossini
         this.unschedule(this.resumeGrossini);
 
         var grossini = this.getChildByTag(TAG_GROSSINI);
         director.getActionManager().resumeTarget(grossini);
-        //----end4----
     },
 
     //
@@ -381,8 +362,8 @@ var ResumeTest = ActionManagerTest.extend({
 });
 
 var ActionManagerTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        ActionMgrTestIdx = (num || 0) - 1;
+    runThisTest:function () {
+        ActionMgrTestIdx = -1;
         this.addChild(nextActionMgrTest());
         director.runScene(this);
     }
@@ -401,17 +382,10 @@ var arrayOfActionMgrTest = [
     ResumeTest
 ];
 
-var nextActionMgrTest = function (num) {
-
-    ActionMgrTestIdx = num ? num - 1 : ActionMgrTestIdx;
-
+var nextActionMgrTest = function () {
     ActionMgrTestIdx++;
     ActionMgrTestIdx = ActionMgrTestIdx % arrayOfActionMgrTest.length;
 
-    if(window.sidebar){
-        ActionMgrTestIdx = window.sidebar.changeTest(ActionMgrTestIdx, 0);
-    }
-
     return new arrayOfActionMgrTest[ActionMgrTestIdx]();
 };
 var previousActionMgrTest = function () {
@@ -419,14 +393,8 @@ var previousActionMgrTest = function () {
     if (ActionMgrTestIdx < 0)
         ActionMgrTestIdx += arrayOfActionMgrTest.length;
 
-    if(window.sidebar){
-        ActionMgrTestIdx = window.sidebar.changeTest(ActionMgrTestIdx, 0);
-    }
-
     return new arrayOfActionMgrTest[ActionMgrTestIdx]();
 };
 var restartActionMgrTest = function () {
-
-
     return new arrayOfActionMgrTest[ActionMgrTestIdx]();
 };
diff --git a/samples/js-tests/src/ActionsTest/ActionsTest.js b/samples/js-tests/src/ActionsTest/ActionsTest.js
index 0591bee..b5b4063 100644
--- a/samples/js-tests/src/ActionsTest/ActionsTest.js
+++ b/samples/js-tests/src/ActionsTest/ActionsTest.js
@@ -35,8 +35,8 @@ var SPRITE_KATHIA_TAG = 3;
 // every Scene each test used must inherit from TestScene,
 // make sure the test have the menu item for back to main menu
 var ActionsTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        actionsTestIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        actionsTestIdx = -1;
         this.addChild(nextActionsTest());
         director.runScene(this);
     }
@@ -64,6 +64,7 @@ var ActionsDemo = BaseTestLayer.extend({
 		this._tamara.y = 2 * s.height / 3;
         this._kathia.x = s.width / 2;
 		this._kathia.y = s.height / 2;
+
     },
 
     centerSprites:function (numberOfSprites) {
@@ -96,7 +97,6 @@ var ActionsDemo = BaseTestLayer.extend({
         }
     },
     alignSpritesLeft:function (numberOfSprites) {
-        //----start47----onEnter
         var s = director.getWinSize();
 
         if (numberOfSprites == 1) {
@@ -120,7 +120,6 @@ var ActionsDemo = BaseTestLayer.extend({
             this._kathia.x = 60;
 			this._kathia.y = s.height / 3;
         }
-        //----end47----
     },
     title:function () {
         return "ActionsTest";
@@ -163,7 +162,6 @@ var ActionManual = ActionsDemo.extend({
         "sprite.scale = 2;",
 
     onEnter:function () {
-        //----start0----onEnter
         this._super();
 
         this._tamara.attr({
@@ -184,7 +182,6 @@ var ActionManual = ActionsDemo.extend({
         this._kathia.x = winSize.width - 100;
 		this._kathia.y = winSize.height / 2;
         this._kathia.color = cc.color(0, 0, 255);
-        //----end0----
     },
 
     title:function () {
@@ -232,7 +229,6 @@ var ActionMove = ActionsDemo.extend({
         "a = cc.MoveTo.create( time, cc.p(x,y) );",
 
     onEnter:function () {
-        //----start1----onEnter
         this._super();
 
         this.centerSprites(3);
@@ -246,7 +242,6 @@ var ActionMove = ActionsDemo.extend({
         this._tamara.runAction(actionTo);
         this._grossini.runAction(cc.Sequence.create(actionBy, actionByBack));
         this._kathia.runAction(cc.MoveTo.create(1, cc.p(40, 40)));
-        //----end1----
     },
     title:function () {
         return "cc.MoveTo / cc.MoveBy";
@@ -283,7 +278,6 @@ var ActionScale = ActionsDemo.extend({
         "a = cc.ScaleTo.create( time, scaleX, scaleY );",
 
     onEnter:function () {
-        //----start2----onEnter
         this._super();
 
         this.centerSprites(3);
@@ -296,7 +290,6 @@ var ActionScale = ActionsDemo.extend({
         this._kathia.runAction(cc.Sequence.create(actionBy2, cc.DelayTime.create(0.25), actionBy2.reverse()));
         this._grossini.runAction(cc.Sequence.create(actionBy, cc.DelayTime.create(0.25), actionBy.reverse()));
 
-        //----end2----
     },
     title:function () {
         return "cc.ScaleTo / cc.ScaleBy";
@@ -333,7 +326,6 @@ var ActionRotate = ActionsDemo.extend({
             "a = cc.RotateTo.create( time, degrees );",
 
     onEnter:function () {
-        //----start3----onEnter
         this._super();
         this.centerSprites(3);
         var actionTo = cc.RotateTo.create(2, 45);
@@ -347,7 +339,6 @@ var ActionRotate = ActionsDemo.extend({
 
         this._kathia.runAction(cc.Sequence.create(actionTo2, cc.DelayTime.create(0.25), actionTo0.clone()));
 
-        //----end3----
     },
     title:function () {
         return "cc.RotateTo / cc.RotateBy";
@@ -379,7 +370,6 @@ var ActionRotate = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionRotateXY = ActionsDemo.extend({
     onEnter:function () {
-        //----start4----onEnter
         this._super();
         this.centerSprites(3);
         var actionTo = cc.RotateTo.create(2, 37.2, -37.2);
@@ -400,7 +390,6 @@ var ActionRotateXY = ActionsDemo.extend({
 			label.y = winSize.height / 2 + 50;
             this.addChild(label, 100);
         }
-        //----end4----
     },
     title:function () {
         return "cc.RotateBy(x,y) / cc.RotateTo(x,y)";
@@ -440,7 +429,6 @@ var ActionSkew = ActionsDemo.extend({
         "a = cc.SkewTo.create( time, skewX, skewY );",
 
     onEnter:function () {
-        //----start5----onEnter
         this._super();
         this.centerSprites(3);
         var actionTo = cc.SkewTo.create(2, 37.2, -37.2);
@@ -454,7 +442,6 @@ var ActionSkew = ActionsDemo.extend({
         this._grossini.runAction(cc.Sequence.create(actionBy, delay.clone(), actionBy.reverse()));
 
         this._kathia.runAction(cc.Sequence.create(actionBy2, delay.clone(), actionBy2.reverse()));
-        //----end5----
     },
     title:function () {
         return "cc.SkewTo / cc.SkewBy";
@@ -485,7 +472,6 @@ var ActionSkew = ActionsDemo.extend({
 
 var ActionSkewRotateScale = ActionsDemo.extend({
     onEnter:function () {
-        //----start6----onEnter
         this._super();
 
         this.centerSprites(0);
@@ -535,7 +521,6 @@ var ActionSkewRotateScale = ActionsDemo.extend({
         box.runAction(cc.Sequence.create(actionScaleTo, delay.clone(), actionScaleToBack));
 
         this.box = box;
-        //----end6----
     },
     title:function () {
         return "Skew + Rotate + Scale";
@@ -572,7 +557,6 @@ var ActionJump = ActionsDemo.extend({
         "a = cc.JumpTo.create( time, point, height, #_of_jumps );",
 
     onEnter:function () {
-        //----start7----onEnter
         this._super();
         this.centerSprites(3);
 
@@ -585,10 +569,10 @@ var ActionJump = ActionsDemo.extend({
 
         this._tamara.runAction(actionTo);
         this._grossini.runAction(cc.Sequence.create(actionBy, delay, actionByBack));
+        this._kathia.runAction(cc.RepeatForever.create(
+            cc.Sequence.create(actionUp, delay.clone() )
+                ) );
 
-        var action = cc.Sequence.create(actionUp, delay.clone()).repeatForever();
-        this._kathia.runAction(action);
-        //----end7----
     },
     title:function () {
         return "cc.JumpTo / cc.JumpBy";
@@ -625,8 +609,6 @@ var ActionJump = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionBezier = ActionsDemo.extend({
     onEnter:function () {
-        //----start8----onEnter
-
         this._super();
         var s = director.getWinSize();
 
@@ -647,7 +629,10 @@ var ActionBezier = ActionsDemo.extend({
                                 cc.p(300, 100) ];
 
         var bezierForward = cc.BezierBy.create(2, controlPoints);
-        var rep = cc.Sequence.create(bezierForward, delay, bezierForward.reverse(), delay.clone()).repeatForever();
+        var rep = cc.RepeatForever.create(
+            cc.Sequence.create(
+                bezierForward, delay, bezierForward.reverse(), delay.clone()
+            ));
 
         // sprite 2
         this._tamara.x = 80;
@@ -668,7 +653,6 @@ var ActionBezier = ActionsDemo.extend({
         this._grossini.runAction(rep);
         this._tamara.runAction(bezierTo1);
         this._kathia.runAction(bezierTo2);
-        //----end8----
     },
     title:function () {
         return "cc.BezierBy / cc.BezierTo";
@@ -724,7 +708,6 @@ var ActionBezier = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionBezierToCopy = ActionsDemo.extend({
     onEnter:function () {
-        //----start9----onEnter
         this._super();
 
         //
@@ -751,7 +734,7 @@ var ActionBezierToCopy = ActionsDemo.extend({
 
         this._tamara.runAction(bezierTo1);
         this._kathia.runAction(bezierTo2);
-        //----end9----
+
     },
     title:function () {
         return "cc.BezierTo copy test";
@@ -767,8 +750,6 @@ var ActionBezierToCopy = ActionsDemo.extend({
 //------------------------------------------------------------------
 var Issue1008 = ActionsDemo.extend({
     onEnter:function () {
-
-        //----start10----onEnter
         this._super();
 
         this.centerSprites(1);
@@ -787,11 +768,9 @@ var Issue1008 = ActionsDemo.extend({
         var trace = cc.CallFunc.create(this.onTrace, this);
         var delay = cc.DelayTime.create(0.25);
 
-        var rep = cc.Sequence.create(bz1, bz2, trace,delay).repeatForever();
-        this._grossini.runAction(rep);
-
-        //----end10----
+        var rep = cc.RepeatForever.create(cc.Sequence.create(bz1, bz2, trace,delay));
 
+        this._grossini.runAction(rep);
         //this._grossini.runAction(cc.Sequence.create(bz1, bz2, trace,delay));
 
     },
@@ -831,7 +810,6 @@ var ActionBlink = ActionsDemo.extend({
     _code:"a = cc.Blink.create( time, #_of_blinks );",
 
     onEnter:function () {
-        //----start13----onEnter
         this._super();
         this.centerSprites(2);
 
@@ -840,7 +818,6 @@ var ActionBlink = ActionsDemo.extend({
 
         this._tamara.runAction(action1);
         this._kathia.runAction(action2);
-        //----end13----
     },
     title:function () {
         return "cc.Blink";
@@ -877,7 +854,6 @@ var ActionFade = ActionsDemo.extend({
         "a = cc.FadeOut.create( time );",
 
     onEnter:function () {
-        //----start14----onEnter
         this._super();
         this.centerSprites(2);
         var delay = cc.DelayTime.create(0.25);
@@ -890,7 +866,7 @@ var ActionFade = ActionsDemo.extend({
 
         this._tamara.runAction(cc.Sequence.create(action1, delay, action1Back));
         this._kathia.runAction(cc.Sequence.create(action2, delay.clone(), action2Back));
-        //----end14----
+
 
     },
     title:function () {
@@ -923,8 +899,6 @@ var ActionTint = ActionsDemo.extend({
         "a = cc.TintTo.create( time, red, green, blue );",
 
     onEnter:function () {
-
-        //----start15----onEnter
         this._super();
         this.centerSprites(2);
 
@@ -934,7 +908,6 @@ var ActionTint = ActionsDemo.extend({
 
         this._tamara.runAction(action1);
         this._kathia.runAction(cc.Sequence.create(action2, cc.DelayTime.create(0.25), action2Back));
-        //----end15----
 
     },
     title:function () {
@@ -964,8 +937,6 @@ var ActionTint = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionAnimate = ActionsDemo.extend({
     onEnter:function () {
-
-        //----start44----onEnter
         this._super();
         this.centerSprites(3);
 
@@ -1004,7 +975,6 @@ var ActionAnimate = ActionsDemo.extend({
 
         var action3 = cc.Animate.create(animation3);
         this._kathia.runAction(action3);
-        //----end44----
     },
 
     title:function () {
@@ -1025,7 +995,6 @@ var ActionSequence = ActionsDemo.extend({
     _code:"a = cc.Sequence.create( a1, a2, a3,..., aN);",
 
     onEnter:function () {
-        //----start16----onEnter
         this._super();
         this.alignSpritesLeft(1);
 
@@ -1035,7 +1004,7 @@ var ActionSequence = ActionsDemo.extend({
         );
 
         this._grossini.runAction(action);
-        //----end16----
+
     },
     title:function () {
         return "cc.Sequence: Move + Rotate";
@@ -1062,8 +1031,6 @@ var ActionSequence = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionSequence2 = ActionsDemo.extend({
     onEnter:function () {
-
-        //----start17----onEnter
         this._super();
         this.centerSprites(1);
         this._grossini.visible = false;
@@ -1077,7 +1044,7 @@ var ActionSequence2 = ActionsDemo.extend({
         this._grossini.runAction(action);
 
         this.called1 = this.called2 = this.called3 = false;
-        //----end17----
+
     },
     onCallback1:function () {
         var s = director.getWinSize();
@@ -1137,7 +1104,6 @@ var ActionCallFunc1 = ActionsDemo.extend({
         "a = cc.CallFunc.create( this.callback, this, optional_arg );",
 
     onEnter:function () {
-        //----start25----onEnter
         this._super();
         this.centerSprites(3);
 
@@ -1162,7 +1128,6 @@ var ActionCallFunc1 = ActionsDemo.extend({
         this._grossini.runAction(action);
         this._tamara.runAction(action2);
         this._kathia.runAction(action3);
-        //----end25----
 
     },
     onCallback1:function (nodeExecutingAction, value) {
@@ -1219,7 +1184,6 @@ var ActionCallFunc1 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionCallFunc2 = ActionsDemo.extend({
     onEnter:function () {
-        //----start26----onEnter
         this._super();
         this.centerSprites(1);
 
@@ -1227,7 +1191,6 @@ var ActionCallFunc2 = ActionsDemo.extend({
             cc.CallFunc.create(this.removeFromParentAndCleanup, this._grossini, true));
 
         this._grossini.runAction(action);
-        //----end26----
     },
 
     removeFromParentAndCleanup:function (nodeExecutingAction, data) {
@@ -1264,7 +1227,6 @@ var ActionCallFunc2 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionCallFunc3 = ActionsDemo.extend({
     onEnter:function () {
-        //----start27----onEnter
         this._super();
         this.centerSprites(1);
 
@@ -1274,7 +1236,6 @@ var ActionCallFunc3 = ActionsDemo.extend({
         }, this, "Hello world");
 
         this.runAction(action);
-        //----end27----
     },
 
     title:function () {
@@ -1310,8 +1271,6 @@ var ActionSpawn = ActionsDemo.extend({
     _code:"a = cc.Spawn.create( a1, a2, ..., aN );",
 
     onEnter:function () {
-
-        //----start18----onEnter
         this._super();
         this.alignSpritesLeft(1);
 
@@ -1320,7 +1279,6 @@ var ActionSpawn = ActionsDemo.extend({
             cc.RotateBy.create(2, 720));
 
         this._grossini.runAction(action);
-        //----end18----
 
     },
     title:function () {
@@ -1350,7 +1308,6 @@ var ActionRepeatForever = ActionsDemo.extend({
     _code:"a = cc.RepeatForever.create( action_to_repeat );",
 
     onEnter:function () {
-        //----start22----onEnter
         this._super();
         this.centerSprites(1);
         var action = cc.Sequence.create(
@@ -1358,11 +1315,11 @@ var ActionRepeatForever = ActionsDemo.extend({
             cc.CallFunc.create(this.repeatForever));    // not passing 'this' since it is not used by the callback func
 
         this._grossini.runAction(action);
-        //----end22----
+
 
     },
     repeatForever:function (sender) {
-        var repeat = cc.RotateBy.create(1, 360).repeatForever();
+        var repeat = cc.RepeatForever.create(cc.RotateBy.create(1, 360));
         sender.runAction(repeat);
     },
     title:function () {
@@ -1395,18 +1352,17 @@ var ActionRotateToRepeat = ActionsDemo.extend({
     _code:"a = cc.Repeat.create( action_to_repeat, #_of_times );",
 
     onEnter:function () {
-        //----start23----onEnter
         this._super();
         this.centerSprites(2);
 
         var act1 = cc.RotateTo.create(0.5, 90);
         var act2 = cc.RotateTo.create(0.5, 0);
         var seq = cc.Sequence.create(act1, act2);
-        var seq2 = seq.clone();
+        var rep1 = cc.RepeatForever.create(seq);
+        var rep2 = cc.Repeat.create((seq.clone()), 4);
 
-        this._tamara.runAction(seq.repeatForever());
-        this._kathia.runAction(seq.repeat(4));
-        //----end23----
+        this._tamara.runAction(rep1);
+        this._kathia.runAction(rep2);
 
     },
     title:function () {
@@ -1438,18 +1394,17 @@ var ActionRotateToRepeat = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionRotateJerk = ActionsDemo.extend({
     onEnter:function () {
-        //----start24----onEnter
         this._super();
         this.centerSprites(2);
         var seq = cc.Sequence.create(
             cc.RotateTo.create(0.5, -20),
             cc.RotateTo.create(0.5, 20));
 
-        var rep1 = seq.repeat(10);
-        var rep2 = seq.clone().repeatForever();
+        var rep1 = cc.Repeat.create(seq, 10);
+        var rep2 = cc.RepeatForever.create((seq.clone()));
+
         this._tamara.runAction(rep1);
         this._kathia.runAction(rep2);
-        //----end24----
     },
     title:function () {
         return "RepeatForever / Repeat + Rotate";
@@ -1465,8 +1420,6 @@ var ActionReverse = ActionsDemo.extend({
     _code:"a = action.reverse();",
 
     onEnter:function () {
-
-        //----start19----onEnter
         this._super();
         this.alignSpritesLeft(1);
 
@@ -1475,7 +1428,6 @@ var ActionReverse = ActionsDemo.extend({
         var action = cc.Sequence.create(jump, delay, jump.reverse());
 
         this._grossini.runAction(action);
-        //----end19----
     },
     title:function () {
         return "Reverse Jump action";
@@ -1513,7 +1465,6 @@ var ActionDelayTime = ActionsDemo.extend({
     _code:"a = cc.DelayTime.create( time );",
 
     onEnter:function () {
-        //----start20----onEnter
         this._super();
         this.alignSpritesLeft(1);
 
@@ -1521,7 +1472,6 @@ var ActionDelayTime = ActionsDemo.extend({
         var action = cc.Sequence.create(move, cc.DelayTime.create(2), move.clone());
 
         this._grossini.runAction(action);
-        //----end20----
     },
     title:function () {
         return "DelayTime: m + delay + m";
@@ -1547,8 +1497,6 @@ var ActionDelayTime = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionReverseSequence = ActionsDemo.extend({
     onEnter:function () {
-
-        //----start28----onEnter
         this._super();
         this.alignSpritesLeft(1);
 
@@ -1558,7 +1506,6 @@ var ActionReverseSequence = ActionsDemo.extend({
         var action = cc.Sequence.create(seq, seq.reverse());
 
         this._grossini.runAction(action);
-        //----end28----
 
     },
     subtitle:function () {
@@ -1572,8 +1519,6 @@ var ActionReverseSequence = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionReverseSequence2 = ActionsDemo.extend({
     onEnter:function () {
-
-        //----start29----onEnter
         this._super();
         this.alignSpritesLeft(2);
 
@@ -1585,8 +1530,9 @@ var ActionReverseSequence2 = ActionsDemo.extend({
         var tog1 = cc.ToggleVisibility.create();
         var tog2 = cc.ToggleVisibility.create();
         var seq = cc.Sequence.create(move1, tog1, move2, tog2, move1.reverse());
-
-        var action = cc.Sequence.create(seq, seq.reverse()).repeat(3);
+        var action = cc.Repeat.create(
+            cc.Sequence.create(seq, seq.reverse()), 3
+        );
 
 
         // Test:
@@ -1599,7 +1545,6 @@ var ActionReverseSequence2 = ActionsDemo.extend({
         var seq_tamara = cc.Sequence.create(move_tamara, hide, move_tamara2);
         var seq_back = seq_tamara.reverse();
         this._tamara.runAction(cc.Sequence.create(seq_tamara, seq_back));
-        //----end29----
     },
     subtitle:function () {
         return "Reverse sequence 2";
@@ -1612,19 +1557,20 @@ var ActionReverseSequence2 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionRepeat = ActionsDemo.extend({
     onEnter:function () {
-        //----start21----onEnter
         this._super();
         this.alignSpritesLeft(2);
 
 
         var a1 = cc.MoveBy.create(1, cc.p(150, 0));
-
-        var action1 = cc.Sequence.create(cc.Place.create(cc.p(60, 60)), a1).repeat(3);
-        var action2 = cc.Sequence.create( a1.clone(), a1.reverse(), cc.DelayTime.create(0.25)).repeatForever();
+        var action1 = cc.Repeat.create(
+            cc.Sequence.create(cc.Place.create(cc.p(60, 60)), a1),
+            3);
+        var action2 = cc.RepeatForever.create(
+            cc.Sequence.create( a1.clone(), a1.reverse(), cc.DelayTime.create(0.25) )
+        );
 
         this._kathia.runAction(action1);
         this._tamara.runAction(action2);
-        //----end21----
     },
     title:function () {
         return "Repeat / RepeatForever actions";
@@ -1670,16 +1616,14 @@ var ActionOrbit = ActionsDemo.extend({
             orbit3,
             orbit3.reverse());
 
-        this._kathia.runAction(action1.repeatForever());
-        this._tamara.runAction(action2.repeatForever());
-        this._grossini.runAction(action3.repeatForever());
+        this._kathia.runAction(cc.RepeatForever.create(action1));
+        this._tamara.runAction(cc.RepeatForever.create(action2));
+        this._grossini.runAction(cc.RepeatForever.create(action3));
 
         var move = cc.MoveBy.create(3, cc.p(100, -100));
         var move_back = move.reverse();
         var seq = cc.Sequence.create(move, move_back);
-
-        var rfe = seq.repeatForever();
-
+        var rfe = cc.RepeatForever.create(seq);
         this._kathia.runAction(rfe);
         this._tamara.runAction((rfe.clone()));
         this._grossini.runAction((rfe.clone()));
@@ -1696,8 +1640,6 @@ var ActionOrbit = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionFollow = ActionsDemo.extend({
     onEnter:function () {
-
-        //----start30----onEnter
         this._super();
         this.centerSprites(1);
         var s = director.getWinSize();
@@ -1707,13 +1649,11 @@ var ActionFollow = ActionsDemo.extend({
         var move = cc.MoveBy.create(2, cc.p(s.width * 3, 0));
         var move_back = move.reverse();
         var seq = cc.Sequence.create(move, move_back);
-
-        var rep = seq.repeatForever();
+        var rep = cc.RepeatForever.create(seq);
 
         this._grossini.runAction(rep);
 
         this.runAction(cc.Follow.create(this._grossini, cc.rect(0, 0, s.width * 2 - 100, s.height)));
-        //----end30----
     },
     subtitle:function () {
         return "Follow action";
@@ -1753,8 +1693,6 @@ var ActionCardinalSpline = ActionsDemo.extend({
     },
 
     onEnter:function () {
-
-        //----start11----onEnter
         this._super();
         var winSize = cc.director.getWinSize();
         this.centerSprites(2);
@@ -1797,7 +1735,6 @@ var ActionCardinalSpline = ActionsDemo.extend({
 
         this._drawNode1.drawCardinalSpline(array, 0, 100, 1);
         this._drawNode2.drawCardinalSpline(array, 1, 100, 1);
-        //----end11----
     },
 
     subtitle:function () {
@@ -1889,8 +1826,6 @@ var ActionCatmullRom = ActionsDemo.extend({
     },
 
     onEnter:function () {
-
-        //----start12----onEnter
         this._super();
 
         this.centerSprites(2);
@@ -1944,7 +1879,6 @@ var ActionCatmullRom = ActionsDemo.extend({
 
         this._drawNode1.drawCatmullRom(array,50, 1);
         this._drawNode2.drawCatmullRom(array2,50, 1);
-        //----end12----
     },
     subtitle:function () {
         return "Catmull Rom spline paths. Testing reverse too";
@@ -2017,7 +1951,6 @@ var ActionTargeted = ActionsDemo.extend({
     _code:"a = cc.TargetedAction.create( target, action );",
 
     onEnter:function () {
-        //----start31----onEnter
         this._super();
         this.centerSprites(2);
 
@@ -2030,11 +1963,9 @@ var ActionTargeted = ActionsDemo.extend({
         var t2 = cc.TargetedAction.create(this._kathia, rot2);
 
         var seq = cc.Sequence.create(jump1, t1, rot1, t2);
-
-        var always = seq.repeatForever();
+        var always = cc.RepeatForever.create(seq);
 
         this._tamara.runAction(always);
-        //----end31----
     },
     title:function () {
         return "Action that runs on another target. Useful for sequences";
@@ -2051,7 +1982,6 @@ var ActionTargeted = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionTargetedCopy = ActionsDemo.extend({
     onEnter:function () {
-        //----start32----onEnter
         this._super();
         this.centerSprites(2);
 
@@ -2064,7 +1994,6 @@ var ActionTargetedCopy = ActionsDemo.extend({
         var seq = cc.Sequence.create(jump1, t_copy);
 
         this._tamara.runAction(seq);
-        //----end32----
     },
     title:function () {
         return "Action that runs on another target. Useful for sequences";
@@ -2081,7 +2010,6 @@ var ActionTargetedCopy = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionStackableMove = ActionsDemo.extend({
     onEnter:function () {
-        //----start33----onEnter
         this._super();
         this.centerSprites(1);
 
@@ -2093,16 +2021,16 @@ var ActionStackableMove = ActionsDemo.extend({
         var move_back = move.reverse();
         var delay = cc.DelayTime.create(0.25);
         var move_seq = cc.Sequence.create( move, move_back );
-        var move_rep = move_seq.repeatForever();
+        var move_rep = cc.RepeatForever.create( move_seq );
         this._grossini.runAction( move_rep );
 
         // move
         var action = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var back = action.reverse();
         var seq = cc.Sequence.create(action, back);
-        var repeat = seq.repeatForever();
+        var repeat = cc.RepeatForever.create(seq);
         this._grossini.runAction(repeat);
-        //----end33----
+
 
     },
     title:function () {
@@ -2141,8 +2069,6 @@ var ActionStackableMove = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionStackableJump = ActionsDemo.extend({
     onEnter:function () {
-
-        //----start34----onEnter
         this._super();
         this.centerSprites(1);
 
@@ -2153,16 +2079,16 @@ var ActionStackableJump = ActionsDemo.extend({
         var move = cc.MoveBy.create(0.05, cc.p(8, 8));
         var move_back = move.reverse();
         var move_seq = cc.Sequence.create(move, move_back);
-        var move_rep = move_seq.repeatForever();
+        var move_rep = cc.RepeatForever.create(move_seq);
         this._grossini.runAction(move_rep);
 
         // jump
         var action = cc.JumpBy.create(2, cc.p(winSize.width - 80, 0), 90, 5);
         var back = action.reverse();
         var seq = cc.Sequence.create(action, back);
-        var repeat = seq.repeatForever();
+        var repeat = cc.RepeatForever.create(seq);
         this._grossini.runAction(repeat);
-        //----end34----
+
 
     },
     title:function () {
@@ -2180,7 +2106,6 @@ var ActionStackableJump = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionStackableBezier = ActionsDemo.extend({
     onEnter:function () {
-        //----start35----onEnter
         this._super();
         this.centerSprites(1);
 
@@ -2191,7 +2116,7 @@ var ActionStackableBezier = ActionsDemo.extend({
         var move = cc.MoveBy.create(0.05, cc.p(8, 8));
         var move_back = move.reverse();
         var move_seq = cc.Sequence.create(move, move_back);
-        var move_rep = move_seq.repeatForever();
+        var move_rep = cc.RepeatForever.create(move_seq);
         this._grossini.runAction(move_rep);
 
         // Bezier
@@ -2200,9 +2125,10 @@ var ActionStackableBezier = ActionsDemo.extend({
             cc.p(winSize.width - 80, 100) ];
 
         var bezierForward = cc.BezierBy.create(3, controlPoints);
-        var repeat = cc.Sequence.create(bezierForward, bezierForward.reverse()).repeatForever();
+        var repeat = cc.RepeatForever.create(
+            cc.Sequence.create(bezierForward, bezierForward.reverse()));
         this._grossini.runAction(repeat);
-        //----end35----
+
 
     },
     title:function () {
@@ -2220,7 +2146,6 @@ var ActionStackableBezier = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionStackableCatmullRom = ActionsDemo.extend({
     onEnter:function () {
-        //----start36----onEnter
         this._super();
         this.centerSprites(1);
 
@@ -2231,7 +2156,7 @@ var ActionStackableCatmullRom = ActionsDemo.extend({
         var move = cc.MoveBy.create(0.05, cc.p(8, 8));
         var move_back = move.reverse();
         var move_seq = cc.Sequence.create(move, move_back);
-        var move_rep = move_seq.repeatForever();
+        var move_rep = cc.RepeatForever.create(move_seq);
         this._grossini.runAction(move_rep);
 
         // CatmullRom
@@ -2248,9 +2173,9 @@ var ActionStackableCatmullRom = ActionsDemo.extend({
         var action1 = cc.CatmullRomBy.create(6, array);
         var reverse1 = action1.reverse();
         var seq1 = cc.Sequence.create(action1, reverse1);
-        var repeat = seq1.repeatForever();
+        var repeat = cc.RepeatForever.create(seq1);
         this._grossini.runAction(repeat);
-        //----end36----
+
     },
     title:function () {
         return "Stackable actions: MoveBy + CatmullRomBy";
@@ -2267,7 +2192,6 @@ var ActionStackableCatmullRom = ActionsDemo.extend({
 //------------------------------------------------------------------
 var ActionStackableCardinalSpline = ActionsDemo.extend({
     onEnter:function () {
-        //----start37----onEnter
         this._super();
         this.centerSprites(1);
 
@@ -2278,7 +2202,7 @@ var ActionStackableCardinalSpline = ActionsDemo.extend({
         var move = cc.MoveBy.create(0.05, cc.p(8, 8));
         var move_back = move.reverse();
         var move_seq = cc.Sequence.create(move, move_back);
-        var move_rep = move_seq.repeatForever();
+        var move_rep = cc.RepeatForever.create(move_seq);
         this._grossini.runAction(move_rep);
 
         // CardinalSpline
@@ -2295,9 +2219,9 @@ var ActionStackableCardinalSpline = ActionsDemo.extend({
         var action1 = cc.CardinalSplineBy.create(6, array, 0.9);
         var reverse1 = action1.reverse();
         var seq1 = cc.Sequence.create(action1, reverse1);
-        var repeat = seq1.repeatForever();
+        var repeat = cc.RepeatForever.create(seq1);
         this._grossini.runAction(repeat);
-        //----end37----
+
     },
     title:function () {
         return "Stackable actions: MoveBy + CardinalSplineBy";
@@ -2315,17 +2239,15 @@ var ActionStackableCardinalSpline = ActionsDemo.extend({
 var PauseResumeActions = ActionsDemo.extend({
     _pausedTargets:[],
     onEnter:function () {
-        //----start38----onEnter
         this._super();
         this.centerSprites(2);
 
-        this._tamara.runAction(cc.RotateBy.create(3, 360).repeatForever());
-        this._grossini.runAction(cc.RotateBy.create(3, -360).repeatForever());
-        this._kathia.runAction(cc.RotateBy.create(3, 360).repeatForever());
+        this._tamara.runAction(cc.RepeatForever.create(cc.RotateBy.create(3, 360)));
+        this._grossini.runAction(cc.RepeatForever.create(cc.RotateBy.create(3, -360)));
+        this._kathia.runAction(cc.RepeatForever.create(cc.RotateBy.create(3, 360)));
 
         this.schedule(this.pause, 3, false, 0);
         this.schedule(this.resume, 5, false, 0);
-        //----end38----
     },
 
     pause:function () {
@@ -2353,7 +2275,6 @@ var PauseResumeActions = ActionsDemo.extend({
 var Issue1305 = ActionsDemo.extend({
     _spriteTemp:null,
     onEnter:function () {
-        //----start39----onEnter
         this._super();
         this.centerSprites(0);
 
@@ -2366,7 +2287,6 @@ var Issue1305 = ActionsDemo.extend({
 
         this._spriteTmp.runAction(cc.CallFunc.create(this.onLog, this));
         this.scheduleOnce(this.onAddSprite, 2);
-        //----end39----
     },
     onExit:function () {
         this._super();
@@ -2394,7 +2314,6 @@ var Issue1305 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var Issue1305_2 = ActionsDemo.extend({
     onEnter:function () {
-        //----start40----onEnter
         this._super();
         this.centerSprites(0);
 
@@ -2417,7 +2336,6 @@ var Issue1305_2 = ActionsDemo.extend({
 
         //    [spr runAction:actF];
         director.getActionManager().addAction(actF, spr, false);
-        //----end40----
     },
     onLog1:function () {
         cc.log("1st block");
@@ -2446,7 +2364,6 @@ var Issue1305_2 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var Issue1288 = ActionsDemo.extend({
     onEnter:function () {
-        //----start41----onEnter
         this._super();
         this.centerSprites(0);
 
@@ -2458,10 +2375,9 @@ var Issue1288 = ActionsDemo.extend({
         var act1 = cc.MoveBy.create(0.5, cc.p(100, 0));
         var act2 = act1.reverse();
         var act3 = cc.Sequence.create(act1, act2);
-        var act4 = act3.repeat(2);
+        var act4 = cc.Repeat.create(act3, 2);
 
         spr.runAction(act4);
-        //----end41----
     },
     title:function () {
         return "Issue 1288";
@@ -2478,7 +2394,6 @@ var Issue1288 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var Issue1288_2 = ActionsDemo.extend({
     onEnter:function () {
-        //----start42----onEnter
         this._super();
         this.centerSprites(0);
 
@@ -2488,8 +2403,7 @@ var Issue1288_2 = ActionsDemo.extend({
         this.addChild(spr);
 
         var act1 = cc.MoveBy.create(0.5, cc.p(100, 0));
-        spr.runAction(act1.repeat(1));
-        //----end42----
+        spr.runAction(cc.Repeat.create(act1, 1));
     },
     title:function () {
         return "Issue 1288 #2";
@@ -2506,7 +2420,6 @@ var Issue1288_2 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var Issue1327 = ActionsDemo.extend({
     onEnter:function () {
-        //----start43----onEnter
         this._super();
         this.centerSprites(0);
 
@@ -2527,7 +2440,6 @@ var Issue1327 = ActionsDemo.extend({
 
         var actF = cc.Sequence.create(act1, act2, act3, act4, act5, act6, act7, act8, act9);
         spr.runAction(actF);
-        //----end43----
     },
     onLogSprRotation:function (pSender) {
         cc.log(pSender.rotation);
@@ -2547,7 +2459,6 @@ var Issue1327 = ActionsDemo.extend({
 //------------------------------------------------------------------
 var Issue1438 = ActionsDemo.extend({
     onEnter:function () {
-        //----start45----onEnter
         this._super();
         this.centerSprites(2);
 
@@ -2580,7 +2491,6 @@ var Issue1438 = ActionsDemo.extend({
 
         var action2 = cc.Animate.create(animation2);
         this._tamara.runAction(cc.Sequence.create(action2, action2.reverse()));
-        //----end45----
     },
 
     title:function () {
@@ -2607,7 +2517,6 @@ var Issue1446 = ActionsDemo.extend({
     },
 
     onEnter:function () {
-        //----start46----onEnter
         this._super();
         this.centerSprites(0);
         var label = this.label = cc.LabelTTF.create("Hello World", "Arial", 64);
@@ -2627,7 +2536,6 @@ var Issue1446 = ActionsDemo.extend({
         // Comment out to see that 1.0 in the update function is called which is expected
         // Leave it uncommented to see that 0.0 is never called when going in reverse
         this.scheduleOnce(this.stepForwardGoBackward, 0.1);
-        //----end46----
     },
 
     stepForwardGoBackward:function () {
@@ -2703,10 +2611,6 @@ var nextActionsTest = function () {
     actionsTestIdx++;
     actionsTestIdx = actionsTestIdx % arrayOfActionsTest.length;
 
-    if(window.sidebar){
-        actionsTestIdx = window.sidebar.changeTest(actionsTestIdx, 1);
-    }
-
     return new arrayOfActionsTest[actionsTestIdx]();
 };
 var previousActionsTest = function () {
@@ -2714,10 +2618,6 @@ var previousActionsTest = function () {
     if (actionsTestIdx < 0)
         actionsTestIdx += arrayOfActionsTest.length;
 
-    if(window.sidebar){
-        actionsTestIdx = window.sidebar.changeTest(actionsTestIdx, 1);
-    }
-
     return new arrayOfActionsTest[actionsTestIdx]();
 };
 var restartActionsTest = function () {
diff --git a/samples/js-tests/src/BaseTestLayer/BaseTestLayer.js b/samples/js-tests/src/BaseTestLayer/BaseTestLayer.js
index b7bbe9d..ed76c43 100644
--- a/samples/js-tests/src/BaseTestLayer/BaseTestLayer.js
+++ b/samples/js-tests/src/BaseTestLayer/BaseTestLayer.js
@@ -34,7 +34,7 @@ var BASE_TEST_SUBTITLE_TAG = 12;
 var autoTestEnabled = autoTestEnabled || false;
 var autoTestCurrentTestName = autoTestCurrentTestName || "N/A";
 
-var BaseTestLayerProps = {
+var BaseTestLayer = cc.LayerGradient.extend({
 
     ctor:function(colorA, colorB ) {
 
@@ -55,7 +55,7 @@ var BaseTestLayerProps = {
             b = cc.color(0,0,0,255);
         }
 
-        this._super( a, b );
+	    this._super( a, b );
 
         // Update winsize in case it was resized
         winSize = director.getWinSize();
@@ -233,23 +233,23 @@ var BaseTestLayerProps = {
 
     containsPixel: function(arr, pix, approx, range) {
 
-    range = range || 50.0;
-    approx = approx || false;
+	range = range || 50.0;
+	approx = approx || false;
 
         var abs = function(a,b) {
-        return ((a-b) > 0) ? (a-b) : (b-a);
-    };
+	    return ((a-b) > 0) ? (a-b) : (b-a);
+	};
 
-    var pixelEqual = function(pix1, pix2) {
-        if(approx && abs(pix1, pix2) < range) return true;
-        else if(!approx && pix1 == pix2) return true;
-        return false;
-    };
+	var pixelEqual = function(pix1, pix2) {
+	    if(approx && abs(pix1, pix2) < range) return true;
+	    else if(!approx && pix1 == pix2) return true;
+	    return false;
+	};
 
 
         for(var i=0; i < arr.length; i += 4) {
-        if(pixelEqual(arr[i], pix[0]) && pixelEqual(arr[i + 1], pix[1]) &&
-           pixelEqual(arr[i + 2], pix[2]) && pixelEqual(arr[i + 3], pix[3])) {
+	    if(pixelEqual(arr[i], pix[0]) && pixelEqual(arr[i + 1], pix[1]) &&
+	       pixelEqual(arr[i + 2], pix[2]) && pixelEqual(arr[i + 3], pix[3])) {
                 return true;
             }
         }
@@ -289,6 +289,4 @@ var BaseTestLayerProps = {
         }
         return sorted;
     }
-};
-
-var BaseTestLayer = cc.LayerGradient.extend(BaseTestLayerProps);
+});
diff --git a/samples/js-tests/src/Box2dTest/Box2dTest.js b/samples/js-tests/src/Box2dTest/Box2dTest.js
index 6a7a7aa..3a49367 100644
--- a/samples/js-tests/src/Box2dTest/Box2dTest.js
+++ b/samples/js-tests/src/Box2dTest/Box2dTest.js
@@ -31,11 +31,6 @@ Box2DTestLayer = cc.Layer.extend({
     //GLESDebugDraw *m_debugDraw;
 
     ctor:function () {
-
-        if(window.sidebar){
-            window.sidebar.changeTest(0, 2);
-        }
-        //----start0----ctor
         this._super();
 
         cc.eventManager.addListener(cc.EventListener.create({
@@ -111,11 +106,9 @@ Box2DTestLayer = cc.Layer.extend({
         label.y = screenSize.height - 50;
 
         this.scheduleUpdate();
-        //----end0----
     },
 
     addNewSpriteWithCoords:function (p) {
-        //----start0----addNewSpriteWithCoords
         //UXLog(L"Add sprite %0.2f x %02.f",p.x,p.y);
         var batch = this.getChildByTag(TAG_SPRITE_MANAGER);
 
@@ -152,10 +145,9 @@ Box2DTestLayer = cc.Layer.extend({
         fixtureDef.density = 1.0;
         fixtureDef.friction = 0.3;
         body.CreateFixture(fixtureDef);
-        //----end0----
+
     },
     update:function (dt) {
-        //----start0----update
         //It is recommended that a fixed time step is used with Box2D for stability
         //of the simulation, however, we are using a variable time step here.
         //You need to make an informed choice, the following URL is useful
@@ -175,10 +167,10 @@ Box2DTestLayer = cc.Layer.extend({
                 var myActor = b.GetUserData();
                 myActor.x = b.GetPosition().x * PTM_RATIO;
                 myActor.y = b.GetPosition().y * PTM_RATIO;
-                myActor.rotation = -1 * cc.radiansToDegrees(b.GetAngle());
+                myActor.rotation = -1 * cc.radiansToDegress(b.GetAngle());
             }
         }
-        //----end0----
+
     }
     //CREATE_NODE(Box2DTestLayer);
 });
@@ -191,7 +183,3 @@ Box2DTestScene = TestScene.extend({
         cc.director.runScene(this);
     }
 });
-
-var arrayOfBox2DTest = [
-    'Physical block test'
-];
diff --git a/samples/js-tests/src/ChipmunkTest/ChipmunkTest.js b/samples/js-tests/src/ChipmunkTest/ChipmunkTest.js
index 1bafa77..c3df7ec 100644
--- a/samples/js-tests/src/ChipmunkTest/ChipmunkTest.js
+++ b/samples/js-tests/src/ChipmunkTest/ChipmunkTest.js
@@ -146,10 +146,6 @@ var ChipmunkSprite = function() {
 };
 cc.inherits( ChipmunkSprite, ChipmunkBaseLayer );
 
-ChipmunkSprite.prototype.title = function(){
-    return 'Chipmunk Sprite Test';
-};
-
 //
 // Instance 'base' methods
 // XXX: Should be defined after "cc.inherits"
@@ -196,8 +192,10 @@ ChipmunkSprite.prototype.onEnter = function () {
 	//cc.base(this, 'onEnter');
 
 	this.scheduleUpdate();
-	for(var i=0; i<10; i++) {
-		this.addSprite( cp.v(winSize.width/2, winSize.height/2) );
+	for(var i = 0, varx = vary = 0; i<10; i++) {
+        varx = cc.random0To1();
+        vary = cc.random0To1();
+		this.addSprite( cp.v(winSize.width/2 + varx, winSize.height/2 + vary) );
 	}
 
     if( 'touches' in cc.sys.capabilities ){
@@ -246,9 +244,6 @@ var ChipmunkSpriteBatchTest = function() {
 };
 cc.inherits( ChipmunkSpriteBatchTest, ChipmunkSprite );
 
-ChipmunkSpriteBatchTest.prototype.title = function(){
-    return 'Chipmunk SpriteBatch Test';
-};
 
 //------------------------------------------------------------------
 //
@@ -367,10 +362,6 @@ var ChipmunkCollisionTest = function() {
 };
 cc.inherits( ChipmunkCollisionTest, ChipmunkBaseLayer );
 
-ChipmunkCollisionTest.prototype.title = function(){
-    return 'Chipmunk Collision test';
-};
-
 
 //------------------------------------------------------------------
 //
@@ -552,10 +543,6 @@ var ChipmunkCollisionMemoryLeakTest = function() {
 };
 cc.inherits( ChipmunkCollisionMemoryLeakTest, ChipmunkBaseLayer );
 
-ChipmunkCollisionMemoryLeakTest.prototype.title = function(){
-    return 'Chipmunk Memory Leak Test';
-};
-
 //------------------------------------------------------------------
 //
 // Test Anchor Point with PhysicsSprite
@@ -592,7 +579,7 @@ var ChipmunkSpriteAnchorPoint = function() {
 		var scaledown = cc.ScaleBy.create(0.5, 0.5);
 		var scaleup = scaledown.reverse();
 		var seq = cc.Sequence.create( scaledown, scaleup);
-		var repeat = seq.repeatForever();
+		var repeat = cc.RepeatForever.create( seq );
 
 		sprite1.runAction( repeat );
 		sprite2.runAction( repeat.clone() );
@@ -608,10 +595,6 @@ var ChipmunkSpriteAnchorPoint = function() {
 };
 cc.inherits( ChipmunkSpriteAnchorPoint, ChipmunkBaseLayer );
 
-ChipmunkSpriteAnchorPoint.prototype.title = function(){
-    return 'AnchorPoint in PhysicsSprite';
-};
-
 ChipmunkSpriteAnchorPoint.prototype.createPhysicsSprite = function(pos) {
 
     // create body
@@ -804,9 +787,7 @@ var PyramidStack = function() {
 	shape.setFriction(0.9);
 };
 cc.inherits( PyramidStack, ChipmunkDemo );
-PyramidStack.prototype.title = function(){
-    return 'Pyramid Stack';
-};
+
 
 //------------------------------------------------------------------
 //
@@ -878,10 +859,6 @@ PyramidTopple.prototype.update = function(dt)
 	}
 };
 
-PyramidTopple.prototype.title = function(){
-    return 'Pyramid Topple';
-};
-
 //------------------------------------------------------------------
 //
 // Chipmunk Demo: Joints
@@ -1122,9 +1099,6 @@ var Joints = function() {
 
 cc.inherits( Joints, ChipmunkDemo );
 
-Joints.prototype.title = function(){
-    return 'Joints';
-};
 
 //------------------------------------------------------------------
 //
@@ -1187,10 +1161,6 @@ var Balls = function() {
 };
 cc.inherits( Balls, ChipmunkDemo );
 
-Balls.prototype.title = function(){
- return 'Balls';
-};
-
 
 //------------------------------------------------------------------
 //
@@ -1296,7 +1266,6 @@ var Buoyancy = function() {
 
 	space.addCollisionHandler( 1, 0, null, this.waterPreSolve, null, null);
 };
-
 cc.inherits( Buoyancy, ChipmunkDemo );
 
 Buoyancy.prototype.update = function(dt)
@@ -1308,10 +1277,6 @@ Buoyancy.prototype.update = function(dt)
 	}
 };
 
-Buoyancy.prototype.title = function(){
- return 'Buoyancy';
-};
-
 Buoyancy.prototype.waterPreSolve = function(arb, space, ptr) {
 
 	var shapes = arb.getShapes();
@@ -1485,10 +1450,6 @@ Planet.prototype.add_box = function()
 	shape.setFriction(0.7);
 };
 
-Planet.prototype.title = function(){
- return 'Planet';
-};
-
 
 //
 // Entry point
@@ -1500,8 +1461,8 @@ var ChipmunkTestScene = function() {
 };
 cc.inherits(ChipmunkTestScene, TestScene );
 
-ChipmunkTestScene.prototype.runThisTest = function (num) {
-    chipmunkTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+ChipmunkTestScene.prototype.runThisTest = function () {
+    chipmunkTestSceneIdx = -1;
     var layer = nextChipmunkTest();
     this.addChild(layer);
     director.runScene(this);
@@ -1539,10 +1500,6 @@ var nextChipmunkTest = function () {
     chipmunkTestSceneIdx++;
     chipmunkTestSceneIdx = chipmunkTestSceneIdx % arrayOfChipmunkTest.length;
 
-    if(window.sidebar){
-        chipmunkTestSceneIdx = window.sidebar.changeTest(chipmunkTestSceneIdx, 3);
-    }
-
     return new arrayOfChipmunkTest[chipmunkTestSceneIdx]();
 };
 var previousChipmunkTest = function () {
@@ -1550,10 +1507,6 @@ var previousChipmunkTest = function () {
     if (chipmunkTestSceneIdx < 0)
         chipmunkTestSceneIdx += arrayOfChipmunkTest.length;
 
-    if(window.sidebar){
-        chipmunkTestSceneIdx = window.sidebar.changeTest(chipmunkTestSceneIdx, 3);
-    }
-
     return new arrayOfChipmunkTest[chipmunkTestSceneIdx]();
 };
 var restartChipmunkTest = function () {
diff --git a/samples/js-tests/src/ClickAndMoveTest/ClickAndMoveTest.js b/samples/js-tests/src/ClickAndMoveTest/ClickAndMoveTest.js
index 3dfe4a0..ada4053 100644
--- a/samples/js-tests/src/ClickAndMoveTest/ClickAndMoveTest.js
+++ b/samples/js-tests/src/ClickAndMoveTest/ClickAndMoveTest.js
@@ -36,11 +36,6 @@ var ClickAndMoveTestScene = TestScene.extend({
 
 var MainLayer = cc.Layer.extend({
     ctor:function () {
-
-        if(window.sidebar){
-            window.sidebar.changeTest(0, 4);
-        }
-
         this._super();
 
         this.init();
@@ -75,7 +70,7 @@ var MainLayer = cc.Layer.extend({
 
         var fadeIn = cc.FadeIn.create(1);
         var fadeOut = cc.FadeOut.create(1);
-        var forever = cc.Sequence.create(fadeIn, fadeOut).repeatForever();
+        var forever = cc.RepeatForever.create(cc.Sequence.create(fadeIn, fadeOut));
         layer.runAction(forever);
     },
 
@@ -97,5 +92,3 @@ var MainLayer = cc.Layer.extend({
         sprite.runAction(cc.RotateTo.create(1, at));
     }
 });
-
-var arrayOfClickMoveTest = ['Click on the screen'];
\ No newline at end of file
diff --git a/samples/js-tests/src/ClippingNodeTest/ClippingNodeTest.js b/samples/js-tests/src/ClippingNodeTest/ClippingNodeTest.js
index 414f27e..57b83f8 100644
--- a/samples/js-tests/src/ClippingNodeTest/ClippingNodeTest.js
+++ b/samples/js-tests/src/ClippingNodeTest/ClippingNodeTest.js
@@ -1,6 +1,7 @@
 /****************************************************************************
- Copyright (c) 2010-2013 cocos2d-x.org
  Copyright (c) 2008-2010 Ricardo Quesada
+ Copyright (c) 2011-2012 cocos2d-x.org
+ Copyright (c) 2013-2014 Chukong Technologies Inc.
  Copyright (c) 2012 Pierre-David Blanger
 
  http://www.cocos2d-x.org
@@ -105,12 +106,12 @@ var BasicTest = BaseClippingNodeTest.extend({
     },
 
     actionRotate:function () {
-        return cc.RotateBy.create(1.0, 90.0).repeatForever();
+        return cc.RepeatForever.create(cc.RotateBy.create(1.0, 90.0));
     },
 
     actionScale:function () {
         var scale = cc.ScaleBy.create(1.33, 1.5);
-        return cc.Sequence.create(scale, scale.reverse()).repeatForever();
+        return cc.RepeatForever.create(cc.Sequence.create(scale, scale.reverse()));
     },
 
     shape:function () {
@@ -266,7 +267,7 @@ var NestedTest = BaseClippingNodeTest.extend({
 	            y: parent.height / 2
             });
             clipper.alphaThreshold = 0.05;
-            clipper.runAction(cc.RotateBy.create((i % 3) ? 1.33 : 1.66, (i % 2) ? 90 : -90).repeatForever());
+            clipper.runAction(cc.RepeatForever.create(cc.RotateBy.create((i % 3) ? 1.33 : 1.66, (i % 2) ? 90 : -90)));
             parent.addChild(clipper);
 
             var stencil = cc.Sprite.create(s_pathGrossini);
@@ -318,7 +319,7 @@ var HoleDemo = BaseClippingNodeTest.extend({
         this._outerClipper.anchorY = 0.5;
         this._outerClipper.x = this.width * 0.5;
 	    this._outerClipper.y = this.height * 0.5;
-        this._outerClipper.runAction(cc.RotateBy.create(1, 45).repeatForever());
+        this._outerClipper.runAction(cc.RepeatForever.create(cc.RotateBy.create(1, 45)));
 
         this._outerClipper.stencil = stencil;
 
@@ -410,7 +411,7 @@ var ScrollViewDemo = BaseClippingNodeTest.extend({
         clipper.anchorY = 0.5;
         clipper.x = this.width / 2;
         clipper.y = this.height / 2;
-        clipper.runAction(cc.RotateBy.create(1, 45).repeatForever());
+        clipper.runAction(cc.RepeatForever.create(cc.RotateBy.create(1, 45)));
         this.addChild(clipper);
 
         var stencil = cc.DrawNode.create();
@@ -722,11 +723,6 @@ if ( cc.sys.isNative){
 var nextClippingNodeTest = function () {
     clippingNodeTestSceneIdx++;
     clippingNodeTestSceneIdx = clippingNodeTestSceneIdx % arrayOfClippingNodeTest.length;
-
-    if(window.sidebar){
-        clippingNodeTestSceneIdx = window.sidebar.changeTest(clippingNodeTestSceneIdx, 5);
-    }
-
     return new arrayOfClippingNodeTest[clippingNodeTestSceneIdx]();
 };
 
@@ -734,11 +730,6 @@ var previousClippingNodeTest = function () {
     clippingNodeTestSceneIdx--;
     if (clippingNodeTestSceneIdx < 0)
         clippingNodeTestSceneIdx += arrayOfClippingNodeTest.length;
-
-    if(window.sidebar){
-        clippingNodeTestSceneIdx = window.sidebar.changeTest(clippingNodeTestSceneIdx, 5);
-    }
-
     return new arrayOfClippingNodeTest[clippingNodeTestSceneIdx]();
 };
 
@@ -747,8 +738,8 @@ var restartClippingNodeTest = function () {
 };
 
 var ClippingNodeTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        clippingNodeTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        clippingNodeTestSceneIdx = -1;
         cc.director.runScene(this);
 	    var layer = nextClippingNodeTest();
 	    this.addChild(layer);
diff --git a/samples/js-tests/src/CocoStudioTest/ArmatureTest/ArmatureTest.js b/samples/js-tests/src/CocoStudioTest/ArmatureTest/ArmatureTest.js
index 37959f8..970d6db 100644
--- a/samples/js-tests/src/CocoStudioTest/ArmatureTest/ArmatureTest.js
+++ b/samples/js-tests/src/CocoStudioTest/ArmatureTest/ArmatureTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/ComponentsTest/ComponentsTestScene.js b/samples/js-tests/src/CocoStudioTest/ComponentsTest/ComponentsTestScene.js
index 10d35f6..b06023f 100644
--- a/samples/js-tests/src/CocoStudioTest/ComponentsTest/ComponentsTestScene.js
+++ b/samples/js-tests/src/CocoStudioTest/ComponentsTest/ComponentsTestScene.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/ComponentsTest/EnemyController.js b/samples/js-tests/src/CocoStudioTest/ComponentsTest/EnemyController.js
index 9e754c3..43db325 100644
--- a/samples/js-tests/src/CocoStudioTest/ComponentsTest/EnemyController.js
+++ b/samples/js-tests/src/CocoStudioTest/ComponentsTest/EnemyController.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/ComponentsTest/GameOverScene.js b/samples/js-tests/src/CocoStudioTest/ComponentsTest/GameOverScene.js
index a5aba7e..b04a2d4 100644
--- a/samples/js-tests/src/CocoStudioTest/ComponentsTest/GameOverScene.js
+++ b/samples/js-tests/src/CocoStudioTest/ComponentsTest/GameOverScene.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/ComponentsTest/PlayerController.js b/samples/js-tests/src/CocoStudioTest/ComponentsTest/PlayerController.js
index 6a8fd14..462e077 100644
--- a/samples/js-tests/src/CocoStudioTest/ComponentsTest/PlayerController.js
+++ b/samples/js-tests/src/CocoStudioTest/ComponentsTest/PlayerController.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/ComponentsTest/ProjectileController.js b/samples/js-tests/src/CocoStudioTest/ComponentsTest/ProjectileController.js
index 29c4bde..cbb450c 100644
--- a/samples/js-tests/src/CocoStudioTest/ComponentsTest/ProjectileController.js
+++ b/samples/js-tests/src/CocoStudioTest/ComponentsTest/ProjectileController.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/ComponentsTest/SceneController.js b/samples/js-tests/src/CocoStudioTest/ComponentsTest/SceneController.js
index 6258c25..f40e0ce 100644
--- a/samples/js-tests/src/CocoStudioTest/ComponentsTest/SceneController.js
+++ b/samples/js-tests/src/CocoStudioTest/ComponentsTest/SceneController.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UIBaseLayer.js b/samples/js-tests/src/CocoStudioTest/GUITest/UIBaseLayer.js
index 5bf9f87..fa13141 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UIBaseLayer.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UIBaseLayer.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UIButtonTest/UIButtonTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UIButtonTest/UIButtonTest.js
index 3e0fed6..3165f14 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UIButtonTest/UIButtonTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UIButtonTest/UIButtonTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UICheckBoxTest/UICheckBoxTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UICheckBoxTest/UICheckBoxTest.js
index ecbc75a..a8c46df 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UICheckBoxTest/UICheckBoxTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UICheckBoxTest/UICheckBoxTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UIImageViewTest/UIImageViewTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UIImageViewTest/UIImageViewTest.js
index 05d77be..073f218 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UIImageViewTest/UIImageViewTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UIImageViewTest/UIImageViewTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UILayoutTest/UILayoutTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UILayoutTest/UILayoutTest.js
index 1867933..1670f38 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UILayoutTest/UILayoutTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UILayoutTest/UILayoutTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UIListViewTest/UIListViewTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UIListViewTest/UIListViewTest.js
index a74a2d5..b936da7 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UIListViewTest/UIListViewTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UIListViewTest/UIListViewTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UILoadingBarTest/UILoadingBarTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UILoadingBarTest/UILoadingBarTest.js
index 507b238..f02863f 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UILoadingBarTest/UILoadingBarTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UILoadingBarTest/UILoadingBarTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UINodeContainerTest/UINodeContainerTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UINodeContainerTest/UINodeContainerTest.js
index f357472..6b12a1e 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UINodeContainerTest/UINodeContainerTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UINodeContainerTest/UINodeContainerTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UIPageViewTest/UIPageViewTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UIPageViewTest/UIPageViewTest.js
index f22f14f..c108c68 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UIPageViewTest/UIPageViewTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UIPageViewTest/UIPageViewTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UIRichTextTest/UIRichTextTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UIRichTextTest/UIRichTextTest.js
index 7561224..5460ebe 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UIRichTextTest/UIRichTextTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UIRichTextTest/UIRichTextTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UISceneTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UISceneTest.js
index a9aa075..d650675 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UISceneTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UISceneTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UIScrollViewTest/UIScrollViewTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UIScrollViewTest/UIScrollViewTest.js
index 17e0679..a5a2865 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UIScrollViewTest/UIScrollViewTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UIScrollViewTest/UIScrollViewTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UISliderTest/UISliderTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UISliderTest/UISliderTest.js
index 4e408f5..91df456 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UISliderTest/UISliderTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UISliderTest/UISliderTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UITextAtlasTest/UITextAtlasTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UITextAtlasTest/UITextAtlasTest.js
index fe50221..87c9846 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UITextAtlasTest/UITextAtlasTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UITextAtlasTest/UITextAtlasTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UITextBMFontTest/UITextBMFontTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UITextBMFontTest/UITextBMFontTest.js
index 0e491e7..3be519c 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UITextBMFontTest/UITextBMFontTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UITextBMFontTest/UITextBMFontTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UITextFieldTest/UITextFieldTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UITextFieldTest/UITextFieldTest.js
index 5e76ea8..b5bd322 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UITextFieldTest/UITextFieldTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UITextFieldTest/UITextFieldTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/GUITest/UITextTest/UITextTest.js b/samples/js-tests/src/CocoStudioTest/GUITest/UITextTest/UITextTest.js
index dfe96bd..3d79ecc 100644
--- a/samples/js-tests/src/CocoStudioTest/GUITest/UITextTest/UITextTest.js
+++ b/samples/js-tests/src/CocoStudioTest/GUITest/UITextTest/UITextTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/SceneTest/SceneEditorTest.js b/samples/js-tests/src/CocoStudioTest/SceneTest/SceneEditorTest.js
index 797bc59..1ef78f6 100644
--- a/samples/js-tests/src/CocoStudioTest/SceneTest/SceneEditorTest.js
+++ b/samples/js-tests/src/CocoStudioTest/SceneTest/SceneEditorTest.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
diff --git a/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Acts.js b/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Acts.js
index a9b62eb..29ca9db 100644
--- a/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Acts.js
+++ b/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Acts.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
@@ -23,6 +22,7 @@
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
  ****************************************************************************/
+
 var PlayMusic = ccs.BaseTriggerAction.extend({
     _tag: -1,
     _comName: "",
diff --git a/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Cons.js b/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Cons.js
index 3cc6a1c..20d780a 100644
--- a/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Cons.js
+++ b/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/Cons.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
@@ -23,6 +22,7 @@
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
  ****************************************************************************/
+
 var TimeElapsed = ccs.BaseTriggerCondition.extend({
     _totalTime: 0,
     _tmpTime: 0,
diff --git a/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/EventDef.js b/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/EventDef.js
index f9bc131..f8c2f39 100644
--- a/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/EventDef.js
+++ b/samples/js-tests/src/CocoStudioTest/SceneTest/TriggerCode/EventDef.js
@@ -1,5 +1,4 @@
 /****************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
 
@@ -23,6 +22,7 @@
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
  ****************************************************************************/
+
 var TRIGGER_EVENT_ENTERSCENE = 0;
 var TRIGGER_EVENT_LEAVESCENE = 1;
 var TRIGGER_EVENT_INITSCENE = 2;
diff --git a/samples/js-tests/src/CocosDenshionTest/CocosDenshionTest.js b/samples/js-tests/src/CocosDenshionTest/CocosDenshionTest.js
index a0a8488..cb76408 100644
--- a/samples/js-tests/src/CocosDenshionTest/CocosDenshionTest.js
+++ b/samples/js-tests/src/CocosDenshionTest/CocosDenshionTest.js
@@ -29,9 +29,6 @@ var audioEngine = cc.audioEngine;
 var MUSIC_FILE = "res/Sound/background.mp3";
 var EFFECT_FILE = "res/Sound/effect2.mp3";
 
-var _DenshionTests = [
-    'Music Test'
-];
 var DenshionTests = [
     {
         title:"Play Music",
@@ -218,7 +215,6 @@ var CocosDenshionTest = cc.LayerGradient.extend({
 
 var CocosDenshionTestScene = TestScene.extend({
     runThisTest:function () {
-
         audioEngine = cc.audioEngine;
         var layer = new CocosDenshionTest();
         this.addChild(layer);
diff --git a/samples/js-tests/src/CocosNodeTest/CocosNodeTest.js b/samples/js-tests/src/CocosNodeTest/CocosNodeTest.js
index 57c2e88..1f745b6 100644
--- a/samples/js-tests/src/CocosNodeTest/CocosNodeTest.js
+++ b/samples/js-tests/src/CocosNodeTest/CocosNodeTest.js
@@ -69,7 +69,6 @@ var TestNodeDemo = BaseTestLayer.extend({
 
 var CCNodeTest2 = TestNodeDemo.extend({
     onEnter:function () {
-        //----start0----onEnter
         this._super();
 
         var sp1 = cc.Sprite.create(s_pathSister1);
@@ -94,15 +93,15 @@ var CCNodeTest2 = TestNodeDemo.extend({
         var a2 = cc.ScaleBy.create(2, 2);
         var delay = cc.DelayTime.create(0.2);
 
-        var action1 = cc.Sequence.create(a1, a2, delay, a2.reverse()).repeatForever();
-        var action2 = cc.Sequence.create(a1.clone(), a2.clone(), delay.clone(), a2.reverse()).repeatForever();
+        var action1 = cc.RepeatForever.create(cc.Sequence.create(a1, a2, delay, a2.reverse()));
+        var action2 = cc.RepeatForever.create(cc.Sequence.create(
+            a1.clone(), a2.clone(), delay.clone(), a2.reverse()));
 
         sp2.anchorX = 0;
         sp2.anchorY = 0;
 
         sp1.runAction(action1);
         sp2.runAction(action2);
-        //----end0----
     },
     title:function () {
         return "anchorPoint and children";
@@ -130,7 +129,6 @@ var SID_DELAY2 = 1;
 var SID_DELAY4 = 2;
 var CCNodeTest4 = TestNodeDemo.extend({
     ctor:function () {
-        //----start1----ctor
         this._super();
         var sp1 = cc.Sprite.create(s_pathSister1);
         var sp2 = cc.Sprite.create(s_pathSister2);
@@ -147,20 +145,15 @@ var CCNodeTest4 = TestNodeDemo.extend({
 
         //Automation param
         this.autoParam = sp1;
-        //----end1----
     },
     delay2:function (dt) {
-        //----start1----delay2
         var node = this.getChildByTag(2);
         var action1 = cc.RotateBy.create(1, 360);
         node.runAction(action1);
-        //----end1----
     },
     delay4:function (dt) {
-        //----start1----delay4
         this.unschedule(this.delay4);
         this.removeChildByTag(3, false);
-        //----end1----
     },
     title:function () {
         return "tags";
@@ -180,7 +173,6 @@ var CCNodeTest4 = TestNodeDemo.extend({
 
 var CCNodeTest5 = TestNodeDemo.extend({
     ctor:function () {
-        //----start2----ctor
         this._super();
         var sp1 = cc.Sprite.create(s_pathSister1);
         var sp2 = cc.Sprite.create(s_pathSister2);
@@ -191,7 +183,7 @@ var CCNodeTest5 = TestNodeDemo.extend({
 
         var rot = cc.RotateBy.create(2, 360);
         var rot_back = rot.reverse();
-        var forever = cc.Sequence.create(rot, rot_back).repeatForever();
+        var forever = cc.RepeatForever.create(cc.Sequence.create(rot, rot_back));
         var forever2 = forever.clone();
         forever.tag = 101;
         forever2.tag = 102;
@@ -203,10 +195,8 @@ var CCNodeTest5 = TestNodeDemo.extend({
         sp2.runAction(forever2);
 
         this.schedule(this.onAddAndRemove, 2.0);
-        //----end2----
     },
     onAddAndRemove:function (dt) {
-        //----start2----onAddAndRemove
         var sp1 = this.getChildByTag(TAG_SPRITE1);
         var sp2 = this.getChildByTag(TAG_SPRITE2);
 
@@ -226,7 +216,6 @@ var CCNodeTest5 = TestNodeDemo.extend({
         // hack for JSB.
         sp1.release();
         sp2.release();
-        //----end2----
     },
     title:function () {
         return "remove and cleanup";
@@ -255,7 +244,6 @@ var CCNodeTest5 = TestNodeDemo.extend({
 
 var CCNodeTest6 = TestNodeDemo.extend({
     ctor:function () {
-        //----start3----ctor
         this._super();
         var sp1 = cc.Sprite.create(s_pathSister1);
         var sp11 = cc.Sprite.create(s_pathSister1);
@@ -270,7 +258,7 @@ var CCNodeTest6 = TestNodeDemo.extend({
 
         var rot = cc.RotateBy.create(2, 360);
         var rot_back = rot.reverse();
-        var forever1 = cc.Sequence.create(rot, rot_back).repeatForever();
+        var forever1 = cc.RepeatForever.create(cc.Sequence.create(rot, rot_back));
         var forever11 = forever1.clone();
 
         var forever2 = forever1.clone();
@@ -287,10 +275,8 @@ var CCNodeTest6 = TestNodeDemo.extend({
         sp21.runAction(forever21);
 
         this.schedule(this.onAddAndRemove, 2.0);
-        //----end3----
     },
     onAddAndRemove:function (dt) {
-        //----start3----onAddAndRemove
         var sp1 = this.getChildByTag(TAG_SPRITE1);
         var sp2 = this.getChildByTag(TAG_SPRITE2);
 
@@ -311,7 +297,6 @@ var CCNodeTest6 = TestNodeDemo.extend({
         // hack for JSB.
         sp1.release();
         sp2.release();
-        //----end3----
 
     },
     title:function () {
@@ -333,7 +318,6 @@ var CCNodeTest6 = TestNodeDemo.extend({
 
 var StressTest1 = TestNodeDemo.extend({
     ctor:function () {
-        //----start4----ctor
         this._super();
 
         var sp1 = cc.Sprite.create(s_pathSister1);
@@ -345,10 +329,8 @@ var StressTest1 = TestNodeDemo.extend({
         sp1.y = winSize.height / 2;
 
         this.schedule(this.onShouldNotCrash, 1.0);
-        //----end4----
     },
     onShouldNotCrash:function (dt) {
-        //----start4----onShouldNotCrash
         this.unschedule(this.onShouldNotCrash);
 
         // if the node has timers, it crashes
@@ -363,17 +345,14 @@ var StressTest1 = TestNodeDemo.extend({
             cc.CallFunc.create(this.onRemoveMe, this)));
 
         this.addChild(explosion);
-        //----end4----
     },
     onRemoveMe:function (node) {
-        //----start4----onRemoveMe
         if (autoTestEnabled) {
             this.testPass = true;
             return;
         }
         this.parent.removeChild(node, true);
         this.onNextCallback(this);
-        //----end4----
     },
     title:function () {
         return "stress test #1: no crashes";
@@ -395,7 +374,6 @@ var StressTest1 = TestNodeDemo.extend({
 
 var StressTest2 = TestNodeDemo.extend({
     ctor:function () {
-        //----start5----ctor
         this._super();
 
         var sublayer = cc.Layer.create();
@@ -408,7 +386,7 @@ var StressTest2 = TestNodeDemo.extend({
         var move_ease_inout3 = cc.EaseInOut.create(move.clone(), 2.0);
         var move_ease_inout_back3 = move_ease_inout3.reverse();
         var seq3 = cc.Sequence.create(move_ease_inout3, move_ease_inout_back3);
-        sp1.runAction(seq3.repeatForever());
+        sp1.runAction(cc.RepeatForever.create(seq3));
         sublayer.addChild(sp1, 1);
 
         var fire = cc.ParticleFire.create();
@@ -418,20 +396,17 @@ var StressTest2 = TestNodeDemo.extend({
 
         var copy_seq3 = seq3.clone();
 
-        fire.runAction(copy_seq3.repeatForever());
+        fire.runAction(cc.RepeatForever.create(copy_seq3));
         sublayer.addChild(fire, 2);
 
         this.schedule(this.shouldNotLeak, 6.0);
 
         this.addChild(sublayer, 0, TAG_SPRITE1);
-        //----end5----
     },
     shouldNotLeak:function (dt) {
-        //----start5----shouleNotLeak
         this.unschedule(this.shouldNotLeak);
         var sublayer = this.getChildByTag(TAG_SPRITE1);
         sublayer.removeAllChildren();
-        //----end5----
     },
     title:function () {
         return "stress test #2: no leaks";
@@ -440,7 +415,7 @@ var StressTest2 = TestNodeDemo.extend({
 
 var NodeToWorld = TestNodeDemo.extend({
     ctor:function () {
-        //----start6----ctor
+        //
         // This code tests that nodeToParent works OK:
         //  - It tests different anchor Points
         //  - It tests different children anchor points
@@ -459,23 +434,20 @@ var NodeToWorld = TestNodeDemo.extend({
 
         var rot = cc.RotateBy.create(3, 360);
         var delay = cc.DelayTime.create(0.3);
-        var fe = cc.Sequence.create(rot, delay).repeatForever();
+        var fe = cc.RepeatForever.create(cc.Sequence.create(rot, delay));
         item.runAction(fe);
 
         var move = cc.MoveBy.create(3, cc.p(200, 0));
         var move_back = move.reverse();
         var seq = cc.Sequence.create(move, delay.clone(), move_back);
-        var fe2 = seq.repeatForever();
+        var fe2 = cc.RepeatForever.create(seq);
         back.runAction(fe2);
 
         //Automation parameters
         this.autoParam = item;
-        //----end6----
     },
     onClicked:function () {
-        //----start6----ctor
         cc.log("On clicked");
-        //----end6----
     },
     title:function () {
         return "nodeToParent transform";
@@ -500,7 +472,6 @@ var NodeToWorld = TestNodeDemo.extend({
 
 var CameraOrbitTest = TestNodeDemo.extend({
     ctor:function () {
-        //----start11----ctor
         this._super();
 
         var p = cc.Sprite.create(s_back3);
@@ -517,7 +488,7 @@ var CameraOrbitTest = TestNodeDemo.extend({
         sprite.x = sw / 4;
         sprite.y = sh / 2;
         var orbit = cc.OrbitCamera.create(2, 1, 0, 0, 360, 0, 0);
-        sprite.runAction(orbit.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(orbit));
 
         // CENTER
         sprite = cc.Sprite.create(s_pathGrossini);
@@ -526,7 +497,7 @@ var CameraOrbitTest = TestNodeDemo.extend({
         sprite.x = sw / 4 * 2;
         sprite.y = sh / 2;
         orbit = cc.OrbitCamera.create(2, 1, 0, 0, 360, 45, 0);
-        sprite.runAction(orbit.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(orbit));
 
         // RIGHT
         sprite = cc.Sprite.create(s_pathGrossini);
@@ -535,26 +506,21 @@ var CameraOrbitTest = TestNodeDemo.extend({
         sprite.x = sw / 4 * 3;
         sprite.y = sh / 2;
         orbit = cc.OrbitCamera.create(2, 1, 0, 0, 360, 90, -45);
-        sprite.runAction(orbit.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(orbit));
 
         // PARENT
         orbit = cc.OrbitCamera.create(10, 1, 0, 0, 360, 0, 90);
-        p.runAction(orbit.repeatForever());
+        p.runAction(cc.RepeatForever.create(orbit));
 
         this.scale = 1;
-        //----end11----
     },
     onEnter:function () {
-        //----start11----onEnter
         this._super();
         director.setProjection(cc.Director.PROJECTION_3D);
-        //----end11----
     },
     onExit:function () {
-        //----start11----onExit
         director.setProjection(cc.Director.PROJECTION_2D);
         this._super();
-        //----end11----
     },
     title:function () {
         return "Camera Orbit test";
@@ -564,7 +530,6 @@ var CameraOrbitTest = TestNodeDemo.extend({
 var CameraZoomTest = TestNodeDemo.extend({
     _z:0,
     ctor:function () {
-        //----start12----ctor
         this._super();
 
         // LEFT
@@ -600,10 +565,8 @@ var CameraZoomTest = TestNodeDemo.extend({
 
         //Automation parameters
         this.autoParam = sprite;
-        //----end12----
     },
     update:function (dt) {
-        //----start12----update
         if (!("opengl" in cc.sys.capabilities))
             return;
 
@@ -615,21 +578,16 @@ var CameraZoomTest = TestNodeDemo.extend({
         sprite = this.getChildByTag(40);
         cam = sprite.getCamera();
         cam.setEye(0, 0, -this._z);
-        //----end12----
     },
     onEnter:function () {
-        //TODO
-        //----start12----onEnter
         this._super();
+        //TODO
         director.setProjection(cc.Director.PROJECTION_3D);
-        //----end12----
     },
     onExit:function () {
         //TODO
-        //----start12----onExit
         director.setProjection(cc.Director.PROJECTION_2D);
         this._super();
-        //----end12----
     },
     title:function () {
         return "Camera Zoom test";
@@ -654,7 +612,6 @@ var CameraZoomTest = TestNodeDemo.extend({
 
 var CameraCenterTest = TestNodeDemo.extend({
     ctor:function () {
-        //----start10----ctor
         this._super();
 
         // LEFT-TOP
@@ -665,7 +622,7 @@ var CameraCenterTest = TestNodeDemo.extend({
         sprite.color = cc.color.RED;
         sprite.setTextureRect(cc.rect(0, 0, 120, 50));
         var orbit = cc.OrbitCamera.create(10, 1, 0, 0, 360, 0, 0);
-        sprite.runAction(orbit.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(orbit));
 
         // LEFT-BOTTOM
         sprite = cc.Sprite.create(s_texture512);
@@ -675,7 +632,7 @@ var CameraCenterTest = TestNodeDemo.extend({
         sprite.color = cc.color.BLUE;
         sprite.setTextureRect(cc.rect(0, 0, 120, 50));
         orbit = cc.OrbitCamera.create(10, 1, 0, 0, 360, 0, 0);
-        sprite.runAction(orbit.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(orbit));
 
         // RIGHT-TOP
         sprite = cc.Sprite.create(s_texture512);
@@ -685,7 +642,7 @@ var CameraCenterTest = TestNodeDemo.extend({
         sprite.color = cc.color.YELLOW;
         sprite.setTextureRect(cc.rect(0, 0, 120, 50));
         orbit = cc.OrbitCamera.create(10, 1, 0, 0, 360, 0, 0);
-        sprite.runAction(orbit.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(orbit));
 
         // RIGHT-BOTTOM
         sprite = cc.Sprite.create(s_texture512);
@@ -695,7 +652,7 @@ var CameraCenterTest = TestNodeDemo.extend({
         sprite.color = cc.color.GREEN;
         sprite.setTextureRect(cc.rect(0, 0, 120, 50));
         orbit = cc.OrbitCamera.create(10, 1, 0, 0, 360, 0, 0);
-        sprite.runAction(orbit.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(orbit));
 
         // CENTER
         sprite = cc.Sprite.create(s_texture512);
@@ -705,22 +662,17 @@ var CameraCenterTest = TestNodeDemo.extend({
         sprite.color = cc.color.WHITE;
         sprite.setTextureRect(cc.rect(0, 0, 120, 50));
         orbit = cc.OrbitCamera.create(10, 1, 0, 0, 360, 0, 0);
-        sprite.runAction(orbit.repeatForever());
-        //----end10----
+        sprite.runAction(cc.RepeatForever.create(orbit));
     },
 
     onEnter:function(){
-        //----start10----onEnter
         this._super();
         cc.director.setProjection(cc.Director.PROJECTION_3D);
-        //----end10----
     },
 
     onExit:function(){
-        //----start10----onExit
         cc.director.setProjection(cc.Director.PROJECTION_2D);
         this._super();
-        //----end10----
     },
 
     title:function () {
@@ -756,7 +708,6 @@ var CameraCenterTest = TestNodeDemo.extend({
 //
 var ConvertToNode = TestNodeDemo.extend({
     ctor:function () {
-        //----start9----ctor
         this._super();
         if ('touches' in cc.sys.capabilities){
             cc.eventManager.addListener(cc.EventListener.create({
@@ -779,7 +730,7 @@ var ConvertToNode = TestNodeDemo.extend({
             }, this);
 
         var rotate = cc.RotateBy.create(10, 360);
-        var action = rotate.repeatForever();
+        var action = cc.RepeatForever.create(rotate);
         for (var i = 0; i < 3; i++) {
             var sprite = cc.Sprite.create(s_pathGrossini);
             sprite.x = winSize.width / 4 * (i + 1);
@@ -812,10 +763,8 @@ var ConvertToNode = TestNodeDemo.extend({
             sprite.runAction(copy);
             this.addChild(sprite, i);
         }
-        //----end9----
     },
     processEvent:function (location) {
-        //----start9----processEvent
         this.testP1 = [];
         this.testP2 = [];
         for (var i = 0; i < 3; i++) {
@@ -829,7 +778,6 @@ var ConvertToNode = TestNodeDemo.extend({
             this.testP1.push({"x":p1.x, "y":p1.y});
             this.testP2.push({"x":p2.x, "y":p2.y});
         }
-        //----end9----
     },
 
     title:function () {
@@ -870,7 +818,6 @@ var ConvertToNode = TestNodeDemo.extend({
 //
 var BoundingBoxTest = TestNodeDemo.extend({
     ctor:function () {
-        //----start8----ctor
         this._super();
         var sprite = cc.Sprite.create(s_pathGrossini);
         this.addChild(sprite);
@@ -884,7 +831,6 @@ var BoundingBoxTest = TestNodeDemo.extend({
         cc.log('size = [ ' + bb.width + "," + bb.height + "]");
 
         this.testBB = bb;
-        //----end8----
     },
     title:function () {
         return "Bounding Box Test";
@@ -909,30 +855,22 @@ var BoundingBoxTest = TestNodeDemo.extend({
 
 var SchedulerTest1 = TestNodeDemo.extend({
     ctor:function () {
-        //----start7----ctor
         this._super();
         var layer = cc.Layer.create();
-        //UXLOG("retain count after init is %d", layer->retainCount());
-        // 1
+        //UXLOG("retain count after init is %d", layer->retainCount());                // 1
 
         this.addChild(layer, 0);
-        //UXLOG("retain count after addChild is %d", layer->retainCount());
-        // 2
+        //UXLOG("retain count after addChild is %d", layer->retainCount());      // 2
 
         layer.schedule(this.doSomething);
-        //UXLOG("retain count after schedule is %d", layer->retainCount());
-        // 3 : (object-c viersion), but win32 version is still 2, because CCTimer class don't save target.
+        //UXLOG("retain count after schedule is %d", layer->retainCount());      // 3 : (object-c viersion), but win32 version is still 2, because CCTimer class don't save target.
 
         layer.unschedule(this.doSomething);
-        //UXLOG("retain count after unschedule is %d", layer->retainCount());
-        // STILL 3!  (win32 is '2')
-        //----end7----
+        //UXLOG("retain count after unschedule is %d", layer->retainCount());        // STILL 3!  (win32 is '2')
     },
 
     doSomething:function (dt) {
-        //----start7----doSomething
         this.testBool = false;
-        //----end7----
     },
 
     title:function () {
@@ -953,7 +891,6 @@ var SchedulerTest1 = TestNodeDemo.extend({
 
 var NodeOpaqueTest = TestNodeDemo.extend({
     ctor:function () {
-        //----start13----ctor
         this._super();
         var winSize = cc.director.getWinSize();
         var background;
@@ -964,7 +901,6 @@ var NodeOpaqueTest = TestNodeDemo.extend({
             background.y = winSize.height / 2;
             this.addChild(background);
         }
-        //----end13----
     },
 
     title:function () {
@@ -978,7 +914,6 @@ var NodeOpaqueTest = TestNodeDemo.extend({
 
 var NodeNonOpaqueTest = TestNodeDemo.extend({
     ctor:function () {
-        //----start14----ctor
         this._super();
         var winSize = cc.director.getWinSize();
         var background;
@@ -989,7 +924,6 @@ var NodeNonOpaqueTest = TestNodeDemo.extend({
             background.y = winSize.height / 2;
             this.addChild(background);
         }
-        //----end14----
     },
     title:function () {
         return "Node Non Opaque Test";
@@ -1004,8 +938,8 @@ var NodeNonOpaqueTest = TestNodeDemo.extend({
 // MAIN ENTRY POINT
 //
 var NodeTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        nodeTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        nodeTestSceneIdx = -1;
         MAX_LAYER = 9;
         var layer = nextNodeTest();
         this.addChild(layer);
@@ -1043,10 +977,6 @@ var nextNodeTest = function () {
     nodeTestSceneIdx++;
     nodeTestSceneIdx = nodeTestSceneIdx % arrayOfNodeTest.length;
 
-    if(window.sidebar){
-        nodeTestSceneIdx = window.sidebar.changeTest(nodeTestSceneIdx, 24);
-    }
-
     return new arrayOfNodeTest[nodeTestSceneIdx]();
 };
 var previousNodeTest = function () {
@@ -1054,10 +984,6 @@ var previousNodeTest = function () {
     if (nodeTestSceneIdx < 0)
         nodeTestSceneIdx += arrayOfNodeTest.length;
 
-    if(window.sidebar){
-        nodeTestSceneIdx = window.sidebar.changeTest(nodeTestSceneIdx, 24);
-    }
-
     return new arrayOfNodeTest[nodeTestSceneIdx]();
 };
 var restartNodeTest = function () {
@@ -1065,4 +991,3 @@ var restartNodeTest = function () {
 };
 
 
-new RegExp()
\ No newline at end of file
diff --git a/samples/js-tests/src/CurrentLanguageTest/CurrentLanguageTest.js b/samples/js-tests/src/CurrentLanguageTest/CurrentLanguageTest.js
index aba41df..ed83c4d 100755
--- a/samples/js-tests/src/CurrentLanguageTest/CurrentLanguageTest.js
+++ b/samples/js-tests/src/CurrentLanguageTest/CurrentLanguageTest.js
@@ -69,17 +69,9 @@ var CurrentLanguageTest = cc.Layer.extend({
 
 var CurrentLanguageTestScene = TestScene.extend({
     runThisTest:function () {
-        if(window.sidebar){
-            window.sidebar.changeTest(0, 8);
-        }
-
         var layer = new CurrentLanguageTest();
         this.addChild(layer);
 
         cc.director.runScene(this);
     }
 });
-
-var arrayOfCurrentLanguageTest = [
-    'current language'
-];
\ No newline at end of file
diff --git a/samples/js-tests/src/DrawPrimitivesTest/DrawPrimitivesTest.js b/samples/js-tests/src/DrawPrimitivesTest/DrawPrimitivesTest.js
index 7beefad..5499c4b 100755
--- a/samples/js-tests/src/DrawPrimitivesTest/DrawPrimitivesTest.js
+++ b/samples/js-tests/src/DrawPrimitivesTest/DrawPrimitivesTest.js
@@ -74,7 +74,6 @@ var DrawNewAPITest2 = DrawTestDemo.extend({
     _title: "cc.DrawNode",
     _subtitle: "Testing cc.DrawNode API 2",
     ctor: function () {
-        //----start0----ctor
         this._super();
         var draw = cc.DrawNode.create();
         this.addChild(draw, 10);
@@ -126,12 +125,8 @@ var DrawNewAPITest2 = DrawTestDemo.extend({
             cc.p(centerPos.x - 130, centerPos.y - 130)
         ];
         draw.drawCardinalSpline(vertices4, 0.5, 100, 2, cc.color(255, 255, 255, 255));
-        //----end0----
     }
 });
-DrawNewAPITest2.prototype.title = function(){
-    return 'cc.DrawNode 2';
-};
 
 //------------------------------------------------------------------
 //
@@ -143,7 +138,6 @@ var DrawNewAPITest = DrawTestDemo.extend({
     _subtitle : "Testing cc.DrawNode API",
 
     ctor:function() {
-        //----start1----ctor
         this._super();
 
         var draw = cc.DrawNode.create();
@@ -190,19 +184,14 @@ var DrawNewAPITest = DrawTestDemo.extend({
         //
         draw.drawSegment( cc.p(20,winSize.height), cc.p(20,winSize.height/2), 10, cc.color(0, 255, 0, 255) );
         draw.drawSegment( cc.p(10,winSize.height/2), cc.p(winSize.width/2, winSize.height/2), 40, cc.color(255, 0, 255, 128) );
-        //----end1----
     }
 });
 
-DrawNewAPITest.prototype.title = function(){
-    return 'cc.DrawNode 1';
-};
-
 //
 //
 var DrawPrimitivesTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        drawTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        drawTestSceneIdx = -1;
         var layer = nextDrawTest();
         this.addChild(layer);
 
@@ -223,10 +212,6 @@ var nextDrawTest = function () {
     drawTestSceneIdx++;
     drawTestSceneIdx = drawTestSceneIdx % arrayOfDrawTest.length;
 
-    if(window.sidebar){
-        drawTestSceneIdx = window.sidebar.changeTest(drawTestSceneIdx, 9);
-    }
-
     return new arrayOfDrawTest[drawTestSceneIdx]();
 };
 var previousDrawTest = function () {
@@ -234,10 +219,6 @@ var previousDrawTest = function () {
     if (drawTestSceneIdx < 0)
         drawTestSceneIdx += arrayOfDrawTest.length;
 
-    if(window.sidebar){
-        drawTestSceneIdx = window.sidebar.changeTest(drawTestSceneIdx, 9);
-    }
-
     return new arrayOfDrawTest[drawTestSceneIdx]();
 };
 var restartDrawTest = function () {
diff --git a/samples/js-tests/src/EaseActionsTest/EaseActionsTest.js b/samples/js-tests/src/EaseActionsTest/EaseActionsTest.js
index 81d9cc0..83080f3 100644
--- a/samples/js-tests/src/EaseActionsTest/EaseActionsTest.js
+++ b/samples/js-tests/src/EaseActionsTest/EaseActionsTest.js
@@ -34,8 +34,8 @@ var easeActionsTestIdx = -1;
 // every .Scene each test used must inherit from TestScene,
 // make sure the test have the menu item for back to main menu
 var EaseActionsTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        easeActionsTestIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        easeActionsTestIdx = -1;
         this.addChild(nextEaseActionsTest());
         director.runScene(this);
     }
@@ -144,22 +144,15 @@ var EaseSpriteDemo = BaseTestLayer.extend({
 var SpriteEase = EaseSpriteDemo.extend({
 
     onEnter:function () {
-        //----start0----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease_in = cc.EaseIn.create(move.clone(), 2.0);
-
-        var move_ease_in = move.clone().easing(cc.easeIn(2.0));
+        var move_ease_in = cc.EaseIn.create(move.clone(), 2.0);
         var move_ease_in_back = move_ease_in.reverse();
 
-        //old api
-        //var move_ease_out = cc.EaseOut.create(move.clone(), 2.0);
-
-        var move_ease_out = move.clone().easing(cc.easeOut(2.0));
+        var move_ease_out = cc.EaseOut.create(move.clone(), 2.0);
         var move_ease_out_back = move_ease_out.reverse();
 
 
@@ -170,17 +163,16 @@ var SpriteEase = EaseSpriteDemo.extend({
         var seq3 = cc.Sequence.create(move_ease_out, delay.clone(), move_ease_out_back, delay.clone());
 
 
-        var a2 = this._grossini.runAction(seq1.repeatForever());
+        var a2 = this._grossini.runAction(cc.RepeatForever.create(seq1));
         a2.tag = 1;
 
-        var a1 = this._tamara.runAction(seq2.repeatForever());
+        var a1 = this._tamara.runAction(cc.RepeatForever.create(seq2));
         a1.tag = 1;
 
-        var a = this._kathia.runAction(seq3.repeatForever());
+        var a = this._kathia.runAction(cc.RepeatForever.create(seq3));
         a.tag = 1;
 
         this.scheduleOnce(this.testStopAction, 4.1);
-        //----end0----
     },
     title:function () {
         return "EaseIn - EaseOut - Stop";
@@ -216,28 +208,18 @@ var SpriteEase = EaseSpriteDemo.extend({
 var SpriteEaseInOut = EaseSpriteDemo.extend({
 
     onEnter:function () {
-        //----start1----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         //	id move_back = move.reverse();
 
-        //old api
-        //var move_ease_inout1 = cc.EaseInOut.create(move.clone(), 2.0);
-
-        var move_ease_inout1 = move.clone().easing(cc.easeInOut(2.0));
+        var move_ease_inout1 = cc.EaseInOut.create(move.clone(), 2.0);
         var move_ease_inout_back1 = move_ease_inout1.reverse();
 
-        //old api
-        //var move_ease_inout2 = cc.EaseInOut.create(move.clone(), 3.0);
-
-        var move_ease_inout2 = move.clone().easing(cc.easeInOut(3.0));
+        var move_ease_inout2 = cc.EaseInOut.create(move.clone(), 3.0);
         var move_ease_inout_back2 = move_ease_inout2.reverse();
 
-        //old api
-        //var move_ease_inout3 = cc.EaseInOut.create(move.clone(), 4.0);
-
-        var move_ease_inout3 = move.clone().easing(cc.easeInOut(4.0));
+        var move_ease_inout3 = cc.EaseInOut.create(move.clone(), 4.0);
         var move_ease_inout_back3 = move_ease_inout3.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -246,10 +228,9 @@ var SpriteEaseInOut = EaseSpriteDemo.extend({
         var seq2 = cc.Sequence.create(move_ease_inout2, delay.clone(), move_ease_inout_back2, delay.clone());
         var seq3 = cc.Sequence.create(move_ease_inout3, delay.clone(), move_ease_inout_back3, delay.clone());
 
-        this._tamara.runAction(seq1.repeatForever());
-        this._kathia.runAction(seq2.repeatForever());
-        this._grossini.runAction(seq3.repeatForever());
-        //----end1----
+        this._tamara.runAction(cc.RepeatForever.create(seq1));
+        this._kathia.runAction(cc.RepeatForever.create(seq2));
+        this._grossini.runAction(cc.RepeatForever.create(seq3));
     },
     title:function () {
         return "EaseInOut and rates";
@@ -264,19 +245,15 @@ var SpriteEaseInOut = EaseSpriteDemo.extend({
 var SpriteEaseExponential = EaseSpriteDemo.extend({
 
     onEnter:function () {
-        //----start2----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease_in = cc.EaseExponentialIn.create(move.clone());
-
-        var move_ease_in = move.clone().easing(cc.easeExponentialIn());
+        var move_ease_in = cc.EaseExponentialIn.create(move.clone());
         var move_ease_in_back = move_ease_in.reverse();
 
-        var move_ease_out = move.clone().easing(cc.easeExponentialOut());
+        var move_ease_out = cc.EaseExponentialOut.create(move.clone());
         var move_ease_out_back = move_ease_out.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -286,10 +263,9 @@ var SpriteEaseExponential = EaseSpriteDemo.extend({
         var seq3 = cc.Sequence.create(move_ease_out, delay.clone(), move_ease_out_back, delay.clone());
 
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        this._kathia.runAction(seq3.repeatForever());
-        //----end2-----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
+        this._kathia.runAction(cc.RepeatForever.create(seq3));
     },
     title:function () {
         return "ExpIn - ExpOut actions";
@@ -303,16 +279,12 @@ var SpriteEaseExponential = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseExponentialInOut = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start3----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease = cc.EaseExponentialInOut.create(move.clone());
-
-        var move_ease = move.clone().easing(cc.easeExponentialInOut());
+        var move_ease = cc.EaseExponentialInOut.create(move.clone());
         var move_ease_back = move_ease.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -322,9 +294,8 @@ var SpriteEaseExponentialInOut = EaseSpriteDemo.extend({
 
         this.positionForTwo();
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        //----end3----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
     },
     title:function () {
         return "EaseExponentialInOut action";
@@ -338,22 +309,15 @@ var SpriteEaseExponentialInOut = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseSine = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start4----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease_in = cc.EaseSineIn.create(move.clone());
-
-        var move_ease_in = move.clone().easing(cc.easeSineIn());
+        var move_ease_in = cc.EaseSineIn.create(move.clone());
         var move_ease_in_back = move_ease_in.reverse();
 
-        //old api
-        //var move_ease_out = cc.EaseSineOut.create(move.clone());
-
-        var move_ease_out = move.clone().easing(cc.easeSineOut());
+        var move_ease_out = cc.EaseSineOut.create(move.clone());
         var move_ease_out_back = move_ease_out.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -363,10 +327,10 @@ var SpriteEaseSine = EaseSpriteDemo.extend({
         var seq3 = cc.Sequence.create(move_ease_out, delay, move_ease_out_back, delay.clone());
 
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        this._kathia.runAction(seq3.repeatForever());
-        //----end4----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
+        this._kathia.runAction(cc.RepeatForever.create(seq3));
+
     },
     title:function () {
         return "EaseSineIn - EaseSineOut";
@@ -380,16 +344,12 @@ var SpriteEaseSine = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseSineInOut = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start5----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease = cc.EaseSineInOut.create(move.clone());
-
-        var move_ease = move.clone().easing(cc.easeSineInOut());
+        var move_ease = cc.EaseSineInOut.create(move.clone());
         var move_ease_back = move_ease.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -399,9 +359,8 @@ var SpriteEaseSineInOut = EaseSpriteDemo.extend({
 
         this.positionForTwo();
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        //----end5----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
     },
     title:function () {
         return "EaseSineInOut action";
@@ -415,22 +374,15 @@ var SpriteEaseSineInOut = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseElastic = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start6----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease_in = cc.EaseElasticIn.create(move.clone());
-
-        var move_ease_in = move.clone().easing(cc.easeElasticIn());
+        var move_ease_in = cc.EaseElasticIn.create(move.clone());
         var move_ease_in_back = move_ease_in.reverse();
 
-        //old api
-        //var move_ease_out = cc.EaseElasticOut.create(move.clone());
-
-        var move_ease_out = move.clone().easing(cc.easeElasticOut());
+        var move_ease_out = cc.EaseElasticOut.create(move.clone());
         var move_ease_out_back = move_ease_out.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -439,10 +391,9 @@ var SpriteEaseElastic = EaseSpriteDemo.extend({
         var seq2 = cc.Sequence.create(move_ease_in, delay.clone(), move_ease_in_back, delay.clone());
         var seq3 = cc.Sequence.create(move_ease_out, delay.clone(), move_ease_out_back, delay.clone());
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        this._kathia.runAction(seq3.repeatForever());
-        //----end6----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
+        this._kathia.runAction(cc.RepeatForever.create(seq3));
     },
     title:function () {
         return "Elastic In - Out actions";
@@ -456,27 +407,17 @@ var SpriteEaseElastic = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseElasticInOut = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start7----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
 
-        //old api
-        //var move_ease_inout1 = cc.EaseElasticInOut.create(move.clone(), 0.3);
-
-        var move_ease_inout1 = move.clone().easing(cc.easeElasticInOut(0.3));
+        var move_ease_inout1 = cc.EaseElasticInOut.create(move.clone(), 0.3);
         var move_ease_inout_back1 = move_ease_inout1.reverse();
 
-        //old api
-        //var move_ease_inout2 = cc.EaseElasticInOut.create(move.clone(), 0.45);
-
-        var move_ease_inout2 = move.clone().easing(cc.easeElasticInOut(0.45));
+        var move_ease_inout2 = cc.EaseElasticInOut.create(move.clone(), 0.45);
         var move_ease_inout_back2 = move_ease_inout2.reverse();
 
-        //old api
-        //var move_ease_inout3 = cc.EaseElasticInOut.create(move.clone(), 0.6);
-
-        var move_ease_inout3 = move.clone().easing(cc.easeElasticInOut(0.6));
+        var move_ease_inout3 = cc.EaseElasticInOut.create(move.clone(), 0.6);
         var move_ease_inout_back3 = move_ease_inout3.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -485,10 +426,9 @@ var SpriteEaseElasticInOut = EaseSpriteDemo.extend({
         var seq2 = cc.Sequence.create(move_ease_inout2, delay.clone(), move_ease_inout_back2, delay.clone());
         var seq3 = cc.Sequence.create(move_ease_inout3, delay.clone(), move_ease_inout_back3, delay.clone());
 
-        this._tamara.runAction(seq1.repeatForever());
-        this._kathia.runAction(seq2.repeatForever());
-        this._grossini.runAction(seq3.repeatForever());
-        //----end7----
+        this._tamara.runAction(cc.RepeatForever.create(seq1));
+        this._kathia.runAction(cc.RepeatForever.create(seq2));
+        this._grossini.runAction(cc.RepeatForever.create(seq3));
     },
     title:function () {
         return "EaseElasticInOut action";
@@ -502,22 +442,15 @@ var SpriteEaseElasticInOut = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseBounce = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start8----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease_in = cc.EaseBounceIn.create(move.clone());
-
-        var move_ease_in = move.clone().easing(cc.easeBounceIn());
+        var move_ease_in = cc.EaseBounceIn.create(move.clone());
         var move_ease_in_back = move_ease_in.reverse();
 
-        //old api
-        //var move_ease_out = cc.EaseBounceOut.create(move.clone());
-
-        var move_ease_out = move.clone().easing(cc.easeBounceOut());
+        var move_ease_out = cc.EaseBounceOut.create(move.clone());
         var move_ease_out_back = move_ease_out.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -526,10 +459,9 @@ var SpriteEaseBounce = EaseSpriteDemo.extend({
         var seq2 = cc.Sequence.create(move_ease_in, delay.clone(), move_ease_in_back, delay.clone());
         var seq3 = cc.Sequence.create(move_ease_out, delay.clone(), move_ease_out_back, delay.clone());
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        this._kathia.runAction(seq3.repeatForever());
-        //----end8----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
+        this._kathia.runAction(cc.RepeatForever.create(seq3));
     },
     title:function () {
         return "Bounce In - Out actions";
@@ -543,16 +475,12 @@ var SpriteEaseBounce = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseBounceInOut = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start9----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease = cc.EaseBounceInOut.create(move.clone());
-
-        var move_ease = move.clone().easing(cc.easeBounceInOut());
+        var move_ease = cc.EaseBounceInOut.create(move.clone());
         var move_ease_back = move_ease.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -562,9 +490,8 @@ var SpriteEaseBounceInOut = EaseSpriteDemo.extend({
 
         this.positionForTwo();
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        //----end9----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
     },
     title:function () {
         return "EaseBounceInOut action";
@@ -578,22 +505,15 @@ var SpriteEaseBounceInOut = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseBack = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start10----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease_in = cc.EaseBackIn.create(move.clone());
-
-        var move_ease_in = move.clone().easing(cc.easeBackIn());
+        var move_ease_in = cc.EaseBackIn.create(move.clone());
         var move_ease_in_back = move_ease_in.reverse();
 
-        //old api
-        //var move_ease_out = cc.EaseBackOut.create(move.clone());
-
-        var move_ease_out = move.clone().easing(cc.easeBackOut());
+        var move_ease_out = cc.EaseBackOut.create(move.clone());
         var move_ease_out_back = move_ease_out.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -602,10 +522,9 @@ var SpriteEaseBack = EaseSpriteDemo.extend({
         var seq2 = cc.Sequence.create(move_ease_in, delay.clone(), move_ease_in_back, delay.clone());
         var seq3 = cc.Sequence.create(move_ease_out, delay.clone(), move_ease_out_back, delay.clone());
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        this._kathia.runAction(seq3.repeatForever());
-        //----end10----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
+        this._kathia.runAction(cc.RepeatForever.create(seq3));
     },
     title:function () {
         return "Back In - Out actions";
@@ -619,16 +538,12 @@ var SpriteEaseBack = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SpriteEaseBackInOut = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start11----onEnter
         this._super();
 
         var move = cc.MoveBy.create(2, cc.p(winSize.width - 80, 0));
         var move_back = move.reverse();
 
-        //old api
-        //var move_ease = cc.EaseBackInOut.create(move.clone());
-
-        var move_ease = move.clone().easing(cc.easeBackInOut());
+        var move_ease = cc.EaseBackInOut.create(move.clone());
         var move_ease_back = move_ease.reverse();
 
         var delay = cc.DelayTime.create(0.1);
@@ -638,9 +553,8 @@ var SpriteEaseBackInOut = EaseSpriteDemo.extend({
 
         this.positionForTwo();
 
-        this._grossini.runAction(seq1.repeatForever());
-        this._tamara.runAction(seq2.repeatForever());
-        //----end11----
+        this._grossini.runAction(cc.RepeatForever.create(seq1));
+        this._tamara.runAction(cc.RepeatForever.create(seq2));
     },
     title:function () {
         return "EaseBackInOut action";
@@ -649,7 +563,6 @@ var SpriteEaseBackInOut = EaseSpriteDemo.extend({
 
 var SpeedTest = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start12----onEnter
         this._super();
 
         // rotate and jump
@@ -661,8 +574,7 @@ var SpeedTest = EaseSpriteDemo.extend({
         var seq3_1 = cc.Sequence.create(jump2, jump1);
         var seq3_2 = cc.Sequence.create(rot1, rot2);
         var spawn = cc.Spawn.create(seq3_1, seq3_2);
-
-        var action = spawn.repeatForever().speed(2);
+        var action = cc.Speed.create(cc.RepeatForever.create(spawn), 1.0);
         action.tag = TAG_ACTION1_EASE_ACTIONS;
 
         var action2 = action.clone();
@@ -676,14 +588,12 @@ var SpeedTest = EaseSpriteDemo.extend({
         this._kathia.runAction(action);
 
         this.schedule(this.altertime, 1.0);//:@selector(altertime:) interval:1.0];
-        //----end12----
     },
     title:function () {
         return "Speed action";
     },
 
     altertime:function (dt) {
-        //----start12----altertime
         var action1 = this._grossini.getActionByTag(TAG_ACTION1_EASE_ACTIONS);
         var action2 = this._tamara.getActionByTag(TAG_ACTION1_EASE_ACTIONS);
         var action3 = this._kathia.getActionByTag(TAG_ACTION1_EASE_ACTIONS);
@@ -691,7 +601,6 @@ var SpeedTest = EaseSpriteDemo.extend({
         action1.setSpeed(Math.random() * 2);
         action2.setSpeed(Math.random() * 2);
         action3.setSpeed(Math.random() * 2);
-        //----end12----
     },
     // automation
     testDuration:0.1,
@@ -710,7 +619,6 @@ var SpeedTest = EaseSpriteDemo.extend({
 //------------------------------------------------------------------
 var SchedulerTest = EaseSpriteDemo.extend({
     onEnter:function () {
-        //----start13----onEnter
         this._super();
 
         // rotate and jump
@@ -722,25 +630,19 @@ var SchedulerTest = EaseSpriteDemo.extend({
         var seq3_1 = cc.Sequence.create(jump2, jump1);
         var seq3_2 = cc.Sequence.create(rot1, rot2);
         var spawn = cc.Spawn.create(seq3_1, seq3_2);
-        var action = spawn.repeatForever();
+        var action = cc.RepeatForever.create(spawn);
 
         var action2 = action.clone();
         var action3 = action.clone();
 
-        //old api
-        //this._grossini.runAction(cc.Speed.create(action, 0.5));
-        //this._tamara.runAction(cc.Speed.create(action2, 1.5));
-        //this._kathia.runAction(cc.Speed.create(action3, 1.0));
-
-        this._grossini.runAction(action.speed(0.5));
-        this._tamara.runAction(action2.speed(1.5));
-        this._kathia.runAction(action3.speed(1.0));
+        this._grossini.runAction(cc.Speed.create(action, 0.5));
+        this._tamara.runAction(cc.Speed.create(action2, 1.5));
+        this._kathia.runAction(cc.Speed.create(action3, 1.0));
 
         var emitter = cc.ParticleFireworks.create();
         emitter.setTotalParticles(250);
         emitter.texture = cc.textureCache.addImage("res/Images/fire.png");
         this.addChild(emitter);
-        //----end13----
     },
     title:function () {
         return "Scheduler scaleTime Test";
@@ -780,10 +682,6 @@ var nextEaseActionsTest = function () {
     easeActionsTestIdx++;
     easeActionsTestIdx = easeActionsTestIdx % arrayOfEaseActionsTest.length;
 
-    if(window.sidebar){
-        easeActionsTestIdx = window.sidebar.changeTest(easeActionsTestIdx, 10);
-    }
-
     return new arrayOfEaseActionsTest[easeActionsTestIdx]();
 };
 var previousEaseActionsTest = function () {
@@ -791,10 +689,6 @@ var previousEaseActionsTest = function () {
     if (easeActionsTestIdx < 0)
         easeActionsTestIdx += arrayOfEaseActionsTest.length;
 
-    if(window.sidebar){
-        easeActionsTestIdx = window.sidebar.changeTest(easeActionsTestIdx, 10);
-    }
-
     return new arrayOfEaseActionsTest[easeActionsTestIdx]();
 };
 var restartEaseActionsTest = function () {
diff --git a/samples/js-tests/src/EffectsAdvancedTest/EffectsAdvancedTest.js b/samples/js-tests/src/EffectsAdvancedTest/EffectsAdvancedTest.js
index 2943609..bb2a7ff 100644
--- a/samples/js-tests/src/EffectsAdvancedTest/EffectsAdvancedTest.js
+++ b/samples/js-tests/src/EffectsAdvancedTest/EffectsAdvancedTest.js
@@ -77,7 +77,7 @@ var EffectAdvanceTextLayer = cc.Layer.extend({
         grossini.y = winSize.height / 2;
         var sc = cc.ScaleBy.create(2, 5);
         var sc_back = sc.reverse();
-        grossini.runAction(cc.Sequence.create(sc, sc_back).repeatForever());
+        grossini.runAction(cc.RepeatForever.create(cc.Sequence.create(sc, sc_back)));
 
         var tamara = cc.Sprite.create(s_pathSister1);
 	    var tamaraGrid = cc.NodeGrid.create();
@@ -87,7 +87,7 @@ var EffectAdvanceTextLayer = cc.Layer.extend({
         tamara.y = winSize.height / 2;
         var sc2 = cc.ScaleBy.create(2, 5);
         var sc2_back = sc2.reverse();
-        tamara.runAction(cc.Sequence.create(sc2, sc2_back).repeatForever());
+        tamara.runAction(cc.RepeatForever.create(cc.Sequence.create(sc2, sc2_back)));
 
         var label = cc.LabelTTF.create(this.title(), "Arial", 28);
         label.x = cc.visibleRect.center.x;
@@ -173,7 +173,7 @@ var Effect1 = EffectAdvanceTextLayer.extend({
         var orbit = cc.OrbitCamera.create(5, 1, 2, 0, 180, 0, -90);
         var orbit_back = orbit.reverse();
 
-        target.runAction(cc.Sequence.create(orbit, orbit_back).repeatForever());
+        target.runAction(cc.RepeatForever.create(cc.Sequence.create(orbit, orbit_back)));
         target.runAction(cc.Sequence.create(lens, delay, reuse, waves));
     }
 });
@@ -227,12 +227,12 @@ var Effect3 = EffectAdvanceTextLayer.extend({
         var waves = cc.Waves.create(5, cc.size(15, 10), 5, 20, true, false);
         var shaky = cc.Shaky3D.create(5, cc.size(15, 10), 4, false);
 
-	    target1.runAction(waves.repeatForever());
-	    target2.runAction(shaky.repeatForever());
+	    target1.runAction(cc.RepeatForever.create(waves));
+	    target2.runAction(cc.RepeatForever.create(shaky));
 
         // moving background. Testing issue #244
         var move = cc.MoveBy.create(3, cc.p(200, 0));
-        bg.runAction(cc.Sequence.create(move, move.reverse()).repeatForever());
+        bg.runAction(cc.RepeatForever.create(cc.Sequence.create(move, move.reverse())));
     }
 });
 
@@ -358,7 +358,7 @@ var Issue631 = EffectAdvanceTextLayer.extend({
 	    nodeGrid.addChild(layer2);
         this.addChild(nodeGrid, 1);
 
-	    nodeGrid.runAction(effect.repeatForever());
+	    nodeGrid.runAction(cc.RepeatForever.create(effect));
     }
 });
 
@@ -376,11 +376,6 @@ if (!cc.sys.isNative)
 var nextEffectAdvanceAction = function () {
     sceneIndex++;
     sceneIndex = sceneIndex % arrayOfEffectsAdvancedTest.length;
-
-    if(window.sidebar){
-        sceneIndex = window.sidebar.changeTest(sceneIndex, 15);
-    }
-
     return new arrayOfEffectsAdvancedTest[sceneIndex]();
 };
 
@@ -388,11 +383,6 @@ var backEffectAdvanceAction = function () {
     sceneIndex--;
     if (sceneIndex < 0)
         sceneIndex += arrayOfEffectsAdvancedTest.length;
-
-    if(window.sidebar){
-        sceneIndex = window.sidebar.changeTest(sceneIndex, 15);
-    }
-
     return new arrayOfEffectsAdvancedTest[sceneIndex]();
 };
 
diff --git a/samples/js-tests/src/EffectsTest/EffectsTest.js b/samples/js-tests/src/EffectsTest/EffectsTest.js
index 9491d51..4f89de0 100644
--- a/samples/js-tests/src/EffectsTest/EffectsTest.js
+++ b/samples/js-tests/src/EffectsTest/EffectsTest.js
@@ -84,7 +84,7 @@ var EffecstsBaseLayer = BaseTestLayer.extend({
         var sc = cc.ScaleBy.create(2, 5);
         var sc_back = sc.reverse();
         var seq = cc.Sequence.create( sc, sc_back );
-        var repeat = seq.repeatForever();
+        var repeat = cc.RepeatForever.create( seq );
 
         sister1.runAction( repeat );
         sister2.runAction( repeat.clone() );
@@ -421,8 +421,8 @@ var PageTurn3DTest = EffecstsBaseLayer.extend({
 // Order of tests
 //
 var EffectsTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        effectsTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        effectsTestSceneIdx = -1;
         var layer = nextEffectsTest();
         this.addChild(layer);
 
@@ -462,10 +462,6 @@ var nextEffectsTest = function () {
     effectsTestSceneIdx++;
     effectsTestSceneIdx = effectsTestSceneIdx % arrayOfEffectsTest.length;
 
-    if(window.sidebar){
-        effectsTestSceneIdx = window.sidebar.changeTest(effectsTestSceneIdx, 14);
-    }
-
     return new arrayOfEffectsTest[effectsTestSceneIdx]();
 };
 var previousEffectsTest = function () {
@@ -473,10 +469,6 @@ var previousEffectsTest = function () {
     if (effectsTestSceneIdx < 0)
         effectsTestSceneIdx += arrayOfEffectsTest.length;
 
-    if(window.sidebar){
-        effectsTestSceneIdx = window.sidebar.changeTest(effectsTestSceneIdx, 14);
-    }
-
     return new arrayOfEffectsTest[effectsTestSceneIdx]();
 };
 var restartEffectsTest = function () {
diff --git a/samples/js-tests/src/EventTest/EventTest.js b/samples/js-tests/src/EventTest/EventTest.js
index 9c908f6..5d43bc9 100644
--- a/samples/js-tests/src/EventTest/EventTest.js
+++ b/samples/js-tests/src/EventTest/EventTest.js
@@ -424,8 +424,8 @@ var KeyboardTest = EventTest.extend({
 
 
 var EventTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        sceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        sceneIdx = -1;
         var layer = nextEventsTest();
         // var menu = new EventTest();
         // menu.addKeyboardNotificationLayer( layer );
@@ -450,10 +450,6 @@ var nextEventsTest = function () {
     sceneIdx++;
     sceneIdx = sceneIdx % arrayOfEventsTest.length;
 
-    if(window.sidebar){
-        sceneIdx = window.sidebar.changeTest(sceneIdx, 12);
-    }
-
     return new arrayOfEventsTest[sceneIdx]();
 };
 var previousEventsTest = function () {
@@ -461,10 +457,6 @@ var previousEventsTest = function () {
     if (sceneIdx < 0)
         sceneIdx += arrayOfEventsTest.length;
 
-    if(window.sidebar){
-        sceneIdx = window.sidebar.changeTest(sceneIdx, 12);
-    }
-
     return new arrayOfEventsTest[sceneIdx]();
 };
 var restartEventsTest = function () {
diff --git a/samples/js-tests/src/ExtensionsTest/ControlExtensionTest/CCControlStepperTest/CCControlStepperTest.js b/samples/js-tests/src/ExtensionsTest/ControlExtensionTest/CCControlStepperTest/CCControlStepperTest.js
index 4adceb1..6b35fc3 100644
--- a/samples/js-tests/src/ExtensionsTest/ControlExtensionTest/CCControlStepperTest/CCControlStepperTest.js
+++ b/samples/js-tests/src/ExtensionsTest/ControlExtensionTest/CCControlStepperTest/CCControlStepperTest.js
@@ -1,26 +1,28 @@
 /**************************************************************************************
- Copyright (c) 2008-2010 Ricardo Quesada
- Copyright (c) 2011-2012 cocos2d-x.org
- Copyright (c) 2013-2014 Chukong Technologies Inc.
-
- Permission is hereby granted, free of charge, to any person obtaining a copy
- of this software and associated documentation files (the "Software"), to deal
- in the Software without restriction, including without limitation the rights
- to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
- copies of the Software, and to permit persons to whom the Software is
- furnished to do so, subject to the following conditions:
-
- The above copyright notice and this permission notice shall be included in
- all copies or substantial portions of the Software.
-
- THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
- AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
- LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
- OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
- THE SOFTWARE.
-
+ * Copyright (c) 2008-2010 Ricardo Quesada
+ * Copyright (c) 2011-2012 cocos2d-x.org
+ * Copyright (c) 2013-2014 Chukong Technologies Inc.
+ * Copyright (c) 2012 Yannick Loriot
+ * http://yannickloriot.com
+ *
+ * Permission is hereby granted, free of charge, to any person obtaining a copy
+ * of this software and associated documentation files (the "Software"), to deal
+ * in the Software without restriction, including without limitation the rights
+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
+ * copies of the Software, and to permit persons to whom the Software is
+ * furnished to do so, subject to the following conditions:
+ *
+ * The above copyright notice and this permission notice shall be included in
+ * all copies or substantial portions of the Software.
+ *
+ * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
+ * THE SOFTWARE.
+ *
  */
 
 var ControlStepperTest = ControlScene.extend({
diff --git a/samples/js-tests/src/ExtensionsTest/ExtensionsTest.js b/samples/js-tests/src/ExtensionsTest/ExtensionsTest.js
index 5bf0ef7..51fb874 100644
--- a/samples/js-tests/src/ExtensionsTest/ExtensionsTest.js
+++ b/samples/js-tests/src/ExtensionsTest/ExtensionsTest.js
@@ -90,8 +90,8 @@ var extensionsTestItemNames = [
     }
 ];
 
-if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_ANDROID) {
-     extensionsTestItemNames.push({
+if (cc.sys.os == cc.sys.OS_IOS) {
+    extensionsTestItemNames.push({
         itemTitle:"PluginXTest",
         testScene:function () {
             var testScene = new PluginXTestScene();
diff --git a/samples/js-tests/src/ExtensionsTest/NetworkTest/WebSocketTest.js b/samples/js-tests/src/ExtensionsTest/NetworkTest/WebSocketTest.js
index 770a3da..dbeb5f2 100644
--- a/samples/js-tests/src/ExtensionsTest/NetworkTest/WebSocketTest.js
+++ b/samples/js-tests/src/ExtensionsTest/NetworkTest/WebSocketTest.js
@@ -2,6 +2,7 @@
  Copyright (c) 2008-2010 Ricardo Quesada
  Copyright (c) 2011-2012 cocos2d-x.org
  Copyright (c) 2013-2014 Chukong Technologies Inc.
+
  Copyright (c) 2013 James Chen
 
  http://www.cocos2d-x.org
diff --git a/samples/js-tests/src/ExtensionsTest/PluginXTest/PluginXTest.js b/samples/js-tests/src/ExtensionsTest/PluginXTest/PluginXTest.js
index 964eba9..da986fa 100644
--- a/samples/js-tests/src/ExtensionsTest/PluginXTest/PluginXTest.js
+++ b/samples/js-tests/src/ExtensionsTest/PluginXTest/PluginXTest.js
@@ -84,17 +84,19 @@ var loadAnalyticsPlugin = function() {
     var umengKey  = "";
     var flurryKey = "";
 
-    if (cc.sys.os == cc.sys.OS_IOS)
+    var targetDevice = cc.Application.getInstance().getTargetPlatform();
+    if (targetDevice == 1)
     {
         umengKey  = UMENG_KEY_IOS;
         flurryKey = FLURRY_KEY_IOS;
     }
-    else if (cc.sys.os == cc.sys.OS_ANDROID)
+    else if (targetDevice == 2)
     {
         umengKey  = UMENG_KEY_ANDROID;
         flurryKey = FLURRY_KEY_ANDROID;
     }
 
+
     var pluginManager = plugin.PluginManager.getInstance();
     if (cc.LANGUAGE_CHINESE == langType)
     {
diff --git a/samples/js-tests/src/FontTest/FontTest.js b/samples/js-tests/src/FontTest/FontTest.js
index 29f5af7..ac5a77e 100644
--- a/samples/js-tests/src/FontTest/FontTest.js
+++ b/samples/js-tests/src/FontTest/FontTest.js
@@ -59,11 +59,6 @@ var fontList = [
 function nextFontTestAction() {
     fontIdx++;
     fontIdx = fontIdx % fontList.length;
-
-    if(window.sidebar){
-        fontIdx = window.sidebar.changeTest(fontIdx, 16);
-    }
-
     return fontList[fontIdx];
 }
 
@@ -73,10 +68,6 @@ function backFontTestAction() {
         fontIdx += fontList.length;
     }
 
-    if(window.sidebar){
-        fontIdx = window.sidebar.changeTest(fontIdx, 16);
-    }
-
     return fontList[fontIdx];
 }
 
@@ -85,10 +76,7 @@ function restartFontTestAction() {
 }
 FontTestScene = TestScene.extend({
 
-    runThisTest:function (num) {
-
-        fontIdx = num || fontIdx;
-
+    runThisTest:function () {
         var layer = FontTest.create();
         this.addChild(layer);
 
diff --git a/samples/js-tests/src/IntervalTest/IntervalTest.js b/samples/js-tests/src/IntervalTest/IntervalTest.js
index 89a8c9b..dd0a186 100644
--- a/samples/js-tests/src/IntervalTest/IntervalTest.js
+++ b/samples/js-tests/src/IntervalTest/IntervalTest.js
@@ -94,7 +94,7 @@ IntervalLayer = cc.LayerGradient.extend({
         var jump = cc.JumpBy.create(3, cc.p(s.width - 80, 0), 50, 4);
 
         this.addChild(sprite);
-        sprite.runAction(cc.Sequence.create(jump, jump.reverse()).repeatForever());
+        sprite.runAction(cc.RepeatForever.create(cc.Sequence.create(jump, jump.reverse())));
 
         // pause button
         var item1 = cc.MenuItemFont.create("Pause", this.onPause, this);
diff --git a/samples/js-tests/src/LabelTest/LabelTest.js b/samples/js-tests/src/LabelTest/LabelTest.js
index 31faf85..bebadf8 100644
--- a/samples/js-tests/src/LabelTest/LabelTest.js
+++ b/samples/js-tests/src/LabelTest/LabelTest.js
@@ -42,8 +42,8 @@ var TAG_LABEL_SPRITE18 = 667;
 var labelTestIdx = -1;
 
 var LabelTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        labelTestIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        labelTestIdx = -1;
         this.addChild(nextLabelTest());
         director.runScene(this);
     }
@@ -94,7 +94,6 @@ var AtlasDemo = BaseTestLayer.extend({
 var LabelAtlasOpacityTest = AtlasDemo.extend({
     time:null,
     ctor:function () {
-        //----start0----ctor
         this._super();
         this.time = 0;
 
@@ -111,10 +110,8 @@ var LabelAtlasOpacityTest = AtlasDemo.extend({
         label2.opacity = 32;
 
         this.schedule(this.step);
-        //----end0----
     },
     step:function (dt) {
-        //----start0----step
         this.time += dt;
 
         var label1 = this.getChildByTag(TAG_LABEL_SPRITE1);
@@ -124,7 +121,6 @@ var LabelAtlasOpacityTest = AtlasDemo.extend({
         var label2 = this.getChildByTag(TAG_LABEL_SPRITE12);
         var string2 = parseInt(this.time, 10).toString();
         label2.setString(string2);
-        //----end0----
     },
     title:function () {
         return "LabelAtlas Opacity";
@@ -162,7 +158,6 @@ var LabelAtlasOpacityTest = AtlasDemo.extend({
 var LabelAtlasOpacityColorTest = AtlasDemo.extend({
     time:null,
     ctor:function () {
-        //----start1----ctor
         this._super();
         var label1 = cc.LabelAtlas.create("123 Test", s_resprefix + "fonts/tuffy_bold_italic-charmap.png", 48, 64, ' ');
         this.addChild(label1, 0, TAG_LABEL_SPRITE1);
@@ -180,16 +175,14 @@ var LabelAtlasOpacityColorTest = AtlasDemo.extend({
         var fade_in = fade.reverse();
         var delay = cc.DelayTime.create(0.25);
         var seq = cc.Sequence.create(fade, delay, fade_in, delay.clone());
-        var repeat = seq.repeatForever();
+        var repeat = cc.RepeatForever.create(seq);
         label2.runAction(repeat);
 
         this.time = 0;
 
         this.schedule(this.step);
-        //----end1----
     },
     step:function (dt) {
-        //----start1----step
         this.time += dt;
         var string1 = this.time.toFixed(2) + " Test";
         var label1 = this.getChildByTag(TAG_LABEL_SPRITE1);
@@ -198,7 +191,6 @@ var LabelAtlasOpacityColorTest = AtlasDemo.extend({
         var label2 = this.getChildByTag(TAG_LABEL_SPRITE12);
         var string2 = parseInt(this.time, 10).toString();
         label2.setString(string2);
-        //----end1----
     },
     title:function () {
         return "LabelAtlas Opacity Color";
@@ -237,7 +229,6 @@ var LabelAtlasOpacityColorTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var LabelAtlasHD = AtlasDemo.extend({
     ctor:function () {
-        //----start2----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -249,7 +240,6 @@ var LabelAtlasHD = AtlasDemo.extend({
         this.addChild(label1);
         label1.x = s.width / 2;
         label1.y = s.height / 2;
-        //----end2----
     },
     title:function () {
         return "LabelAtlas with Retina Display";
@@ -293,7 +283,6 @@ var LabelAtlasHD = AtlasDemo.extend({
 var BMFontOpacityColorAlignmentTest = AtlasDemo.extend({
     time:0,
     ctor:function () {
-        //----start3----ctor
         this._super();
         var col = cc.LayerColor.create(cc.color(128, 128, 128, 255));
         this.addChild(col, -10);
@@ -307,7 +296,7 @@ var BMFontOpacityColorAlignmentTest = AtlasDemo.extend({
         var fade = cc.FadeOut.create(1.0);
         var fade_in = fade.reverse();
         var seq = cc.Sequence.create(fade, cc.DelayTime.create(0.25), fade_in);
-        var repeat = seq.repeatForever();
+        var repeat = cc.RepeatForever.create(seq);
         label1.runAction(repeat);
 
         // VERY IMPORTANT
@@ -337,10 +326,8 @@ var BMFontOpacityColorAlignmentTest = AtlasDemo.extend({
         label3.y = s.height;
 
         this.schedule(this.step);
-        //----end3----
     },
     step:function (dt) {
-        //----start3----step
         this.time += dt;
         //var string;
         var string = this.time.toFixed(2) + "Test j";
@@ -353,7 +340,6 @@ var BMFontOpacityColorAlignmentTest = AtlasDemo.extend({
 
         var label3 = this.getChildByTag(TAG_BITMAP_ATLAS3);
         label3.setString(string);
-        //----end3----
     },
 
     title:function () {
@@ -395,7 +381,6 @@ var BMFontOpacityColorAlignmentTest = AtlasDemo.extend({
 var BMFontSubSpriteTest = AtlasDemo.extend({
     time:null,
     ctor:function () {
-        //----start4----ctor
         this._super();
         this.time = 0;
 
@@ -423,29 +408,29 @@ var BMFontSubSpriteTest = AtlasDemo.extend({
 
         if(autoTestEnabled) {
             var jump = cc.JumpBy.create(0.5, cc.p(0,0), 60, 1);
-            var jump_4ever = cc.Sequence.create(jump, cc.DelayTime.create(0.25)).repeatForever();
+            var jump_4ever = cc.RepeatForever.create(cc.Sequence.create(jump, cc.DelayTime.create(0.25)));
             var fade_out = cc.FadeOut.create(0.5);
             var rotate = cc.RotateBy.create(0.5, 180);
-            var rot_4ever = cc.Sequence.create(rotate, cc.DelayTime.create(0.25), rotate.clone()).repeatForever();
+            var rot_4ever = cc.RepeatForever.create(cc.Sequence.create(rotate, cc.DelayTime.create(0.25), rotate.clone()));
 
             var scale = cc.ScaleBy.create(0.5, 1.5);
         } else {
             var jump = cc.JumpBy.create(4, cc.p(0,0), 60, 1);
-            var jump_4ever = jump.repeatForever();
+            var jump_4ever = cc.RepeatForever.create(jump);
             var fade_out = cc.FadeOut.create(1);
             var rotate = cc.RotateBy.create(2, 360);
-            var rot_4ever = rotate.repeatForever();
+            var rot_4ever = cc.RepeatForever.create(rotate);
 
             var scale = cc.ScaleBy.create(2, 1.5);
         }
 
         var scale_back = scale.reverse();
         var scale_seq = cc.Sequence.create(scale, cc.DelayTime.create(0.25), scale_back);
-        var scale_4ever = scale_seq.repeatForever();
+        var scale_4ever = cc.RepeatForever.create(scale_seq);
 
         var fade_in = cc.FadeIn.create(1);
         var seq = cc.Sequence.create(fade_out, cc.DelayTime.create(0.25), fade_in);
-        var fade_4ever = seq.repeatForever();
+        var fade_4ever = cc.RepeatForever.create(seq);
 
         BChar.runAction(rot_4ever);
         BChar.runAction(scale_4ever);
@@ -462,16 +447,13 @@ var BMFontSubSpriteTest = AtlasDemo.extend({
         lastChar.runAction(rot_4ever.clone());
 
         this.schedule(this.step, 0.1);
-        //----end4----
     },
     step:function (dt) {
-        //----start4----step
         this.time += dt;
         var string = this.time.toFixed(1);
         string = (string < 10) ? "0" + string : string;
         var label1 = this.getChildByTag(TAG_BITMAP_ATLAS2);
         label1.setString(string);
-        //----end4----
     },
     title:function () {
         return "cc.LabelBMFont BMFontSubSpriteTest";
@@ -508,7 +490,6 @@ var BMFontSubSpriteTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontPaddingTest = AtlasDemo.extend({
     ctor:function () {
-        //----start5----
         this._super();
         var label = cc.LabelBMFont.create("abcdefg", s_resprefix + "fonts/bitmapFontTest4.fnt");
         this.addChild(label);
@@ -519,7 +500,6 @@ var BMFontPaddingTest = AtlasDemo.extend({
         label.y = s.height / 2;
         label.anchorX = 0.5;
         label.anchorY = 0.5;
-        //----end5----
     },
     title:function () {
         return "cc.LabelBMFont BMFontPaddingTest";
@@ -558,7 +538,6 @@ var BMFontPaddingTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontOffsetTest = AtlasDemo.extend({
     ctor:function () {
-        //----start6----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -583,7 +562,6 @@ var BMFontOffsetTest = AtlasDemo.extend({
         label.y = s.height / 2 - 50;
         label.anchorX = 0.5;
         label.anchorY = 0.5;
-        //----end6----
     },
     title:function () {
         return "cc.LabelBMFont";
@@ -623,7 +601,6 @@ var BMFontOffsetTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontTintTest = AtlasDemo.extend({
     ctor:function () {
-        //----start7----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -652,7 +629,6 @@ var BMFontTintTest = AtlasDemo.extend({
         label.anchorY = 0.5;
         label.color = cc.color(0, 255, 0);
         label.setString("Green");
-        //----end7----
     },
     title:function () {
         return "cc.LabelBMFont BMFontTintTest";
@@ -693,7 +669,6 @@ var BMFontTintTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontSpeedTest = AtlasDemo.extend({
     ctor:function () {
-        //----start8----ctor
         this._super();
         // Upper Label
         for (var i = 0; i < 100; i++) {
@@ -708,7 +683,6 @@ var BMFontSpeedTest = AtlasDemo.extend({
             label.anchorX = 0.5;
             label.anchorY = 0.5;
         }
-        //----end8----
     },
     title:function () {
         return "cc.LabelBMFont";
@@ -725,7 +699,6 @@ var BMFontSpeedTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontMultiLineTest = AtlasDemo.extend({
     ctor:function () {
-        //----start9----ctor
         this._super();
 
         // Left
@@ -757,7 +730,6 @@ var BMFontMultiLineTest = AtlasDemo.extend({
         label2.y = s.height / 2;
         label3.x = s.width;
         label3.y = s.height;
-        //----end9----
     },
     title:function () {
         return "cc.LabelBMFont BMFontMultiLineTest";
@@ -800,7 +772,6 @@ var BMFontMultiLineTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontMultiLine2Test = AtlasDemo.extend({
     ctor:function () {
-        //----start10----ctor
         this._super();
 
         // Left
@@ -838,7 +809,6 @@ var BMFontMultiLine2Test = AtlasDemo.extend({
         label2.y = s.height / 2;
         label3.x = s.width;
         label3.y = s.height;
-        //----end10----
     },
     title:function () {
         return "cc.LabelBMFont BMFontMultiLine2Test";
@@ -879,7 +849,6 @@ var BMFontMultiLine2Test = AtlasDemo.extend({
 var LabelsEmpty = AtlasDemo.extend({
     setEmpty:null,
     ctor:function () {
-        //----start25----ctor
         this._super();
 
 
@@ -904,10 +873,8 @@ var LabelsEmpty = AtlasDemo.extend({
         this.schedule(this.onUpdateStrings, 1.0);
 
         this.setEmpty = false;
-        //----end25----
     },
     onUpdateStrings:function (dt) {
-        //----start25----onUpdateStrings
         var label1 = this.getChildByTag(TAG_BITMAP_ATLAS1);
         var label2 = this.getChildByTag(TAG_BITMAP_ATLAS2);
         var label3 = this.getChildByTag(TAG_BITMAP_ATLAS3);
@@ -926,7 +893,6 @@ var LabelsEmpty = AtlasDemo.extend({
 
             this.setEmpty = false;
         }
-        //----end25----
     },
     title:function () {
         return "Testing empty labels";
@@ -943,7 +909,6 @@ var LabelsEmpty = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontHDTest = AtlasDemo.extend({
     ctor:function () {
-        //----start16----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -952,7 +917,6 @@ var BMFontHDTest = AtlasDemo.extend({
         this.addChild(label1);
         label1.x = s.width / 2;
         label1.y = s.height / 2;
-        //----end16----
     },
     title:function () {
         return "Testing Retina Display BMFont";
@@ -993,7 +957,6 @@ var BMFontHDTest = AtlasDemo.extend({
 //------------------------------------------------------------------
 var BMFontGlyphDesignerTest = AtlasDemo.extend({
     ctor:function () {
-        //----start17----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -1005,7 +968,6 @@ var BMFontGlyphDesignerTest = AtlasDemo.extend({
         this.addChild(label1);
         label1.x = s.width / 2;
         label1.y = s.height / 2;
-        //----end17----
     },
     title:function () {
         return "Testing Glyph Designer";
@@ -1051,14 +1013,11 @@ var LabelTTFStrokeShadowTest = AtlasDemo.extend({
     _labelStrokeShadow: null,
 
     ctor: function () {
-        //----start26----ctor
         this._super();
         this.updateLabels();
-        //----end26----
     },
 
     updateLabels: function () {
-        //----start26----updateLabels
         var blockSize = cc.size(400, 100);
         var s = director.getWinSize();
 
@@ -1141,7 +1100,6 @@ var LabelTTFStrokeShadowTest = AtlasDemo.extend({
         this.addChild(this._labelShadow);
         this.addChild(this._labelStroke);
         this.addChild(this._labelStrokeShadow);
-        //----end26----
     },
 
     title: function () {
@@ -1158,7 +1116,6 @@ var LabelTTFTest = AtlasDemo.extend({
     _horizAlign:null,
     _vertAlign:null,
     ctor:function () {
-        //----start19----ctor
         this._super();
         var blockSize = cc.size(200, 160);
         var s = director.getWinSize();
@@ -1195,10 +1152,8 @@ var LabelTTFTest = AtlasDemo.extend({
         this._vertAlign = cc.VERTICAL_TEXT_ALIGNMENT_TOP;
 
         this.updateAlignment();
-        //----end19----
     },
     updateAlignment:function () {
-        //----start19----updateAlignment
         var blockSize = cc.size(200, 160);
         var s = director.getWinSize();
 
@@ -1214,7 +1169,6 @@ var LabelTTFTest = AtlasDemo.extend({
         this._label.y = (s.height - blockSize.height) / 2;
 
         this.addChild(this._label);
-        //----end19----
     },
     setAlignmentLeft:function (sender) {
         this._horizAlign = cc.TEXT_ALIGNMENT_LEFT;
@@ -1241,7 +1195,6 @@ var LabelTTFTest = AtlasDemo.extend({
         this.updateAlignment();
     },
     getCurrentAlignment:function () {
-        //----start19----getCurrentAlignment
         var vertical = null;
         var horizontal = null;
         switch (this._vertAlign) {
@@ -1268,7 +1221,6 @@ var LabelTTFTest = AtlasDemo.extend({
         }
 
         return "Alignment " + vertical + " " + horizontal;
-        //----end19----
     },
     title:function () {
         return "Testing cc.LabelTTF";
@@ -1280,7 +1232,6 @@ var LabelTTFTest = AtlasDemo.extend({
 
 var LabelTTFMultiline = AtlasDemo.extend({
     ctor:function () {
-        //----start20----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -1291,7 +1242,6 @@ var LabelTTFMultiline = AtlasDemo.extend({
         center.y = 150;
 
         this.addChild(center);
-        //----end20----
     },
     title:function () {
         return "Testing cc.LabelTTF Word Wrap";
@@ -1327,7 +1277,6 @@ var LabelTTFMultiline = AtlasDemo.extend({
 
 var LabelTTFChinese = AtlasDemo.extend({
     ctor:function () {
-        //----start21----ctor
         this._super();
         var size = director.getWinSize();
         var label = cc.LabelTTF.create("", "Microsoft Yahei", 30);
@@ -1340,7 +1289,6 @@ var LabelTTFChinese = AtlasDemo.extend({
         label2.x = size.width / 2;
         label2.y = size.height / 3;
         this.addChild(label2);
-        //----end21----
     },
     title:function () {
         return "Testing cc.LabelTTF with Chinese character";
@@ -1349,14 +1297,12 @@ var LabelTTFChinese = AtlasDemo.extend({
 
 var BMFontChineseTest = AtlasDemo.extend({
     ctor:function () {
-        //----start18----ctor
         this._super();
         var size = director.getWinSize();
         var label = cc.LabelBMFont.create("", s_resprefix + "fonts/bitmapFontChinese.fnt");
         label.x = size.width / 2;
         label.y = size.height / 2;
         this.addChild(label);
-        //----end18----
     },
     title:function () {
         return "Testing cc.LabelBMFont with Chinese character";
@@ -1412,7 +1358,6 @@ var BMFontMultiLineAlignmentTest = AtlasDemo.extend({
     lastSentenceItem:null,
     lastAlignmentItem:null,
     ctor:function () {
-        //----start11----ctor
         this._super();
 
         cc.eventManager.addListener({
@@ -1497,10 +1442,6 @@ var BMFontMultiLineAlignmentTest = AtlasDemo.extend({
         this.addChild(this.arrowsShouldRetain);
         this.addChild(stringMenu);
         this.addChild(alignmentMenu);
-        //----end11----
-    },
-    __title: function(){
-        return 'The scroll bar';
     },
     title:function () {
         return "";
@@ -1582,7 +1523,7 @@ var BMFontMultiLineAlignmentTest = AtlasDemo.extend({
         }
     },
     onMouseMove:function (touch) {
-        if(event.getButton == undefined || event.getButton() == undefined)
+        if(event.getButton() == undefined)
             return;
 
         var location = touch.getLocation();
@@ -1606,7 +1547,6 @@ var BMFontMultiLineAlignmentTest = AtlasDemo.extend({
 /// LabelTTFA8Test
 var LabelTTFA8Test = AtlasDemo.extend({
     ctor:function () {
-        //----start22----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -1623,9 +1563,8 @@ var LabelTTFA8Test = AtlasDemo.extend({
         var fadeOut = cc.FadeOut.create(2);
         var fadeIn = cc.FadeIn.create(2);
         var seq = cc.Sequence.create(fadeOut, fadeIn);
-        var forever = seq.repeatForever();
+        var forever = cc.RepeatForever.create(seq);
         label1.runAction(forever);
-        //----end22----
     },
     title:function () {
         return "Testing A8 Format";
@@ -1638,7 +1577,6 @@ var LabelTTFA8Test = AtlasDemo.extend({
 /// BMFontOneAtlas
 var BMFontOneAtlas = AtlasDemo.extend({
     ctor:function () {
-        //----start12----ctor
         this._super();
         var s = director.getWinSize();
 
@@ -1651,7 +1589,6 @@ var BMFontOneAtlas = AtlasDemo.extend({
         this.addChild(label2);
         label2.x = s.width / 2;
         label2.y = s.height / 3;
-        //----end12----
     },
 
     title:function () {
@@ -1666,7 +1603,6 @@ var BMFontOneAtlas = AtlasDemo.extend({
 /// BMFontUnicode
 var BMFontUnicode = AtlasDemo.extend({
     ctor:function () {
-        //----start13----ctor
         this._super();
         var chinese = "";
         var japanese = "";
@@ -1686,7 +1622,6 @@ var BMFontUnicode = AtlasDemo.extend({
         this.addChild(label3);
         label3.x = winSize.width / 2;
         label3.y = winSize.height / 1.5;
-        //----end13----
     },
     title:function () {
         return "cc.LabelBMFont with Unicode support";
@@ -1699,7 +1634,6 @@ var BMFontUnicode = AtlasDemo.extend({
 // BMFontInit
 var BMFontInit = AtlasDemo.extend({
     ctor:function () {
-        //----start14----ctor
         this._super();
 
         var bmFont = cc.LabelBMFont.create();
@@ -1708,7 +1642,6 @@ var BMFontInit = AtlasDemo.extend({
         this.addChild(bmFont);
         bmFont.x = winSize.width / 2;
         bmFont.y = winSize.height / 2;
-        //----end14----
     },
     title:function () {
         return "cc.LabelBMFont init";
@@ -1721,7 +1654,6 @@ var BMFontInit = AtlasDemo.extend({
 // LabelTTFFontInitTest
 var LabelTTFFontInitTest = AtlasDemo.extend({
     ctor:function () {
-        //----start23----ctor
         this._super();
         var font = cc.LabelTTF.create();
         font.font = "48px 'Courier New'";
@@ -1730,7 +1662,6 @@ var LabelTTFFontInitTest = AtlasDemo.extend({
         this.addChild(font);
         font.x = winSize.width / 2;
         font.y = winSize.height / 2;
-        //----end23----
     },
     title:function () {
         return "cc.LabelTTF init";
@@ -1743,7 +1674,6 @@ var LabelTTFFontInitTest = AtlasDemo.extend({
 
 var LabelTTFAlignment = AtlasDemo.extend({
     ctor:function () {
-        //----start24----ctor
         this._super();
         var s = director.getWinSize();
         var ttf0 = cc.LabelTTF.create("Alignment 0\nnew line", "Arial", 12, cc.size(256, 32), cc.TEXT_ALIGNMENT_LEFT);
@@ -1766,7 +1696,6 @@ var LabelTTFAlignment = AtlasDemo.extend({
         ttf2.anchorX = 0.5;
         ttf2.anchorY = 0.5;
         this.addChild(ttf2);
-        //----end24----
     },
     title:function () {
         return "cc.LabelTTF alignment";
@@ -1798,7 +1727,6 @@ var LabelTTFAlignment = AtlasDemo.extend({
 
 var BMFontColorParentChild = AtlasDemo.extend({
     ctor:function () {
-        //----start15----ctor
         this._super();
 
         this.label = cc.LabelBMFont.create("YRGB", s_resprefix + "fonts/konqa32.fnt");
@@ -1822,15 +1750,13 @@ var BMFontColorParentChild = AtlasDemo.extend({
         this.scheduleUpdate();
 
         this.accum = 0;
-        //----end15----
+
     },
 
     update:function(dt){
-        //----start15----update
         this.accum += dt;
 
         this.label.setString("YRGB " + parseInt(this.accum,10).toString() );
-        //----end15----
     },
 
     title:function () {
@@ -1900,10 +1826,6 @@ var nextLabelTest = function () {
     labelTestIdx++;
     labelTestIdx = labelTestIdx % arrayOfLabelTest.length;
 
-    if(window.sidebar){
-        labelTestIdx = window.sidebar.changeTest(labelTestIdx, 19);
-    }
-
     return new arrayOfLabelTest[labelTestIdx]();
 };
 var previousLabelTest = function () {
@@ -1911,10 +1833,6 @@ var previousLabelTest = function () {
     if (labelTestIdx < 0)
         labelTestIdx += arrayOfLabelTest.length;
 
-    if(window.sidebar){
-        labelTestIdx = window.sidebar.changeTest(labelTestIdx, 19);
-    }
-
     return new arrayOfLabelTest[labelTestIdx]();
 };
 var restartLabelTest = function () {
diff --git a/samples/js-tests/src/LayerTest/LayerTest.js b/samples/js-tests/src/LayerTest/LayerTest.js
index 9a3299d..3e3e236 100644
--- a/samples/js-tests/src/LayerTest/LayerTest.js
+++ b/samples/js-tests/src/LayerTest/LayerTest.js
@@ -30,8 +30,8 @@ var LAYERTEST2_LAYER1_TAG = 1;
 var LAYERTEST2_LAYER2_TAG = 2;
 
 var LayerTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        layerTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        layerTestSceneIdx = -1;
         this.addChild(nextLayerTest());
         director.runScene(this);
     }
@@ -89,7 +89,6 @@ var LayerTest = BaseTestLayer.extend({
 //------------------------------------------------------------------
 var LayerTest1 = LayerTest.extend({
     onEnter:function () {
-        //----start0----onEnter
         this._super();
 
         if( 'touches' in cc.sys.capabilities )
@@ -115,19 +114,16 @@ var LayerTest1 = LayerTest.extend({
         layer.x = s.width / 2;
         layer.y = s.height / 2;
         this.addChild(layer, 1, cc.TAG_LAYER);
-        //----end0----
     },
     title:function () {
         return "ColorLayer resize (tap & move)";
     },
 
     updateSize:function (location) {
-        //----start0----updateSize
         var l = this.getChildByTag(cc.TAG_LAYER);
 
         l.width = Math.abs(location.x - winSize.width / 2) * 2;
 	    l.height = Math.abs(location.y - winSize.height / 2) * 2;
-        //----end0----
     },
 
     //
@@ -154,7 +150,6 @@ var LayerTest1 = LayerTest.extend({
 
 var IgnoreAnchorpointTest1 = LayerTest.extend({
     onEnter:function () {
-        //----start3----onEnter
         this._super();
         //create layer
         var ws = director.getWinSize();
@@ -166,7 +161,6 @@ var IgnoreAnchorpointTest1 = LayerTest.extend({
         layer1.x = ws.width / 2;
         layer1.y = ws.height / 2;
         this.addChild(layer1);
-        //----end3----
     },
     title:function () {
         return "ignore Anchorpoint Test #1";
@@ -203,7 +197,6 @@ var IgnoreAnchorpointTest1 = LayerTest.extend({
 });
 var IgnoreAnchorpointTest2 = LayerTest.extend({
     onEnter:function () {
-        //----start4----onEnter
         this._super();
         //create layer
         var ws = director.getWinSize();
@@ -215,7 +208,6 @@ var IgnoreAnchorpointTest2 = LayerTest.extend({
         layer1.x = ws.width / 2;
         layer1.y = ws.height / 2;
         this.addChild(layer1);
-        //----end4----
     },
     title:function () {
         return "ignore Anchorpoint Test #2";
@@ -253,7 +245,6 @@ var IgnoreAnchorpointTest2 = LayerTest.extend({
 
 var IgnoreAnchorpointTest3 = LayerTest.extend({
     onEnter:function () {
-        //----start5----onEnter
         this._super();
         //create layer
         var ws = director.getWinSize();
@@ -265,7 +256,6 @@ var IgnoreAnchorpointTest3 = LayerTest.extend({
         layer1.x = ws.width / 2;
         layer1.y = ws.height / 2;
         this.addChild(layer1);
-        //----end5----
     },
     title:function () {
         return "ignore Anchorpoint Test #3";
@@ -277,7 +267,6 @@ var IgnoreAnchorpointTest3 = LayerTest.extend({
 
 var IgnoreAnchorpointTest4 = LayerTest.extend({
     onEnter:function () {
-        //----start6----onEnter
         this._super();
         //create layer
         var ws = director.getWinSize();
@@ -289,7 +278,6 @@ var IgnoreAnchorpointTest4 = LayerTest.extend({
         layer1.x = ws.width / 2;
         layer1.y = ws.height / 2;
         this.addChild(layer1);
-        //----end6----
     },
     title:function () {
         return "ignore Anchorpoint Test #4";
@@ -308,7 +296,6 @@ var IgnoreAnchorpointTest4 = LayerTest.extend({
 var LayerTest2 = LayerTest.extend({
 
     onEnter:function () {
-        //----start1----onEnter
         this._super();
 
         var s = director.getWinSize();
@@ -340,7 +327,6 @@ var LayerTest2 = LayerTest.extend({
 
         layer1.runAction(seq1);
         layer2.runAction(seq2);
-        //----end1----
     },
     title:function () {
         return "ColorLayer: fade and tint";
@@ -389,7 +375,6 @@ var LayerTestBlend = LayerTest.extend({
     _blend:true,
 
     ctor:function () {
-        //----start2----ctor
         this._super();
         var layer1 = cc.LayerColor.create(cc.color(255, 255, 255, 80));
 
@@ -415,10 +400,8 @@ var LayerTestBlend = LayerTest.extend({
 
         this.schedule(this.onNewBlend, 1.0);
         this._blend = true;
-        //----end2----
     },
     onNewBlend:function (dt) {
-        //----start2----onNewBlend
         var layer = this.getChildByTag(cc.TAG_LAYER);
 
         var src;
@@ -433,7 +416,6 @@ var LayerTestBlend = LayerTest.extend({
         }
         layer.setBlendFunc( src, dst );
         this._blend = ! this._blend;
-        //----end2----
     },
     title:function () {
         return "ColorLayer: blend";
@@ -448,7 +430,6 @@ var LayerTestBlend = LayerTest.extend({
 var LayerGradient = LayerTest.extend({
     _isPressed:false,
     ctor:function () {
-        //----start7----onEnter
         this._super();
         var layer1 = cc.LayerGradient.create(cc.color(255, 0, 0, 255), cc.color(0, 255, 0, 255), cc.p(0.9, 0.9));
         this.addChild(layer1, 0, cc.TAG_LAYER);
@@ -486,24 +467,19 @@ var LayerGradient = LayerTest.extend({
          this.addChild(menu);
          menu.x = winSize.width / 2;
          menu.y = 100;
-        //----end7----
     },
 
     updateGradient:function(pos) {
-        //----start7----updateGradient
         var diff = cc.pSub(cc.p(winSize.width / 2, winSize.height / 2), pos);
         diff = cc.pNormalize(diff);
 
         var gradient = this.getChildByTag(1);
         gradient.setVector(diff);
-        //----end7----
     },
 
     onToggleItem:function (sender) {
-        //----start7----onToggleItem
         var gradient = this.getChildByTag(cc.TAG_LAYER);
         gradient.setCompressedInterpolation(!gradient.isCompressedInterpolation());
-        //----end7----
     },
 
     title:function () {
@@ -557,10 +533,6 @@ var nextLayerTest = function () {
     layerTestSceneIdx++;
     layerTestSceneIdx = layerTestSceneIdx % arrayOfLayerTest.length;
 
-    if(window.sidebar){
-        layerTestSceneIdx = window.sidebar.changeTest(layerTestSceneIdx, 20);
-    }
-
     return new arrayOfLayerTest[layerTestSceneIdx]();
 };
 var previousLayerTest = function () {
@@ -568,10 +540,6 @@ var previousLayerTest = function () {
     if (layerTestSceneIdx < 0)
         layerTestSceneIdx += arrayOfLayerTest.length;
 
-    if(window.sidebar){
-        layerTestSceneIdx = window.sidebar.changeTest(layerTestSceneIdx, 20);
-    }
-
     return new arrayOfLayerTest[layerTestSceneIdx]();
 };
 var restartLayerTest = function () {
diff --git a/samples/js-tests/src/MenuTest/MenuTest.js b/samples/js-tests/src/MenuTest/MenuTest.js
index cef9e86..e82d23a 100644
--- a/samples/js-tests/src/MenuTest/MenuTest.js
+++ b/samples/js-tests/src/MenuTest/MenuTest.js
@@ -39,7 +39,6 @@ var MenuLayerMainMenu = cc.Layer.extend({
     _touchListener: null,
 
     ctor:function () {
-        //----start0----ctor
         this._super();
 
         // Font Item
@@ -87,7 +86,7 @@ var MenuLayerMainMenu = cc.Layer.extend({
         var color_action = cc.TintBy.create(0.5, 0, -255, -255);
         var color_back = color_action.reverse();
         var seq = cc.Sequence.create(color_action, color_back);
-        item8.runAction(seq.repeatForever());
+        item8.runAction(cc.RepeatForever.create(seq));
 
         var menu = cc.Menu.create( item1, item2, item3, item4, item5, item7, item8, item9);
         menu.alignItemsVertically();
@@ -116,7 +115,6 @@ var MenuLayerMainMenu = cc.Layer.extend({
         this.addChild(menu);
         menu.x = winSize.width/2;
         menu.y = winSize.height/2;
-        //----end0----
     },
 
     onMenuCallback:function (sender) {
@@ -311,14 +309,14 @@ var MenuLayer3 = cc.Layer.extend({
         item3.y = s.height / 2 - 100;
 
         var jump = cc.JumpBy.create(3, cc.p(400, 0), 50, 4);
-        item2.runAction(cc.Sequence.create(jump, jump.reverse()).repeatForever());
+        item2.runAction(cc.RepeatForever.create(cc.Sequence.create(jump, jump.reverse())));
         var spin1 = cc.RotateBy.create(3, 360);
         var spin2 = spin1.clone();
         var spin3 = spin1.clone();
 
-        item1.runAction(spin1.repeatForever());
-        item2.runAction(spin2.repeatForever());
-        item3.runAction(spin3.repeatForever());
+        item1.runAction(cc.RepeatForever.create(spin1));
+        item2.runAction(cc.RepeatForever.create(spin2));
+        item3.runAction(cc.RepeatForever.create(spin3));
 
         this.addChild(menu);
         menu.x = 0;
@@ -527,5 +525,3 @@ var MenuTestScene = TestScene.extend({
         director.runScene(this);
     }
 });
-
-var arrayOfMenuTest = ["Menu scene test"];
diff --git a/samples/js-tests/src/MotionStreakTest/MotionStreakTest.js b/samples/js-tests/src/MotionStreakTest/MotionStreakTest.js
index ad3dd46..dd592a9 100644
--- a/samples/js-tests/src/MotionStreakTest/MotionStreakTest.js
+++ b/samples/js-tests/src/MotionStreakTest/MotionStreakTest.js
@@ -138,19 +138,19 @@ var MotionStreakTest1 = MotionStreakTest.extend({
 
         var a1 = cc.RotateBy.create(2, 360);
 
-        var action1 = a1.repeatForever();
+        var action1 = cc.RepeatForever.create(a1);
         var motion = cc.MoveBy.create(2, cc.p(100, 0));
-        this._root.runAction(cc.Sequence.create(motion, motion.reverse()).repeatForever());
+        this._root.runAction(cc.RepeatForever.create(cc.Sequence.create(motion, motion.reverse())));
         this._root.runAction(action1);
 
-        var colorAction = cc.Sequence.create(
+        var colorAction = cc.RepeatForever.create(cc.Sequence.create(
             cc.TintTo.create(0.2, 255, 0, 0),
             cc.TintTo.create(0.2, 0, 255, 0),
             cc.TintTo.create(0.2, 0, 0, 255),
             cc.TintTo.create(0.2, 0, 255, 255),
             cc.TintTo.create(0.2, 255, 255, 0),
             cc.TintTo.create(0.2, 255, 0, 255),
-            cc.TintTo.create(0.2, 255, 255, 255)).repeatForever();
+            cc.TintTo.create(0.2, 255, 255, 255)));
 
         this._streak.runAction(colorAction);
     },
diff --git a/samples/js-tests/src/NewEventManagerTest/NewEventManagerTest.js b/samples/js-tests/src/NewEventManagerTest/NewEventManagerTest.js
index a900340..54bcded 100644
--- a/samples/js-tests/src/NewEventManagerTest/NewEventManagerTest.js
+++ b/samples/js-tests/src/NewEventManagerTest/NewEventManagerTest.js
@@ -68,7 +68,6 @@ var EventDispatcherTestDemo = BaseTestLayer.extend({
 
 var TouchableSpriteTest =  EventDispatcherTestDemo.extend({
     onEnter:function(){
-        //----start0----onEnter
         this._super();
 
         var origin = director.getVisibleOrigin();
@@ -156,7 +155,6 @@ var TouchableSpriteTest =  EventDispatcherTestDemo.extend({
         menu.setPosition(0, 0);
         menu.setAnchorPoint(0, 0);
         this.addChild(menu);
-        //----end0----
     },
 
     title:function(){
@@ -245,7 +243,6 @@ TouchableSprite.create = function(priority){
 
 var FixedPriorityTest =  EventDispatcherTestDemo.extend({
     onEnter:function(){
-        //----start1----onEnter
         this._super();
 
         var origin = director.getVisibleOrigin();
@@ -268,7 +265,6 @@ var FixedPriorityTest =  EventDispatcherTestDemo.extend({
         sprite3.x = 0;
         sprite3.y = 0;
         sprite2.addChild(sprite3, 1);
-        //----end1----
     },
 
     title:function(){
@@ -288,7 +284,6 @@ FixedPriorityTest.create = function(){
 
 var RemoveListenerWhenDispatching =  EventDispatcherTestDemo.extend({
     onEnter:function(){
-        //----start2----onEnter
         this._super();
 
         var origin = director.getVisibleOrigin();
@@ -346,7 +341,6 @@ var RemoveListenerWhenDispatching =  EventDispatcherTestDemo.extend({
         menu.setPosition(0, 0);
         menu.setAnchorPoint(0, 0);
         this.addChild(menu, 1);
-        //----end2----
     },
 
     title:function(){
@@ -371,7 +365,6 @@ var CustomEventTest =  EventDispatcherTestDemo.extend({
     _item2Count: 0,
 
     onEnter:function(){
-        //----start3----onEnter
         this._super();
 
         var origin = director.getVisibleOrigin(), size = director.getVisibleSize(), selfPointer = this;
@@ -424,15 +417,12 @@ var CustomEventTest =  EventDispatcherTestDemo.extend({
         menu.setPosition(0, 0);
         menu.setAnchorPoint(0, 0);
         this.addChild(menu, 1);
-        //----end3----
     },
 
     onExit:function(){
-        //----start3----onExit
         cc.eventManager.removeListener(this._listener1);
         cc.eventManager.removeListener(this._listener2);
         this._super();
-        //----end3----
     },
 
     title:function(){
@@ -452,7 +442,6 @@ CustomEventTest.create = function(){
 
 var LabelKeyboardEventTest =  EventDispatcherTestDemo.extend({
     onEnter:function(){
-        //----start4----onEnter
         this._super();
 
         var origin = director.getVisibleOrigin();
@@ -473,7 +462,6 @@ var LabelKeyboardEventTest =  EventDispatcherTestDemo.extend({
                 label.setString("Key " + String.fromCharCode(keyCode) + "(" + keyCode.toString()  + ") was released!");
             }
         }, statusLabel);
-        //----end4----
     },
 
     title:function(){
@@ -493,7 +481,6 @@ LabelKeyboardEventTest.create = function(){
 
 var SpriteAccelerationEventTest =  EventDispatcherTestDemo.extend({
     onEnter:function(){
-        //----start5----onEnter
         this._super();
 
         var origin = director.getVisibleOrigin();
@@ -520,14 +507,11 @@ var SpriteAccelerationEventTest =  EventDispatcherTestDemo.extend({
                     (cc.visibleRect.bottom.y + ballSize.height / 2.0), (cc.visibleRect.top.y - ballSize.height / 2.0));
             }
         }, sprite);
-        //----end5----
     },
 
     onExit:function(){
-        //----start5----onEnter
         cc.inputManager.setAccelerometerEnabled(false);
         this._super();
-        //----end----
     },
 
     title:function(){
@@ -559,7 +543,6 @@ var RemoveAndRetainNodeTest =  EventDispatcherTestDemo.extend({
     _spriteSaved:false,
 
     onEnter:function(){
-        //----start6----onEnter
         this._super();
 
         var origin = director.getVisibleOrigin();
@@ -616,15 +599,12 @@ var RemoveAndRetainNodeTest =  EventDispatcherTestDemo.extend({
                 this._sprite.release();
             }, this)
         ));
-        //----end6----
     },
 
     onExit:function(){
-        //----start6----onExit
         this._super();
         if (this._spriteSaved)
             this._sprite.release();
-        //----end6----
     },
 
     title:function(){
@@ -644,7 +624,6 @@ RemoveAndRetainNodeTest.create = function(){
 
 var RemoveListenerAfterAddingTest =  EventDispatcherTestDemo.extend({
     onEnter:function(){
-        //----start7----onEnter
         this._super();
         var selfPointer = this;
         var item1 = cc.MenuItemFont.create("Click Me 1", function(sender){
@@ -705,7 +684,6 @@ var RemoveListenerAfterAddingTest =  EventDispatcherTestDemo.extend({
         menu.setPosition(cc.visibleRect.bottomLeft);
         menu.setAnchorPoint(0, 0);
         this.addChild(menu);
-        //----end7----
     },
 
     title:function(){
@@ -739,7 +717,6 @@ var DirectorEventTest =  EventDispatcherTestDemo.extend({
     _time:0,
 
     onEnter:function(){
-        //----start8----onEnter
         this._super();
         var s = director.getWinSize(), selfPointer = this;
 
@@ -779,7 +756,6 @@ var DirectorEventTest =  EventDispatcherTestDemo.extend({
     },
 
     onExit:function(){
-        //----start8----onExit
         this._super();
 
         var eventManager = cc.eventManager;
@@ -792,29 +768,22 @@ var DirectorEventTest =  EventDispatcherTestDemo.extend({
         this._event2.release();
         this._event3.release();
         this._event4.release();
-        //----end8----
     },
 
     update:function(dt){
-        //----start8----update
         this._time += dt;
         if(this._time > 0.5) {
             cc.director.setProjection(cc.Director.PROJECTION_2D);
             this._time = 0;
         }
-        //----end8----
     },
 
     onEvent1:function(event){
-        //----start8----onExit
         this._label1.setString("Update: " + this._count1++);
-        //----end8----
     },
 
     onEvent2:function(event){
-        //----start8----onExit
         this._label2.setString("Visit: " + this._count2++);
-        //----end8----
     },
 
     title:function(){
@@ -913,7 +882,6 @@ GlobalZTouchTest.create = function(){
 
 var StopPropagationTest = EventDispatcherTestDemo.extend({
     ctor:function(){
-        //----start9----ctor
         this._super();
 
         var touchOneByOneListener = cc.EventListener.create({
@@ -1018,21 +986,16 @@ var StopPropagationTest = EventDispatcherTestDemo.extend({
             sprite2.x = cc.visibleRect.left.x + visibleSize.width / (SPRITE_COUNT - 1) * i;
             sprite2.y = cc.visibleRect.center.y - sprite2.getContentSize().height / 2 - 10;
         }
-        //----end9----
     },
 
     _isPointInNode: function (pt, node) {
-        //----start9----_isPointInNode
         var s = node.getContentSize();
         return cc.rectContainsPoint(cc.rect(0, 0, s.width, s.height), node.convertToNodeSpace(pt));
-        //----end9----
     },
 
     _isPointInTopHalfAreaOfScreen: function(pt){
-        //----start9----_isPointInTopHalfAreaOfScreen
         var winSize = cc.director.getWinSize();
         return (pt.y >= winSize.height/2);
-        //----end9----
     },
 
     title: function(){
@@ -1054,7 +1017,6 @@ StopPropagationTest.create = function(){
 
 var Issue4160 = EventDispatcherTestDemo.extend({
     ctor: function(){
-        //----start10----ctor
         this._super();
         var origin = cc.director.getVisibleOrigin();
         var size = cc.director.getVisibleSize();
@@ -1077,7 +1039,6 @@ var Issue4160 = EventDispatcherTestDemo.extend({
         sprite3.x = 0;
         sprite3.y = 0;
         sprite2.addChild(sprite3, 21);
-        //----end10----
     },
 
     title: function(){
@@ -1097,7 +1058,6 @@ Issue4160.create = function(){
 
 var PauseResumeTargetTest = EventDispatcherTestDemo.extend({
     ctor: function () {
-        //----start11----ctor
         this._super();
 
         var origin = cc.director.getVisibleOrigin();
@@ -1167,7 +1127,6 @@ var PauseResumeTargetTest = EventDispatcherTestDemo.extend({
         menu.setPosition(0, 0);
 
         this.addChild(menu);
-        //----end11----
     },
 
     title: function(){
@@ -1186,8 +1145,8 @@ PauseResumeTargetTest.create = function(){
 };
 
 var EventDispatcherTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        eventDispatcherSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        eventDispatcherSceneIdx = -1;
         this.addChild(nextDispatcherTest());
         director.runScene(this);
     }
@@ -1212,22 +1171,12 @@ var arrayOfEventDispatcherTest = [
 var nextDispatcherTest = function () {
     eventDispatcherSceneIdx++;
     eventDispatcherSceneIdx = eventDispatcherSceneIdx % arrayOfEventDispatcherTest.length;
-
-    if(window.sidebar){
-        eventDispatcherSceneIdx = window.sidebar.changeTest(eventDispatcherSceneIdx, 11);
-    }
-
     return new arrayOfEventDispatcherTest[eventDispatcherSceneIdx]();
 };
 var previousDispatcherTest = function () {
     eventDispatcherSceneIdx--;
     if (eventDispatcherSceneIdx < 0)
         eventDispatcherSceneIdx += arrayOfEventDispatcherTest.length;
-
-    if(window.sidebar){
-        eventDispatcherSceneIdx = window.sidebar.changeTest(eventDispatcherSceneIdx, 11);
-    }
-
     return new arrayOfEventDispatcherTest[eventDispatcherSceneIdx]();
 };
 var restartDispatcherTest = function () {
diff --git a/samples/js-tests/src/ParallaxTest/ParallaxTest.js b/samples/js-tests/src/ParallaxTest/ParallaxTest.js
index 83b0506..4efd4c6 100644
--- a/samples/js-tests/src/ParallaxTest/ParallaxTest.js
+++ b/samples/js-tests/src/ParallaxTest/ParallaxTest.js
@@ -124,7 +124,7 @@ Parallax1 = ParallaxDemo.extend({
         var goDown = goUp.reverse();
         var goLeft = goRight.reverse();
         var seq = cc.Sequence.create(goUp, goRight, delay, goDown, goLeft);
-        this._parentNode.runAction(seq.repeatForever());
+        this._parentNode.runAction((cc.RepeatForever.create(seq) ));
 
         this.addChild(this._parentNode);
     },
diff --git a/samples/js-tests/src/ParticleTest/ParticleTest.js b/samples/js-tests/src/ParticleTest/ParticleTest.js
index e87f77d..8371399 100644
--- a/samples/js-tests/src/ParticleTest/ParticleTest.js
+++ b/samples/js-tests/src/ParticleTest/ParticleTest.js
@@ -312,7 +312,7 @@ var ParticleDemo = BaseTestLayer.extend({
         var move_back = move.reverse();
 
         var seq = cc.Sequence.create(move, move_back);
-        this._background.runAction(seq.repeatForever());
+        this._background.runAction(cc.RepeatForever.create(seq));
 
         this.scheduleUpdate();
     },
@@ -885,7 +885,7 @@ var ParallaxParticle = ParticleDemo.extend({
         var move = cc.MoveBy.create(4, cc.p(300, 0));
         var move_back = move.reverse();
         var seq = cc.Sequence.create(move, move_back);
-        p.runAction(seq.repeatForever());
+        p.runAction(cc.RepeatForever.create(seq));
     },
     title:function () {
         return "Parallax + Particles";
@@ -1157,7 +1157,7 @@ var Issue704 = ParticleDemo.extend({
         this._emitter.setBlendAdditive(false);
 
         var rot = cc.RotateBy.create(16, 360);
-        this._emitter.runAction(rot.repeatForever());
+        this._emitter.runAction(cc.RepeatForever.create(rot));
     },
     title:function () {
         return "Issue 704. Free + Rot";
diff --git a/samples/js-tests/src/PerformanceTest/PerformanceAnimationTest.js b/samples/js-tests/src/PerformanceTest/PerformanceAnimationTest.js
index 99cf14c..8c18700 100644
--- a/samples/js-tests/src/PerformanceTest/PerformanceAnimationTest.js
+++ b/samples/js-tests/src/PerformanceTest/PerformanceAnimationTest.js
@@ -138,7 +138,7 @@ var AnimationTest = AnimationMenuLayer.extend({
             this.moveLayer.addChild(character, 0, this.numNodes);
         }
         var action = cc.MoveBy.create(1, cc.p(20,0));
-        this.moveLayer.runAction(action.repeatForever());
+        this.moveLayer.runAction(cc.RepeatForever.create(action));
         this.updateNodes();
     },
     onIncrease:function () {
@@ -184,7 +184,8 @@ var CharacterView = cc.Node.extend({
             right.rotation = -90;
             right.scale = 1;
             this.addChild(right);
-
+            // var scaleStep = cc.ScaleBy.create(0.5, -0.8);
+            // right.runAction(cc.RepeatForever.create(scaleStep));
             rightData[i] = right;
             if (i == 0) {
                 rightItem = right;
@@ -199,7 +200,7 @@ var CharacterView = cc.Node.extend({
             head.scale = 1.5;
             head.rotation = 350;
             var rotateToA = cc.RotateBy.create(0.01, 5);
-            head.runAction(rotateToA.repeatForever());
+            head.runAction(cc.RepeatForever.create(rotateToA));
         }
 
         leftData = new Array(10);
diff --git a/samples/js-tests/src/PerformanceTest/PerformanceSpriteTest.js b/samples/js-tests/src/PerformanceTest/PerformanceSpriteTest.js
index 23b9a84..97c45db 100644
--- a/samples/js-tests/src/PerformanceTest/PerformanceSpriteTest.js
+++ b/samples/js-tests/src/PerformanceTest/PerformanceSpriteTest.js
@@ -427,12 +427,12 @@ function performanceActions(sprite) {
     var period = 0.5 + (Math.random() * 1000) / 500.0;
     var rot = cc.RotateBy.create(period, 360.0 * Math.random());
     var rot_back = rot.reverse();
-    var permanentRotation = cc.Sequence.create(rot, rot_back).repeatForever();
+    var permanentRotation = cc.RepeatForever.create(cc.Sequence.create(rot, rot_back));
     sprite.runAction(permanentRotation);
 
     var growDuration = 0.5 + (Math.random() * 1000) / 500.0;
     var grow = cc.ScaleBy.create(growDuration, 0.5, 0.5);
-    var permanentScaleLoop = cc.Sequence.create(grow, grow.reverse()).repeatForever();
+    var permanentScaleLoop = cc.RepeatForever.create(cc.Sequence.create(grow, grow.reverse()));
     sprite.runAction(permanentScaleLoop);
 }
 
@@ -450,12 +450,12 @@ function performanceActions20(sprite) {
     var period = 0.5 + (Math.random() * 1000) / 500.0;
     var rot = cc.RotateBy.create(period, 360.0 * Math.random());
     var rot_back = rot.reverse();
-    var permanentRotation = cc.Sequence.create(rot, rot_back).repeatForever();
+    var permanentRotation = cc.RepeatForever.create(cc.Sequence.create(rot, rot_back));
     sprite.runAction(permanentRotation);
 
     var growDuration = 0.5 + (Math.random() * 1000) / 500.0;
     var grow = cc.ScaleBy.create(growDuration, 0.5, 0.5);
-    var permanentScaleLoop = cc.Sequence.create(grow, grow.reverse()).repeatForever();
+    var permanentScaleLoop = cc.RepeatForever.create(cc.Sequence.create(grow, grow.reverse()));
     sprite.runAction(permanentScaleLoop);
 }
 
diff --git a/samples/js-tests/src/ProgressActionsTest/ProgressActionsTest.js b/samples/js-tests/src/ProgressActionsTest/ProgressActionsTest.js
index 0d12d90..b358ccc 100644
--- a/samples/js-tests/src/ProgressActionsTest/ProgressActionsTest.js
+++ b/samples/js-tests/src/ProgressActionsTest/ProgressActionsTest.js
@@ -65,7 +65,6 @@ var SpriteDemo = BaseTestLayer.extend({
 
 var SpriteProgressToRadial = SpriteDemo.extend({
     onEnter:function () {
-        //----start0----onEnter
         this._super();
 
         var to1 = cc.ProgressTo.create(2, 100);
@@ -76,7 +75,7 @@ var SpriteProgressToRadial = SpriteDemo.extend({
         this.addChild(left);
         left.x = 200;
         left.y = winSize.height / 2;
-        left.runAction(to1.repeatForever());
+        left.runAction(cc.RepeatForever.create(to1));
 
         var right = cc.ProgressTimer.create(cc.Sprite.create(s_pathBlock));
         right.type = cc.ProgressTimer.TYPE_RADIAL;
@@ -84,8 +83,7 @@ var SpriteProgressToRadial = SpriteDemo.extend({
         this.addChild(right);
         right.x = winSize.width - 200;
         right.y = winSize.height / 2;
-        right.runAction(to2.repeatForever());
-        //----end0----
+        right.runAction(cc.RepeatForever.create(to2));
     },
 
     title:function () {
@@ -95,7 +93,6 @@ var SpriteProgressToRadial = SpriteDemo.extend({
 
 var SpriteProgressToHorizontal = SpriteDemo.extend({
     onEnter:function () {
-        //----start1----onEnter
         this._super();
 
         var to1 = cc.ProgressTo.create(2, 100);
@@ -110,7 +107,7 @@ var SpriteProgressToHorizontal = SpriteDemo.extend({
         this.addChild(left);
         left.x = 200;
         left.y = winSize.height / 2;
-        left.runAction(to1.repeatForever());
+        left.runAction(cc.RepeatForever.create(to1));
 
         var right = cc.ProgressTimer.create(cc.Sprite.create(s_pathSister2));
         right.type = cc.ProgressTimer.TYPE_BAR;
@@ -121,8 +118,7 @@ var SpriteProgressToHorizontal = SpriteDemo.extend({
         this.addChild(right);
         right.x = winSize.width - 200;
         right.y = winSize.height / 2;
-        right.runAction(to2.repeatForever());
-        //----end1----
+        right.runAction(cc.RepeatForever.create(to2));
     },
     title:function () {
         return "ProgressTo Horizontal";
@@ -131,7 +127,6 @@ var SpriteProgressToHorizontal = SpriteDemo.extend({
 
 var SpriteProgressToVertical = SpriteDemo.extend({
     onEnter:function () {
-        //----start2----onEnter
         this._super();
 
         var to1 = cc.ProgressTo.create(2, 100);
@@ -146,7 +141,7 @@ var SpriteProgressToVertical = SpriteDemo.extend({
         this.addChild(left);
         left.x = 200;
         left.y = winSize.height / 2;
-        left.runAction(to1.repeatForever());
+        left.runAction(cc.RepeatForever.create(to1));
 
         var right = cc.ProgressTimer.create(cc.Sprite.create(s_pathSister2));
         right.type = cc.ProgressTimer.TYPE_BAR;
@@ -157,8 +152,7 @@ var SpriteProgressToVertical = SpriteDemo.extend({
         this.addChild(right);
         right.x = winSize.width - 200;
         right.y = winSize.height / 2;
-        right.runAction(to2.repeatForever());
-        //----end2----
+        right.runAction(cc.RepeatForever.create(to2));
     },
     title:function () {
         return "ProgressTo Vertical";
@@ -167,7 +161,6 @@ var SpriteProgressToVertical = SpriteDemo.extend({
 
 var SpriteProgressToRadialMidpointChanged = SpriteDemo.extend({
     onEnter:function () {
-        //----start3----onEnter
         this._super();
 
         var action = cc.ProgressTo.create(2, 100);
@@ -181,7 +174,7 @@ var SpriteProgressToRadialMidpointChanged = SpriteDemo.extend({
         left.midPoint = cc.p(0.25, 0.75);
         left.x = 200;
         left.y = winSize.height / 2;
-        left.runAction(action.clone().repeatForever());
+        left.runAction(cc.RepeatForever.create(action.clone()));
 
         /**
          *  Our image on the left should be a radial progress indicator, counter clockwise
@@ -196,8 +189,7 @@ var SpriteProgressToRadialMidpointChanged = SpriteDemo.extend({
         this.addChild(right);
         right.x = winSize.width - 200;
         right.y = winSize.height / 2;
-        right.runAction(action.clone().repeatForever());
-        //----end3----
+        right.runAction(cc.RepeatForever.create(action.clone()));
     },
 
     title:function () {
@@ -207,7 +199,6 @@ var SpriteProgressToRadialMidpointChanged = SpriteDemo.extend({
 
 var SpriteProgressBarVarious = SpriteDemo.extend({
     onEnter:function () {
-        //----start4----onEnter
         this._super();
 
         var to = cc.ProgressTo.create(2, 100);
@@ -222,7 +213,7 @@ var SpriteProgressBarVarious = SpriteDemo.extend({
         this.addChild(left);
         left.x = 150;
         left.y = winSize.height / 2;
-        left.runAction(to.clone().repeatForever());
+        left.runAction(cc.RepeatForever.create(to.clone()));
 
         var middle = cc.ProgressTimer.create(cc.Sprite.create(s_pathSister2));
         middle.type = cc.ProgressTimer.TYPE_BAR;
@@ -233,7 +224,7 @@ var SpriteProgressBarVarious = SpriteDemo.extend({
         this.addChild(middle);
         middle.x = winSize.width / 2;
         middle.y = winSize.height / 2;
-        middle.runAction(to.clone().repeatForever());
+        middle.runAction(cc.RepeatForever.create(to.clone()));
 
         var right = cc.ProgressTimer.create(cc.Sprite.create(s_pathSister2));
         right.type = cc.ProgressTimer.TYPE_BAR;
@@ -244,8 +235,7 @@ var SpriteProgressBarVarious = SpriteDemo.extend({
         this.addChild(right);
         right.x = winSize.width - 150;
         right.y = winSize.height / 2;
-        right.runAction(to.clone().repeatForever());
-        //----end4----
+        right.runAction(cc.RepeatForever.create(to.clone()));
     },
 
     title:function () {
@@ -255,7 +245,6 @@ var SpriteProgressBarVarious = SpriteDemo.extend({
 
 var SpriteProgressBarTintAndFade = SpriteDemo.extend({
     onEnter:function () {
-        //----start5----onEnter
         this._super();
 
         var to = cc.ProgressTo.create(6, 100);
@@ -275,8 +264,8 @@ var SpriteProgressBarTintAndFade = SpriteDemo.extend({
         this.addChild(left);
         left.x = 150;
         left.y = winSize.height / 2;
-        left.runAction(to.clone().repeatForever());
-        left.runAction(tint.clone().repeatForever());
+        left.runAction(cc.RepeatForever.create(to.clone()));
+        left.runAction(cc.RepeatForever.create(tint.clone()));
 
         left.addChild(cc.LabelTTF.create("Tint", "Marker Felt", 20.0));
 
@@ -289,8 +278,8 @@ var SpriteProgressBarTintAndFade = SpriteDemo.extend({
         this.addChild(middle);
         middle.x = winSize.width / 2;
         middle.y = winSize.height / 2;
-        middle.runAction(to.clone().repeatForever());
-        middle.runAction(fade.clone().repeatForever());
+        middle.runAction(cc.RepeatForever.create(to.clone()));
+        middle.runAction(cc.RepeatForever.create(fade.clone()));
 
         middle.addChild(cc.LabelTTF.create("Fade", "Marker Felt", 20.0));
 
@@ -303,12 +292,11 @@ var SpriteProgressBarTintAndFade = SpriteDemo.extend({
         this.addChild(right);
         right.x = winSize.width - 150;
         right.y = winSize.height / 2;
-        right.runAction(to.clone().repeatForever());
-        right.runAction(tint.clone().repeatForever());
-        right.runAction(fade.clone().repeatForever());
+        right.runAction(cc.RepeatForever.create(to.clone()));
+        right.runAction(cc.RepeatForever.create(tint.clone()));
+        right.runAction(cc.RepeatForever.create(fade.clone()));
 
         right.addChild(cc.LabelTTF.create("Tint and Fade", "Marker Felt", 20.0));
-        //----end5----
     },
 
     title:function () {
@@ -318,7 +306,6 @@ var SpriteProgressBarTintAndFade = SpriteDemo.extend({
 
 var SpriteProgressWithSpriteFrame = SpriteDemo.extend({
     onEnter:function () {
-        //----start6----onEnter
         this._super();
 
         var to = cc.ProgressTo.create(6, 100);
@@ -334,7 +321,7 @@ var SpriteProgressWithSpriteFrame = SpriteDemo.extend({
         this.addChild(left);
         left.x = 150;
         left.y = winSize.height / 2;
-        left.runAction(to.clone().repeatForever());
+        left.runAction(cc.RepeatForever.create(to.clone()));
 
         var middle = cc.ProgressTimer.create(cc.Sprite.create("#grossini_dance_02.png"));
         middle.type = cc.ProgressTimer.TYPE_BAR;
@@ -345,7 +332,7 @@ var SpriteProgressWithSpriteFrame = SpriteDemo.extend({
         this.addChild(middle);
         middle.x = winSize.width / 2;
         middle.y = winSize.height / 2;
-        middle.runAction(to.clone().repeatForever());
+        middle.runAction(cc.RepeatForever.create(to.clone()));
 
         var right = cc.ProgressTimer.create(cc.Sprite.create("#grossini_dance_03.png"));
         right.type = cc.ProgressTimer.TYPE_RADIAL;
@@ -356,8 +343,7 @@ var SpriteProgressWithSpriteFrame = SpriteDemo.extend({
         this.addChild(right);
         right.x = winSize.width - 150;
         right.y = winSize.height / 2;
-        right.runAction(to.clone().repeatForever());
-        //----end6----
+        right.runAction(cc.RepeatForever.create(to.clone()));
     },
 
     title:function () {
@@ -367,8 +353,8 @@ var SpriteProgressWithSpriteFrame = SpriteDemo.extend({
 
 var ProgressActionsTestScene = TestScene.extend({
 
-    runThisTest:function (num) {
-        ProgressTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        ProgressTestSceneIdx = -1;
         this.addChild(nextProgressTest());
         director.runScene(this);
     }
@@ -389,10 +375,6 @@ var nextProgressTest = function () {
     ProgressTestSceneIdx++;
     ProgressTestSceneIdx = ProgressTestSceneIdx % arrayOfProgressTest.length;
 
-    if(window.sidebar){
-        ProgressTestSceneIdx = window.sidebar.changeTest(ProgressTestSceneIdx, 30);
-    }
-
     return new arrayOfProgressTest[ProgressTestSceneIdx]();
 };
 var previousProgressTest = function () {
@@ -400,10 +382,6 @@ var previousProgressTest = function () {
     if (ProgressTestSceneIdx < 0)
         ProgressTestSceneIdx += arrayOfProgressTest.length;
 
-    if(window.sidebar){
-        ProgressTestSceneIdx = window.sidebar.changeTest(ProgressTestSceneIdx, 30);
-    }
-
     return new arrayOfProgressTest[ProgressTestSceneIdx]();
 };
 var restartProgressTest = function () {
diff --git a/samples/js-tests/src/RenderTextureTest/RenderTextureTest.js b/samples/js-tests/src/RenderTextureTest/RenderTextureTest.js
index d840006..c671381 100644
--- a/samples/js-tests/src/RenderTextureTest/RenderTextureTest.js
+++ b/samples/js-tests/src/RenderTextureTest/RenderTextureTest.js
@@ -604,7 +604,7 @@ var Issue1464 = RenderTextureBaseLayer.extend({
         var fadein = fadeout.reverse();
         var delay = cc.DelayTime.create(0.25);
         var seq = cc.Sequence.create(fadeout, delay, fadein, delay.clone());
-        var fe = seq.repeatForever();
+        var fe = cc.RepeatForever.create(seq);
         rend.getSprite().runAction(fe);
 
         if (!cc.sys.isNative && !("opengl" in cc.sys.capabilities)) {
diff --git a/samples/js-tests/src/RotateWorldTest/RotateWorldTest.js b/samples/js-tests/src/RotateWorldTest/RotateWorldTest.js
index d87781a..72b6140 100644
--- a/samples/js-tests/src/RotateWorldTest/RotateWorldTest.js
+++ b/samples/js-tests/src/RotateWorldTest/RotateWorldTest.js
@@ -77,11 +77,11 @@ var SpriteLayer = cc.Layer.extend({
         var rot1 = cc.RotateBy.create(4, 360 * 2);
         var rot2 = rot1.reverse();
 
-        spriteSister1.runAction(cc.Sequence.create(jump2, jump1).repeat(5));
-        spriteSister2.runAction(cc.Sequence.create(jump1.clone(), jump2.clone()).repeat(5));
+        spriteSister1.runAction(cc.Repeat.create(cc.Sequence.create(jump2, jump1), 5));
+        spriteSister2.runAction(cc.Repeat.create(cc.Sequence.create(jump1.clone(), jump2.clone()), 5));
 
         spriteSister1.runAction(cc.Repeat.create(cc.Sequence.create(rot1, rot2), 5));
-        spriteSister2.runAction(cc.Sequence.create(rot2.clone(), rot1.clone()).repeat(5));
+        spriteSister2.runAction(cc.Repeat.create(cc.Sequence.create(rot2.clone(), rot1.clone()), 5));
     }
 });
 
diff --git a/samples/js-tests/src/SceneTest/SceneTest.js b/samples/js-tests/src/SceneTest/SceneTest.js
index 2a52ca8..cb44aa9 100644
--- a/samples/js-tests/src/SceneTest/SceneTest.js
+++ b/samples/js-tests/src/SceneTest/SceneTest.js
@@ -33,7 +33,6 @@ var MID_GOBACK = 105;
 
 var SceneTestLayer1 = cc.Layer.extend({
     ctor:function () {
-        //----start0----Scene1-ctor
         this._super();
         this.init();
 
@@ -53,10 +52,8 @@ var SceneTestLayer1 = cc.Layer.extend({
         sprite.x = s.width - 40;
         sprite.y = s.height / 2;
         var rotate = cc.RotateBy.create(2, 360);
-        var repeat = rotate.repeatForever();
+        var repeat = cc.RepeatForever.create(rotate);
         sprite.runAction(repeat);
-        //----end0----
-
         //cc.schedule(this.testDealloc);
     },
 
@@ -100,7 +97,6 @@ var SceneTestLayer2 = cc.Layer.extend({
     timeCounter:0,
 
     ctor:function () {
-        //----start0----Scene2-ctor
         this._super();
         this.init();
 
@@ -122,9 +118,8 @@ var SceneTestLayer2 = cc.Layer.extend({
         sprite.x = s.width - 40;
         sprite.y = s.height / 2;
         var rotate = cc.RotateBy.create(2, 360);
-        var repeat = rotate.repeatForever();
+        var repeat = cc.RepeatForever.create(rotate);
         sprite.runAction(repeat);
-        //----end0----
 
         //cc.schedule(this.testDealloc);
     },
@@ -158,8 +153,6 @@ var SceneTestLayer2 = cc.Layer.extend({
 var SceneTestLayer3 = cc.LayerColor.extend({
     
     ctor:function () {
-
-        //----start0----Scene3-ctor
         this._super();
         this.init( cc.color(0,128,255,255) );
 
@@ -176,9 +169,8 @@ var SceneTestLayer3 = cc.LayerColor.extend({
 
         sprite.y = s.height / 2;
         var rotate = cc.RotateBy.create(2, 360);
-        var repeat = rotate.repeatForever();
+        var repeat = cc.RepeatForever.create(rotate);
         sprite.runAction(repeat);
-        //----end0----
     },
     
     onEnterTransitionDidFinish: function () {
@@ -215,7 +207,3 @@ SceneTestScene = TestScene.extend({
 
     }
 });
-
-var arrayOfSceneTest = [
-    'Scene Layer'
-];
diff --git a/samples/js-tests/src/SchedulerTest/SchedulerTest.js b/samples/js-tests/src/SchedulerTest/SchedulerTest.js
index 3753970..f87ed5a 100644
--- a/samples/js-tests/src/SchedulerTest/SchedulerTest.js
+++ b/samples/js-tests/src/SchedulerTest/SchedulerTest.js
@@ -77,13 +77,11 @@ var SchedulerAutoremove = SchedulerTestLayer.extend({
     _accum:0,
 
     onEnter:function () {
-        //----start0----onEnter
         this._super();
 
         this.schedule(this.onAutoremove, 0.5);
         this.schedule(this.onTick, 0.5);
         this._accum = 0;
-        //----end0----
     },
     title:function () {
         return "Self-remove an scheduler";
@@ -93,7 +91,6 @@ var SchedulerAutoremove = SchedulerTestLayer.extend({
     },
 
     onAutoremove:function (dt) {
-        //----start0----onAutoremove
         this._accum += dt;
         cc.log("Time: " + this._accum);
 
@@ -101,7 +98,6 @@ var SchedulerAutoremove = SchedulerTestLayer.extend({
             this.unschedule(this.onAutoremove);
             cc.log("scheduler removed");
         }
-        //----end0----
     },
     onTick:function (dt) {
         cc.log("This scheduler should not be removed");
@@ -113,13 +109,11 @@ var SchedulerAutoremove = SchedulerTestLayer.extend({
 */
 var SchedulerPauseResume = SchedulerTestLayer.extend({
     onEnter:function () {
-        //----start1----onEnter
         this._super();
 
         this.schedule(this.onTick1, 0.5);
         this.schedule(this.onTick2, 0.5);
         this.schedule(this.onPause, 3);
-        //----end1----
     },
     title:function () {
         return "Pause / Resume";
@@ -129,19 +123,13 @@ var SchedulerPauseResume = SchedulerTestLayer.extend({
     },
 
     onTick1:function (dt) {
-        //----start1----onTick1
         cc.log("tick1");
-        //----end1----
     },
     onTick2:function (dt) {
-        //----start1----onTick2
         cc.log("tick2");
-        //----end1----
     },
     onPause:function (dt) {
-        //----start1----onPause
         director.getScheduler().pauseTarget(this);
-        //----end1----
     }
 });
 
@@ -150,7 +138,6 @@ var SchedulerPauseResume = SchedulerTestLayer.extend({
 */
 var SchedulerUnscheduleAll = SchedulerTestLayer.extend({
     onEnter:function () {
-        //----start2----onEnter
         this._super();
 
         this.schedule(this.onTick1, 0.5);
@@ -158,7 +145,6 @@ var SchedulerUnscheduleAll = SchedulerTestLayer.extend({
         this.schedule(this.onTick3, 1.5);
         this.schedule(this.onTick4, 1.5);
         this.schedule(this.onUnscheduleAll, 4);
-        //----end2----
     },
     title:function () {
         return "Unschedule All callbacks";
@@ -168,29 +154,19 @@ var SchedulerUnscheduleAll = SchedulerTestLayer.extend({
     },
 
     onTick1:function (dt) {
-        //----start2----onTick1
         cc.log("tick1");
-        //----end2----
     },
     onTick2:function (dt) {
-        //----start2----onTick2
         cc.log("tick2");
-        //----end2----
     },
     onTick3:function (dt) {
-        //----start2----onTick3
         cc.log("tick3");
-        //----end2----
     },
     onTick4:function (dt) {
-        //----start2----onTick4
         cc.log("tick4");
-        //----end2----
     },
     onUnscheduleAll:function (dt) {
-        //----start2----onUnscheduleAll
         this.unscheduleAllCallbacks();
-        //----end2----
     }
 });
 
@@ -199,7 +175,6 @@ var SchedulerUnscheduleAll = SchedulerTestLayer.extend({
 */
 var SchedulerUnscheduleAllHard = SchedulerTestLayer.extend({
     onEnter:function () {
-        //----start3----onEnter
         this._super();
 
         this.schedule(this.onTick1, 0.5);
@@ -207,7 +182,6 @@ var SchedulerUnscheduleAllHard = SchedulerTestLayer.extend({
         this.schedule(this.onTick3, 1.5);
         this.schedule(this.onTick4, 1.5);
         this.schedule(this.onUnscheduleAll, 4);
-        //----end3----
     },
     title:function () {
         return "Unschedule All callbacks #2";
@@ -217,29 +191,19 @@ var SchedulerUnscheduleAllHard = SchedulerTestLayer.extend({
     },
 
     onTick1:function (dt) {
-        //----start3----onTick1
         cc.log("tick1");
-        //----end3----
     },
     onTick2:function (dt) {
-        //----start3----onTick2
         cc.log("tick2");
-        //----end3----
     },
     onTick3:function (dt) {
-        //----start3----onTick3
         cc.log("tick3");
-        //----end3----
     },
     onTick4:function (dt) {
-        //----start3----onTick4
         cc.log("tick4");
-        //----end3----
     },
     onUnscheduleAll:function (dt) {
-        //----start3----onUnscheduleAll
         director.getScheduler().unscheduleAllCallbacks();
-        //----end3----
     }
 });
 
@@ -248,13 +212,11 @@ var SchedulerUnscheduleAllHard = SchedulerTestLayer.extend({
 */
 var SchedulerSchedulesAndRemove = SchedulerTestLayer.extend({
     onEnter:function () {
-        //----start4----onEnter
         this._super();
 
         this.schedule(this.onTick1, 0.5);
         this.schedule(this.onTick2, 1.0);
         this.schedule(this.onScheduleAndUnschedule, 4.0);
-        //----end4----
     },
     title:function () {
         return "Schedule from Schedule";
@@ -264,34 +226,24 @@ var SchedulerSchedulesAndRemove = SchedulerTestLayer.extend({
     },
 
     onTick1:function (dt) {
-        //----start4----onTick1
         cc.log("tick1");
-        //----end4----
     },
     onTick2:function (dt) {
-        //----start4----onTick2
         cc.log("tick2");
-        //----end4----
     },
     onTick3:function (dt) {
-        //----start4----onTick3
         cc.log("tick3");
-        //----end4----
     },
     onTick4:function (dt) {
-        //----start4----onTick4
         cc.log("tick4");
-        //----end4----
     },
     onScheduleAndUnschedule:function (dt) {
-        //----start4----onScheduleAndUnschedule
         this.unschedule(this.onTick1);
         this.unschedule(this.onTick2);
         this.unschedule(this.onScheduleAndUnschedule);
 
         this.schedule(this.onTick3, 1.0);
-        this.schedule(this.onTick4, 1.0)
-        //----end4----
+        this.schedule(this.onTick4, 1.0);
     }
 });
 
@@ -314,7 +266,6 @@ var TestNode = cc.Node.extend({
 
 var SchedulerUpdate = SchedulerTestLayer.extend({
     onEnter:function () {
-        //----start5----onEnter
         this._super();
 
         var str = "---";
@@ -342,7 +293,6 @@ var SchedulerUpdate = SchedulerTestLayer.extend({
         this.addChild(f);
 
         this.schedule(this.onRemoveUpdates, 4.0);
-        //----end5----
     },
     title:function () {
         return "Schedule update with priority";
@@ -352,7 +302,6 @@ var SchedulerUpdate = SchedulerTestLayer.extend({
     },
 
     onRemoveUpdates:function (dt) {
-        //----start5----onRemoveUpdates
         var children = this.children;
 
         for (var i = 0; i < children.length; i++) {
@@ -361,7 +310,6 @@ var SchedulerUpdate = SchedulerTestLayer.extend({
                 node.unscheduleAllCallbacks();
             }
         }
-        //----end5----
     }
 });
 
@@ -370,13 +318,11 @@ var SchedulerUpdate = SchedulerTestLayer.extend({
 */
 var SchedulerUpdateAndCustom = SchedulerTestLayer.extend({
     onEnter:function () {
-        //----start6----onEnter
         this._super();
 
         this.scheduleUpdate();
         this.schedule(this.onTick);
         this.schedule(this.onStopCallbacks, 4);
-        //----end6----
     },
     title:function () {
         return "Schedule Update + custom callback";
@@ -386,19 +332,13 @@ var SchedulerUpdateAndCustom = SchedulerTestLayer.extend({
     },
 
     update:function (dt) {
-        //----start6----update
         cc.log("update called:" + dt);
-        //----end6----
     },
     onTick:function (dt) {
-        //----start6----onTick
         cc.log("custom callback called:" + dt);
-        //----end6----
     },
     onStopCallbacks:function (dt) {
-        //----start6----onStopCallbacks
         this.unscheduleAllCallbacks();
-        //----end6----
     }
 });
 
@@ -407,11 +347,9 @@ var SchedulerUpdateAndCustom = SchedulerTestLayer.extend({
 */
 var SchedulerUpdateFromCustom = SchedulerTestLayer.extend({
     onEnter:function () {
-        //----start7----onEnter
         this._super();
 
         this.schedule(this.onSchedUpdate, 2.0);
-        //----end7----
     },
     title:function () {
         return "Schedule Update in 2 sec";
@@ -421,22 +359,16 @@ var SchedulerUpdateFromCustom = SchedulerTestLayer.extend({
     },
 
     update:function (dt) {
-        //----start7----update
         cc.log("update called:" + dt);
-        //----end7----
     },
     onSchedUpdate:function (dt) {
-        //----start7----onSchedUpdate
         this.unschedule(this.onSchedUpdate);
         this.scheduleUpdate();
         this.schedule(this.onStopUpdate, 2.0);
-        //----end7----
     },
     onStopUpdate:function (dt) {
-        //----start7----onStopUpdate
         this.unscheduleUpdate();
         this.unschedule(this.onStopUpdate);
-        //----end7----
     }
 });
 
@@ -449,13 +381,11 @@ var RescheduleCallback = SchedulerTestLayer.extend({
     _ticks:0,
 
     onEnter:function () {
-        //----start8----onEnter
         this._super();
 
         this._interval = 1.0;
         this._ticks = 0;
         this.schedule(this.onSchedUpdate, this._interval);
-        //----end8----
     },
     title:function () {
         return "Reschedule Callback";
@@ -465,7 +395,6 @@ var RescheduleCallback = SchedulerTestLayer.extend({
     },
 
     onSchedUpdate:function (dt) {
-        //----start8----onSchedUpdate
         this._ticks++;
 
         cc.log("schedUpdate: " + dt.toFixed(2));
@@ -474,7 +403,6 @@ var RescheduleCallback = SchedulerTestLayer.extend({
             this.schedule(this.onSchedUpdate, this._interval);
             this._ticks = 0;
         }
-        //----end8----
     }
 });
 
@@ -485,7 +413,6 @@ var ScheduleUsingSchedulerTest = SchedulerTestLayer.extend({
     _accum:0,
 
     onEnter:function () {
-        //----start9----onEnter
         this._super();
 
         this._accum = 0;
@@ -500,7 +427,6 @@ var ScheduleUsingSchedulerTest = SchedulerTestLayer.extend({
         var delay = 2; // start after 2 seconds;
         paused = false; // not paused. queue it now.
         scheduler.scheduleCallbackForTarget(this, this.onSchedUpdate, interval, repeat, delay, paused);
-        //----end9----
     },
     title:function () {
         return "Schedule / Unschedule using Scheduler";
@@ -511,12 +437,9 @@ var ScheduleUsingSchedulerTest = SchedulerTestLayer.extend({
 
     // callbacks
     update:function(dt) {
-        //----start9----update
         cc.log("update: " + dt);
-        //----end9----
     },
     onSchedUpdate:function (dt) {
-        //----start9----onSchedUpdate
         cc.log("onSchedUpdate delta: " + dt);
 
         this._accum += dt;
@@ -525,7 +448,6 @@ var ScheduleUsingSchedulerTest = SchedulerTestLayer.extend({
             scheduler.unscheduleAllCallbacksForTarget(this);
         }
         cc.log("onSchedUpdate accum: " + this._accum);
-        //----end9----
     }
 });
 
@@ -533,8 +455,8 @@ var ScheduleUsingSchedulerTest = SchedulerTestLayer.extend({
     main entry
 */
 var SchedulerTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        schedulerTestSceneIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        schedulerTestSceneIdx = -1;
         var layer = nextSchedulerTest();
         this.addChild(layer);
 
@@ -563,10 +485,6 @@ var nextSchedulerTest = function () {
     schedulerTestSceneIdx++;
     schedulerTestSceneIdx = schedulerTestSceneIdx % arrayOfSchedulerTest.length;
 
-    if(window.sidebar){
-        schedulerTestSceneIdx = window.sidebar.changeTest(schedulerTestSceneIdx, 34);
-    }
-
     return new arrayOfSchedulerTest[schedulerTestSceneIdx]();
 };
 var previousSchedulerTest = function () {
@@ -574,10 +492,6 @@ var previousSchedulerTest = function () {
     if (schedulerTestSceneIdx < 0)
         schedulerTestSceneIdx += arrayOfSchedulerTest.length;
 
-    if(window.sidebar){
-        schedulerTestSceneIdx = window.sidebar.changeTest(schedulerTestSceneIdx, 34);
-    }
-
     return new arrayOfSchedulerTest[schedulerTestSceneIdx]();
 };
 var restartSchedulerTest = function () {
diff --git a/samples/js-tests/src/SpineTest/SpineTest.js b/samples/js-tests/src/SpineTest/SpineTest.js
index 78a779d..da0d0cb 100644
--- a/samples/js-tests/src/SpineTest/SpineTest.js
+++ b/samples/js-tests/src/SpineTest/SpineTest.js
@@ -24,8 +24,6 @@
  THE SOFTWARE.
  ****************************************************************************/
 
-var sp = sp || {};
-
 var ANIMATION_TYPE = {
     ANIMATION_START:      0,
     ANIMATION_END:        1,
@@ -34,11 +32,9 @@ var ANIMATION_TYPE = {
 };
 
 SpineTestScene = TestScene.extend({
-
     runThisTest:function () {
         var layer = SpineTest.create();
         this.addChild(layer);
-
         director.runScene(this);
     }
 });
@@ -90,6 +86,7 @@ SpineTest = BaseTestLayer.extend({
         this.addChild(spineBoy, 4);
         this._spineboy = spineBoy;
     },
+
     onBackCallback:function (sender) {
     },
     onRestartCallback:function (sender) {
@@ -127,7 +124,7 @@ SpineTest = BaseTestLayer.extend({
                 break;
         }
     },
-    
+
     // automation
     numberOfPendingTests:function() {
         return 1;
@@ -135,7 +132,6 @@ SpineTest = BaseTestLayer.extend({
     getTestNumber:function() {
         return 0;
     }
-
 });
 
 SpineTest.create = function () {
diff --git a/samples/js-tests/src/SpriteTest/SpriteTest.js b/samples/js-tests/src/SpriteTest/SpriteTest.js
index 9c137e0..8cbed5e 100644
--- a/samples/js-tests/src/SpriteTest/SpriteTest.js
+++ b/samples/js-tests/src/SpriteTest/SpriteTest.js
@@ -102,7 +102,6 @@ var Sprite1 = SpriteTestDemo.extend({
     _subtitle:"Tap screen to add more sprites",
 
     ctor:function () {
-        //----start0----ctor
         this._super();
 
         this.addNewSpriteWithCoords(cc.p(winSize.width / 2, winSize.height / 2));
@@ -128,11 +127,9 @@ var Sprite1 = SpriteTestDemo.extend({
                     event.getCurrentTarget().addNewSpriteWithCoords(event.getLocation());
                 }
             }, this);
-        //----end0----
     },
 
     addNewSpriteWithCoords:function (p) {
-        //----start0----addNewSpriteWithCoords
         var idx = 0 | (Math.random() * 14);
         var x = (idx % 5) * 85;
         var y = (0 | (idx / 5)) * 121;
@@ -158,9 +155,8 @@ var Sprite1 = SpriteTestDemo.extend({
         var action_back = action.reverse();
         var seq = cc.Sequence.create(action, action_back);
 
-        sprite.runAction(seq.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(seq));
         this.testSprite = sprite;
-        //----end0----
     },
     //
     // Automation
@@ -174,7 +170,7 @@ var Sprite1 = SpriteTestDemo.extend({
             this.addChild(sprite, 999);
             sprite.x = winSize.width / 2;
             sprite.y = winSize.height / 2;
-        };
+        }
         this.scheduleOnce(fun, 0.5);
     },
     getExpectedResult:function () {
@@ -199,7 +195,6 @@ var SpriteBatchNode1 = SpriteTestDemo.extend({
     _subtitle:"Tap screen to add more sprites",
 
     ctor:function () {
-        //----start1----ctor
         this._super();
         if ('touches' in cc.sys.capabilities) {
             cc.eventManager.addListener({
@@ -226,11 +221,9 @@ var SpriteBatchNode1 = SpriteTestDemo.extend({
         var batchNode = cc.SpriteBatchNode.create(s_grossini_dance_atlas, 50);
         this.addChild(batchNode, 0, TAG_SPRITE_BATCH_NODE);
         this.addNewSpriteWithCoords(cc.p(winSize.width / 2, winSize.height / 2));
-        //----end1----
     },
 
     addNewSpriteWithCoords:function (p) {
-        //----start1----addNewSpriteWithCoords
         var batchNode = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
 
         var idx = 0 | (Math.random() * 14);
@@ -261,9 +254,8 @@ var SpriteBatchNode1 = SpriteTestDemo.extend({
         var action_back = action.reverse();
         var seq = cc.Sequence.create(action, action_back);
 
-        sprite.runAction(seq.repeatForever());
+        sprite.runAction(cc.RepeatForever.create(seq));
         this.testSprite = sprite;
-        //----end1----
     },
 
     //
@@ -302,7 +294,6 @@ var SpriteColorOpacity = SpriteTestDemo.extend({
     _title:"Sprite: Color & Opacity",
 
     ctor:function () {
-        //----start11----ctor
         this._super();
         var sprite1 = cc.Sprite.create(s_grossini_dance_atlas, cc.rect(0, 121, 85, 121));
         var sprite2 = cc.Sprite.create(s_grossini_dance_atlas, cc.rect(85, 121, 85, 121));
@@ -335,19 +326,19 @@ var SpriteColorOpacity = SpriteTestDemo.extend({
         var delay = cc.DelayTime.create(0.25);
         var action = cc.FadeIn.create(2);
         var action_back = action.reverse();
-        var fade = cc.Sequence.create(action, delay.clone(), action_back).repeatForever();
+        var fade = cc.RepeatForever.create(cc.Sequence.create(action, delay.clone(), action_back));
 
         var tintRed = cc.TintBy.create(2, 0, -255, -255);
         var tintRedBack = tintRed.reverse();
-        var red = cc.Sequence.create(tintRed, delay.clone(), tintRedBack).repeatForever();
+        var red = cc.RepeatForever.create(cc.Sequence.create(tintRed, delay.clone(), tintRedBack));
 
         var tintGreen = cc.TintBy.create(2, -255, 0, -255);
         var tintGreenBack = tintGreen.reverse();
-        var green = cc.Sequence.create(tintGreen, delay.clone(), tintGreenBack).repeatForever();
+        var green = cc.RepeatForever.create(cc.Sequence.create(tintGreen, delay.clone(), tintGreenBack));
 
         var tintBlue = cc.TintBy.create(2, -255, -255, 0);
         var tintBlueBack = tintBlue.reverse();
-        var blue = cc.Sequence.create(tintBlue, delay.clone(), tintBlueBack).repeatForever();
+        var blue = cc.RepeatForever.create(cc.Sequence.create(tintBlue, delay.clone(), tintBlueBack));
 
         sprite5.runAction(red);
         sprite6.runAction(green);
@@ -365,17 +356,14 @@ var SpriteColorOpacity = SpriteTestDemo.extend({
         this.addChild(sprite8, 0, TAG_SPRITE8);
 
         this.schedule(this.removeAndAddSprite, 2);
-        //----end11----
     },
     // this function test if remove and add works as expected:
 //   color array and vertex array should be reindexed
     removeAndAddSprite:function (dt) {
-        //----start11----removeAndAddSprite
         var sprite = this.getChildByTag(TAG_SPRITE5);
 
         this.removeChild(sprite, false);
         this.addChild(sprite, 0, TAG_SPRITE5);
-        //----end11----
     },
     //
     // Automation
@@ -412,7 +400,6 @@ var SpriteBatchNodeColorOpacity = SpriteTestDemo.extend({
     _title:"SpriteBatchNode: Color & Opacity",
 
     ctor:function () {
-        //----start12----ctor
         this._super();
         // small capacity. Testing resizing.
         // Don't use capacity=1 in your real game. It is expensive to resize the capacity
@@ -452,18 +439,18 @@ var SpriteBatchNodeColorOpacity = SpriteTestDemo.extend({
         var delay = cc.DelayTime.create(0.25);
         var action = cc.FadeIn.create(2);
         var action_back = action.reverse();
-        var fade = cc.Sequence.create(action, delay.clone(), action_back).repeatForever();
+        var fade = cc.RepeatForever.create(cc.Sequence.create(action, delay.clone(), action_back));
 
         var tintRed = cc.TintBy.create(2, 0, -255, -255);
-        var red = cc.Sequence.create(tintRed, delay.clone(), tintRed.reverse()).repeatForever();
+        var red = cc.RepeatForever.create(cc.Sequence.create(tintRed, delay.clone(), tintRed.reverse()));
 
         var tintGreen = cc.TintBy.create(2, -255, 0, -255);
         var tintGreenBack = tintGreen.reverse();
-        var green = cc.Sequence.create(tintGreen, delay.clone(), tintGreenBack).repeatForever();
+        var green = cc.RepeatForever.create(cc.Sequence.create(tintGreen, delay.clone(), tintGreenBack));
 
         var tintBlue = cc.TintBy.create(2, -255, -255, 0);
         var tintBlueBack = tintBlue.reverse();
-        var blue = cc.Sequence.create(tintBlue, delay.clone(), tintBlueBack).repeatForever();
+        var blue = cc.RepeatForever.create(cc.Sequence.create(tintBlue, delay.clone(), tintBlueBack));
 
         sprite5.runAction(red);
         sprite6.runAction(green);
@@ -481,18 +468,15 @@ var SpriteBatchNodeColorOpacity = SpriteTestDemo.extend({
         batch.addChild(sprite8, 0, TAG_SPRITE8);
 
         this.schedule(this.removeAndAddSprite, 2);
-        //----end12----
     },
     // this function test if remove and add works as expected:
     //   color array and vertex array should be reindexed
     removeAndAddSprite:function (dt) {
-        //----start12----removeAndAddSprite
         var batch = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
         var sprite = batch.getChildByTag(TAG_SPRITE5);
 
         batch.removeChild(sprite, false);
         batch.addChild(sprite, 0, TAG_SPRITE5);
-        //----end12----
     },
     //
     // Automation
@@ -529,7 +513,6 @@ var SpriteZOrder = SpriteTestDemo.extend({
     _dir:0,
     _title:"Sprite: Z order",
     ctor:function () {
-        //----start13----ctor
         this._super();
         this._dir = 1;
 
@@ -557,10 +540,8 @@ var SpriteZOrder = SpriteTestDemo.extend({
         sprite.color = cc.color.RED;
 
         this.schedule(this.reorderSprite, 1);
-        //----end13----
     },
     reorderSprite:function (dt) {
-        //----start13----reorderSprite
         var sprite = this.getChildByTag(TAG_SPRITE1);
         var z = sprite.zIndex;
         if (z < -1)
@@ -569,7 +550,6 @@ var SpriteZOrder = SpriteTestDemo.extend({
             this._dir = -1;
         z += this._dir * 3;
         this.reorderChild(sprite, z);
-        //----end13----
     },
     //
     // Automation
@@ -597,7 +577,6 @@ var SpriteBatchNodeZOrder = SpriteTestDemo.extend({
     _dir:0,
     _title:"SpriteBatch: Z order",
     ctor:function () {
-        //----start14----ctor
         this._super();
         this._dir = 1;
 
@@ -629,10 +608,8 @@ var SpriteBatchNodeZOrder = SpriteTestDemo.extend({
         sprite.scaleX = 10;
         sprite.color = cc.color.RED;
         this.schedule(this.reorderSprite, 1);
-        //----end14----
     },
     reorderSprite:function (dt) {
-        //----start14----reorderSprite
         var batch = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
         var sprite = batch.getChildByTag(TAG_SPRITE1);
         var z = sprite.zIndex;
@@ -642,7 +619,6 @@ var SpriteBatchNodeZOrder = SpriteTestDemo.extend({
             this._dir = -1;
         z += this._dir * 3;
         batch.reorderChild(sprite, z);
-        //----end14----
     },
     //
     // Automation
@@ -672,7 +648,6 @@ var SpriteBatchNodeReorder = SpriteTestDemo.extend({
     _subtitle:"Should not crash",
 
     ctor:function () {
-        //----start15----ctor
         this._super();
         var a = [];
         var asmtest = cc.SpriteBatchNode.create(s_ghosts);
@@ -715,7 +690,6 @@ var SpriteBatchNodeReorder = SpriteTestDemo.extend({
             ////----UXLog("descendant %x - atlasIndex:%d", child, currentIndex);
             prev = currentIndex;
         }
-        //----end15----
     },
     //
     // Automation
@@ -739,7 +713,6 @@ var SpriteBatchNodeReorderIssue744 = SpriteTestDemo.extend({
     _subtitle:"Should not crash",
 
     ctor:function () {
-        //----start16----ctor
         this._super();
 
         // Testing issue #744
@@ -752,7 +725,6 @@ var SpriteBatchNodeReorderIssue744 = SpriteTestDemo.extend({
         sprite.y = winSize.height / 2;
         batch.addChild(sprite, 3);
         batch.reorderChild(sprite, 1);
-        //----end16----
     },
     //
     // Automation
@@ -785,7 +757,6 @@ var SpriteBatchNodeReorderIssue766 = SpriteTestDemo.extend({
     _subtitle:"In 2 seconds 1 sprite will be reordered",
 
     ctor:function () {
-        //----start17----ctor
         this._super();
         this._batchNode = cc.SpriteBatchNode.create(s_piece, 15);
         this.addChild(this._batchNode, 1, 0);
@@ -803,17 +774,13 @@ var SpriteBatchNodeReorderIssue766 = SpriteTestDemo.extend({
         this._sprite3.y = 160;
 
         this.schedule(this.reorderSprite, 2);
-        //----end17----
     },
     reorderSprite:function (dt) {
-        //----start17----reorderSprite
         this.unschedule(this.reorderSprite);
 
         this._batchNode.reorderChild(this._sprite1, 4);
-        //----end17----
     },
     makeSpriteZ:function (aZ) {
-        //----start17----makeSpriteZ
         var sprite = cc.Sprite.create(this._batchNode.texture, cc.rect(128, 0, 64, 64));
         this._batchNode.addChild(sprite, aZ + 1, 0);
 
@@ -826,7 +793,6 @@ var SpriteBatchNodeReorderIssue766 = SpriteTestDemo.extend({
         sprite.addChild(spriteTop, aZ + 2, 3);
 
         return sprite;
-        //----end17----
     },
     //
     // Automation
@@ -857,7 +823,6 @@ var SpriteBatchNodeReorderIssue767 = SpriteTestDemo.extend({
     _subtitle:"Should not crash",
 
     ctor:function () {
-        //----start18----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_ghostsPlist, s_ghosts);
@@ -919,10 +884,8 @@ var SpriteBatchNodeReorderIssue767 = SpriteTestDemo.extend({
         l2b.addChild(l3b2, 1);
 
         this.schedule(this.reorderSprites, 1);
-        //----end18----
     },
     reorderSprites:function (dt) {
-        //----start18----reorderSprites
         var spritebatch = this.getChildByTag(TAG_SPRITE1);
         var father = spritebatch.getChildByTag(TAG_SPRITE2);
         var left = father.getChildByTag(TAG_SPRITE_LEFT);
@@ -935,7 +898,6 @@ var SpriteBatchNodeReorderIssue767 = SpriteTestDemo.extend({
 
         father.reorderChild(left, newZLeft);
         father.reorderChild(right, -newZLeft);
-        //----end18----
     },
     //
     // Automation
@@ -975,7 +937,6 @@ var SpriteZVertex = SpriteTestDemo.extend({
     _subtitle:"Scene should rotate",
 
     ctor:function () {
-        //----start19----ctor
         this._super(cc.color(255, 0, 0, 80), cc.color(255, 98, 117, 20));
 
 
@@ -1044,10 +1005,8 @@ var SpriteZVertex = SpriteTestDemo.extend({
             label.x = winSize.width / 2;
             label.y = winSize.height / 2;
         }
-        //----end19----
     },
     onEnter:function () {
-        //----start19----onEnter
         this._super();
         if ("opengl" in cc.sys.capabilities) {
             director.setProjection(cc.Director.PROJECTION_3D);
@@ -1061,16 +1020,13 @@ var SpriteZVertex = SpriteTestDemo.extend({
             var subtitle = this.getChildByTag(BASE_TEST_SUBTITLE_TAG);
             subtitle.vertexZ = 1;
         }
-        //----end19----
     },
     onExit:function () {
-        //----start19----onExit
         if ("opengl" in cc.sys.capabilities) {
             director.setProjection(cc.Director.PROJECTION_2D);
             gl.disable(gl.DEPTH_TEST);
         }
         this._super();
-        //----end19----
     },
     // Automation
     testDuration:2.2,
@@ -1103,7 +1059,6 @@ var SpriteBatchNodeZVertex = SpriteTestDemo.extend({
     _subtitle:"Scene should rotate",
 
     ctor:function () {
-        //----start20----ctor
         this._super(cc.color(255, 0, 0, 80), cc.color(255, 98, 117, 20));
 
         if ("opengl" in cc.sys.capabilities) {
@@ -1170,10 +1125,8 @@ var SpriteBatchNodeZVertex = SpriteTestDemo.extend({
             label.x = winSize.width / 2;
             label.y = winSize.height / 2;
         }
-        //----end20----
     },
     onEnter:function () {
-        //----start20----onEnter
         this._super();
 
         if ("opengl" in cc.sys.capabilities) {
@@ -1189,16 +1142,13 @@ var SpriteBatchNodeZVertex = SpriteTestDemo.extend({
             subtitle.vertexZ = 1;
 
         }
-        //----end20----
     },
     onExit:function () {
-        //----start20----onExit
         if ("opengl" in cc.sys.capabilities) {
             director.setProjection(cc.Director.PROJECTION_2D);
             gl.disable(gl.DEPTH_TEST);
         }
         this._super();
-        //----end20----
     },
     // Automation
     testDuration:2.2,
@@ -1228,12 +1178,11 @@ var SpriteAnchorPoint = SpriteTestDemo.extend({
     _title:"Sprite: anchor point",
 
     ctor:function () {
-        //----start4----ctor
         this._super();
 
         for (var i = 0; i < 3; i++) {
             var rotate = cc.RotateBy.create(10, 360);
-            var action = rotate.repeatForever();
+            var action = cc.RepeatForever.create(rotate);
             var sprite = cc.Sprite.create(s_grossini_dance_atlas, cc.rect(85 * i, 121, 85, 121));
             sprite.x = winSize.width / 4 * (i + 1);
             sprite.y = winSize.height / 2;
@@ -1267,7 +1216,6 @@ var SpriteAnchorPoint = SpriteTestDemo.extend({
             sprite.runAction(action);
             this.addChild(sprite, i);
         }
-        //----end4----
     },
     //
     // Automation
@@ -1296,7 +1244,6 @@ var SpriteBatchNodeAnchorPoint = SpriteTestDemo.extend({
     _title:"SpriteBatchNode: anchor point",
 
     ctor:function () {
-        //----start5----ctor
         this._super();
         // small capacity. Testing resizing.
         // Don't use capacity=1 in your real game. It is expensive to resize the capacity
@@ -1305,7 +1252,7 @@ var SpriteBatchNodeAnchorPoint = SpriteTestDemo.extend({
 
         for (var i = 0; i < 3; i++) {
             var rotate = cc.RotateBy.create(10, 360);
-            var action = rotate.repeatForever();
+            var action = cc.RepeatForever.create(rotate);
             var sprite = cc.Sprite.create(batch.texture, cc.rect(85 * i, 121, 85, 121));
             sprite.x = winSize.width / 4 * (i + 1);
             sprite.y = winSize.height / 2;
@@ -1337,7 +1284,6 @@ var SpriteBatchNodeAnchorPoint = SpriteTestDemo.extend({
             sprite.runAction(action);
             batch.addChild(sprite, i);
         }
-        //----end5----
     },
     //
     // Automation
@@ -1366,7 +1312,6 @@ var Sprite6 = SpriteTestDemo.extend({
     _title:"SpriteBatchNode transformation",
 
     ctor:function () {
-        //----start21----ctor
         this._super();
         // small capacity. Testing resizing
         // Don't use capacity=1 in your real game. It is expensive to resize the capacity
@@ -1384,12 +1329,12 @@ var Sprite6 = SpriteTestDemo.extend({
         var rotate1 = cc.RotateBy.create(5, 360);
         var rotate_back = rotate1.reverse();
         var rotate_seq = cc.Sequence.create(rotate1, rotate_back);
-        var rotate_forever = rotate_seq.repeatForever();
+        var rotate_forever = cc.RepeatForever.create(rotate_seq);
 
         var scale = cc.ScaleBy.create(5, 1.5);
         var scale_back = scale.reverse();
         var scale_seq = cc.Sequence.create(scale, scale_back);
-        var scale_forever = scale_seq.repeatForever();
+        var scale_forever = cc.RepeatForever.create(scale_seq);
 
         for (var i = 0; i < 3; i++) {
             var sprite = cc.Sprite.create(batch.texture, cc.rect(85 * i, 121, 85, 121));
@@ -1408,14 +1353,13 @@ var Sprite6 = SpriteTestDemo.extend({
                     break;
             }
             var rotate = cc.RotateBy.create(5, 360);
-            var action = rotate.repeatForever();
+            var action = cc.RepeatForever.create(rotate);
             sprite.runAction(action.clone());
             batch.addChild(sprite, i);
         }
 
         batch.runAction(scale_forever);
         batch.runAction(rotate_forever);
-        //----end21----
     },
     // Automation
     testDuration:2,
@@ -1442,7 +1386,6 @@ var SpriteFlip = SpriteTestDemo.extend({
     _title:"Sprite Flip X & Y",
 
     ctor:function () {
-        //----start22----ctor
         this._super();
         var sprite1 = cc.Sprite.create(s_grossini_dance_atlas, cc.rect(85, 121, 85, 121));
         sprite1.x = winSize.width / 2 - 100;
@@ -1455,16 +1398,13 @@ var SpriteFlip = SpriteTestDemo.extend({
         this.addChild(sprite2, 0, TAG_SPRITE2);
 
         this.schedule(this.onFlipSprites, 1);
-        //----end22----
     },
     onFlipSprites:function (dt) {
-        //----start22----onFlipSprites
         var sprite1 = this.getChildByTag(TAG_SPRITE1);
         var sprite2 = this.getChildByTag(TAG_SPRITE2);
 
         sprite1.flippedX = !sprite1.flippedX;
         sprite2.flippedY = !sprite2.flippedY;
-        //----end22----
     },
     //
     // Automation
@@ -1506,7 +1446,6 @@ var SpriteBatchNodeFlip = SpriteTestDemo.extend({
     _title:"SpriteBatchNode Flip X & Y",
 
     ctor:function () {
-        //----start23----ctor
         this._super();
         var batch = cc.SpriteBatchNode.create(s_grossini_dance_atlas, 10);
         this.addChild(batch, 0, TAG_SPRITE_BATCH_NODE);
@@ -1522,17 +1461,14 @@ var SpriteBatchNodeFlip = SpriteTestDemo.extend({
         batch.addChild(sprite2, 0, TAG_SPRITE2);
 
         this.schedule(this.onFlipSprites, 1);
-        //----end23----
     },
     onFlipSprites:function (dt) {
-        //----start23----onFlipSprites
         var batch = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
         var sprite1 = batch.getChildByTag(TAG_SPRITE1);
         var sprite2 = batch.getChildByTag(TAG_SPRITE2);
 
         sprite1.flippedX = !sprite1.flippedX;
         sprite2.flippedY = !sprite2.flippedY;
-        //----end23----
     },
     //
     // Automation
@@ -1575,7 +1511,6 @@ var SpriteAliased = SpriteTestDemo.extend({
     _subtitle:"You should see pixelated sprites",
 
     ctor:function () {
-        //----start24----ctor
         this._super();
         var sprite1 = cc.Sprite.create(s_grossini_dance_atlas, cc.rect(85, 121, 85, 121));
         sprite1.x = winSize.width / 2 - 100;
@@ -1590,19 +1525,17 @@ var SpriteAliased = SpriteTestDemo.extend({
         var scale = cc.ScaleBy.create(2, 5);
         var scale_back = scale.reverse();
         var seq = cc.Sequence.create(scale, scale_back);
-        var repeat = seq.repeatForever();
+        var repeat = cc.RepeatForever.create(seq);
 
         var scale2 = cc.ScaleBy.create(2, 5);
         var scale_back2 = scale2.reverse();
         var seq2 = cc.Sequence.create(scale2, scale_back2);
-        var repeat2 = seq2.repeatForever();
+        var repeat2 = cc.RepeatForever.create(seq2);
 
         sprite1.runAction(repeat);
         sprite2.runAction(repeat2);
-        //----end24----
     },
     onEnter:function () {
-        //----start24----onEnter
         this._super();
         //
         // IMPORTANT:
@@ -1619,16 +1552,13 @@ var SpriteAliased = SpriteTestDemo.extend({
             sprite.texture.setAliasTexParameters();
         }
 
-        //----end24----
     },
     onExit:function () {
-        //----start24----onExit
         if (cc.sys.isNative || ("opengl" in cc.sys.capabilities)) {
             var sprite = this.getChildByTag(TAG_SPRITE1);
             sprite.texture.setAntiAliasTexParameters();
         }
         this._super();
-        //----end24----
     }
 });
 
@@ -1642,7 +1572,6 @@ var SpriteBatchNodeAliased = SpriteTestDemo.extend({
     _subtitle:"You should see pixelated sprites",
 
     ctor:function () {
-        //----start25----ctor
         this._super();
         var batch = cc.SpriteBatchNode.create(s_grossini_dance_atlas, 10);
         this.addChild(batch, 0, TAG_SPRITE_BATCH_NODE);
@@ -1660,19 +1589,17 @@ var SpriteBatchNodeAliased = SpriteTestDemo.extend({
         var scale = cc.ScaleBy.create(2, 5);
         var scale_back = scale.reverse();
         var seq = cc.Sequence.create(scale, scale_back);
-        var repeat = seq.repeatForever();
+        var repeat = cc.RepeatForever.create(seq);
 
         var scale2 = cc.ScaleBy.create(2, 5);
         var scale_back2 = scale2.reverse();
         var seq2 = cc.Sequence.create(scale2, scale_back2);
-        var repeat2 = seq2.repeatForever();
+        var repeat2 = cc.RepeatForever.create(seq2);
 
         sprite1.runAction(repeat);
         sprite2.runAction(repeat2);
-        //----end25----
     },
     onEnter:function () {
-        //----start25----onEnter
         this._super();
         //
         // IMPORTANT:
@@ -1688,17 +1615,14 @@ var SpriteBatchNodeAliased = SpriteTestDemo.extend({
             var sprite = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
             sprite.texture.setAliasTexParameters();
         }
-        //----end25----
 
     },
     onExit:function () {
-        //----start25----onExit
         if (cc.sys.isNative || ("opengl" in cc.sys.capabilities)) {
             var sprite = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
             sprite.texture.setAntiAliasTexParameters();
         }
         this._super();
-        //----end25----
     }
 });
 
@@ -1714,7 +1638,6 @@ var SpriteNewTexture = SpriteTestDemo.extend({
     _title:"Sprite New texture (tap)",
 
     ctor:function () {
-        //----start26----ctor
         this._super();
 
         if ('touches' in cc.sys.capabilities){
@@ -1743,11 +1666,9 @@ var SpriteNewTexture = SpriteTestDemo.extend({
         for (var i = 0; i < 30; i++) {
             this.addNewSprite();
         }
-        //----end26----
     },
 
     addNewSprite:function () {
-        //----start26----addNewSprite
         var p = cc.p(Math.random() * winSize.width, Math.random() * winSize.height);
 
         var idx = 0 | (Math.random() * 14);
@@ -1780,12 +1701,10 @@ var SpriteNewTexture = SpriteTestDemo.extend({
         var action_back = action.reverse();
         var seq = cc.Sequence.create(action, action_back);
 
-        sprite.runAction(seq.repeatForever());
-        //----end26----
+        sprite.runAction(cc.RepeatForever.create(seq));
     },
 
     onChangeTexture:function () {
-        //----start26----onChangeTexture
         var node = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
         var children = node.children, sprite, i;
 
@@ -1806,7 +1725,6 @@ var SpriteNewTexture = SpriteTestDemo.extend({
             }
             this._usingTexture1 = true;
         }
-        //----end26----
     },
 
     //
@@ -1846,7 +1764,6 @@ var SpriteBatchNodeNewTexture = SpriteTestDemo.extend({
     _title:"SpriteBatchNode new texture (tap)",
 
     ctor:function () {
-        //----start27----ctor
         this._super();
         if ('touches' in cc.sys.capabilities){
             cc.eventManager.addListener({
@@ -1872,10 +1789,8 @@ var SpriteBatchNodeNewTexture = SpriteTestDemo.extend({
         for (var i = 0; i < 30; i++) {
             this.addNewSprite();
         }
-        //----end27----
     },
     addNewSprite:function () {
-        //----start27----addNewSprite
         var s = winSize;
 
         var p = cc.p(Math.random() * winSize.width, Math.random() * winSize.height);
@@ -1909,18 +1824,15 @@ var SpriteBatchNodeNewTexture = SpriteTestDemo.extend({
         var action_back = action.reverse();
         var seq = cc.Sequence.create(action, action_back);
 
-        sprite.runAction(seq.repeatForever());
-        //----end27----
+        sprite.runAction(cc.RepeatForever.create(seq));
     },
     onChangeTexture:function () {
-        //----start27----onChangeTexture
         var batch = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
 
         if (batch.texture == this._texture1)
             batch.texture = this._texture2;
         else
             batch.texture = this._texture1;
-        //----end27----
     },
 
     //
@@ -1962,7 +1874,6 @@ var SpriteFrameTest = SpriteTestDemo.extend({
     _subtitle:"Testing issue #792",
 
     onEnter:function () {
-        //----start2----onEnter
         this._super();
         // IMPORTANT:
         // The sprite frames will be cached AND RETAINED, and they won't be released unless you call
@@ -1992,7 +1903,7 @@ var SpriteFrameTest = SpriteTestDemo.extend({
         }
 
         var animation = cc.Animation.create(animFrames, 0.3);
-        this._sprite1.runAction(cc.Animate.create(animation).repeatForever());
+        this._sprite1.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
         // to test issue #732, uncomment the following line
         this._sprite1.flippedX = false;
@@ -2023,7 +1934,7 @@ var SpriteFrameTest = SpriteTestDemo.extend({
         moreFrames = moreFrames.concat(animFrames);
         var animMixed = cc.Animation.create(moreFrames, 0.3);
 
-        this._sprite2.runAction(cc.Animate.create(animMixed).repeatForever());
+        this._sprite2.runAction(cc.RepeatForever.create(cc.Animate.create(animMixed)));
 
         // to test issue #732, uncomment the following line
         this._sprite2.flippedX = false;
@@ -2031,24 +1942,18 @@ var SpriteFrameTest = SpriteTestDemo.extend({
 
         this.schedule(this.onStartIn05Secs, 0.5);
         this._counter = 0;
-        //----end2----
     },
     onExit:function () {
-        //----start2----onExit
         this._super();
         spriteFrameCache.removeSpriteFramesFromFile(s_grossiniPlist);
         spriteFrameCache.removeSpriteFramesFromFile(s_grossini_grayPlist);
         spriteFrameCache.removeSpriteFramesFromFile(s_grossini_bluePlist);
-        //----end2----
     },
     onStartIn05Secs:function () {
-        //----start2----onStartIn05Secs
         this.unschedule(this.onStartIn05Secs);
         this.schedule(this.onFlipSprites, 1.0);
-        //----end2----
     },
     onFlipSprites:function (dt) {
-        //----start2----onFlipSprites
         this._counter++;
 
         var fx = false;
@@ -2078,7 +1983,6 @@ var SpriteFrameTest = SpriteTestDemo.extend({
         this._sprite1.flippedY = fy;
         this._sprite2.flippedX = fx;
         this._sprite2.flippedY = fy;
-        //----end2----
     },
     //
     // Automation
@@ -2107,8 +2011,7 @@ var SpriteFrameTest = SpriteTestDemo.extend({
 var SpriteFrameAliasNameTest = SpriteTestDemo.extend({
     _title:"SpriteFrame Alias Name",
     _subtitle:"SpriteFrames are obtained using the alias name",
-    onEnter:function (){
-        //----start3----onEnter
+    onEnter:function () {
         this._super();
         // IMPORTANT:
         // The sprite frames will be cached AND RETAINED, and they won't be released unless you call
@@ -2149,9 +2052,8 @@ var SpriteFrameAliasNameTest = SpriteTestDemo.extend({
 
         var animation = cc.Animation.create(animFrames, 0.3);
         // 14 frames * 1sec = 14 seconds
-        sprite.runAction(cc.Animate.create(animation).repeatForever());
+        sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
         this.testSprite = sprite;
-        //----end3----
     },
     onExit:function () {
         this._super();
@@ -2182,7 +2084,6 @@ var SpriteOffsetAnchorRotation = SpriteTestDemo.extend({
 
     _title:"Sprite offset + anchor + rot",
     ctor:function () {
-        //----start6----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist, s_grossini_gray);
@@ -2229,19 +2130,16 @@ var SpriteOffsetAnchorRotation = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
-            sprite.runAction(cc.RotateBy.create(10, 360).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
+            sprite.runAction(cc.RepeatForever.create(cc.RotateBy.create(10, 360)));
 
             this.addChild(sprite, 0);
         }
-        //----end6----
     },
     onExit:function () {
-        //----start6----onExit
         this._super();
         spriteFrameCache.removeSpriteFramesFromFile(s_grossiniPlist);
         spriteFrameCache.removeSpriteFramesFromFile(s_grossini_grayPlist);
-        //----end6----
     },
     //
     // Automation
@@ -2270,7 +2168,6 @@ var SpriteBatchNodeOffsetAnchorRotation = SpriteTestDemo.extend({
     _title:"SpriteBatchNode offset + anchor + rot",
 
     ctor:function () {
-        //----start7----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
@@ -2319,12 +2216,11 @@ var SpriteBatchNodeOffsetAnchorRotation = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
-            sprite.runAction(cc.RotateBy.create(10, 360).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
+            sprite.runAction(cc.RepeatForever.create(cc.RotateBy.create(10, 360)));
 
             spritebatch.addChild(sprite, i);
         }
-        //----end7----
     },
     onExit:function () {
         this._super();
@@ -2359,7 +2255,6 @@ var SpriteOffsetAnchorScale = SpriteTestDemo.extend({
     _title:"Sprite offset + anchor + scale",
 
     ctor:function () {
-        //----start8----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist, s_grossini_gray);
@@ -2406,24 +2301,21 @@ var SpriteOffsetAnchorScale = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             var scale = cc.ScaleBy.create(2, 2);
             var scale_back = scale.reverse();
             var delay = cc.DelayTime.create(0.25);
             var seq_scale = cc.Sequence.create(scale, delay, scale_back);
-            sprite.runAction(seq_scale.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_scale));
 
             this.addChild(sprite, 0);
         }
-        //----end8----
     },
     onExit:function () {
-        //----start8----onExit
         this._super();
         spriteFrameCache.removeSpriteFramesFromFile(s_grossiniPlist);
         spriteFrameCache.removeSpriteFramesFromFile(s_grossini_grayPlist);
-        //----end8----
     },
     //
     // Automation
@@ -2455,7 +2347,6 @@ var SpriteBatchNodeOffsetAnchorScale = SpriteTestDemo.extend({
 
     ctor:function () {
         this._super();
-        //----start9----ctor
         var batch = cc.SpriteBatchNode.create(s_grossini);
         this.addChild(batch);
 
@@ -2503,23 +2394,20 @@ var SpriteBatchNodeOffsetAnchorScale = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             var scale = cc.ScaleBy.create(2, 2);
             var scale_back = scale.reverse();
             var seq_scale = cc.Sequence.create(scale, scale_back);
-            sprite.runAction(seq_scale.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_scale));
 
             batch.addChild(sprite, i);
         }
-        //----end9----
     },
     onExit:function () {
-        //----start9----onExit
         this._super();
         spriteFrameCache.removeSpriteFramesFromFile(s_grossiniPlist);
         spriteFrameCache.removeSpriteFramesFromFile(s_grossini_grayPlist);
-        //----end9----
     },
     //
     // Automation
@@ -2547,7 +2435,6 @@ var SpriteOffsetAnchorSkew = SpriteTestDemo.extend({
     _title:"Sprite offset + anchor + skew",
 
     ctor:function () {
-        //----start41----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist, s_grossini_gray);
@@ -2593,7 +2480,7 @@ var SpriteOffsetAnchorSkew = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             var skewX = cc.SkewBy.create(2, 45, 0);
             var skewX_back = skewX.reverse();
@@ -2601,11 +2488,10 @@ var SpriteOffsetAnchorSkew = SpriteTestDemo.extend({
             var skewY_back = skewY.reverse();
 
             var seq_skew = cc.Sequence.create(skewX, skewX_back, skewY, skewY_back);
-            sprite.runAction(seq_skew.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_skew));
 
             this.addChild(sprite, 0);
         }
-        //----end41----
     },
     //
     // Automation
@@ -2633,7 +2519,6 @@ var SpriteBatchNodeOffsetAnchorSkew = SpriteTestDemo.extend({
     _title:"SpriteBatchNode offset + anchor + skew",
 
     ctor:function () {
-        //----start42----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist, s_grossini_gray);
@@ -2682,7 +2567,7 @@ var SpriteBatchNodeOffsetAnchorSkew = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             animFrames = null;
 
@@ -2692,11 +2577,10 @@ var SpriteBatchNodeOffsetAnchorSkew = SpriteTestDemo.extend({
             var skewY_back = skewY.reverse();
 
             var seq_skew = cc.Sequence.create(skewX, skewX_back, skewY, skewY_back);
-            sprite.runAction(seq_skew.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_skew));
 
             spritebatch.addChild(sprite, i);
         }
-        //----end42----
     },
     //
     // Automation
@@ -2723,7 +2607,6 @@ var SpriteOffsetAnchorSkewScale = SpriteTestDemo.extend({
 
     _title:"Sprite anchor + skew + scale",
     ctor:function () {
-        //----start43----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist, s_grossini_gray);
@@ -2769,7 +2652,7 @@ var SpriteOffsetAnchorSkewScale = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             animFrames = null;
 
@@ -2780,17 +2663,16 @@ var SpriteOffsetAnchorSkewScale = SpriteTestDemo.extend({
             var skewY_back = skewY.reverse();
 
             var seq_skew = cc.Sequence.create(skewX, skewX_back, skewY, skewY_back);
-            sprite.runAction(seq_skew.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_skew));
 
             // Scale
             var scale = cc.ScaleBy.create(2, 2);
             var scale_back = scale.reverse();
             var seq_scale = cc.Sequence.create(scale, scale_back);
-            sprite.runAction(seq_scale.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_scale));
 
             this.addChild(sprite, 0);
         }
-        //----end43----
     },
     //
     // Automation
@@ -2820,7 +2702,6 @@ var SpriteBatchNodeOffsetAnchorSkewScale = SpriteTestDemo.extend({
     _title:"SpriteBatchNode anchor + skew + scale",
 
     ctor:function () {
-        //----start44----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
@@ -2870,7 +2751,7 @@ var SpriteBatchNodeOffsetAnchorSkewScale = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             animFrames = null;
 
@@ -2881,17 +2762,16 @@ var SpriteBatchNodeOffsetAnchorSkewScale = SpriteTestDemo.extend({
             var skewY_back = skewY.reverse();
 
             var seq_skew = cc.Sequence.create(skewX, skewX_back, skewY, skewY_back);
-            sprite.runAction(seq_skew.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_skew));
 
             // scale
             var scale = cc.ScaleBy.create(2, 2);
             var scale_back = scale.reverse();
             var seq_scale = cc.Sequence.create(scale, scale_back);
-            sprite.runAction(seq_scale.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_scale));
 
             spritebatch.addChild(sprite, i);
         }
-        //----end44----
     },
     //
     // Automation
@@ -2922,7 +2802,6 @@ var SpriteOffsetAnchorFlip = SpriteTestDemo.extend({
     _subtitle:"issue #1078",
 
     ctor:function () {
-        //----start45----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist, s_grossini_gray);
@@ -2968,7 +2847,7 @@ var SpriteOffsetAnchorFlip = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             animFrames = null;
 
@@ -2977,11 +2856,10 @@ var SpriteOffsetAnchorFlip = SpriteTestDemo.extend({
             var delay = cc.DelayTime.create(1);
             var delay1 = cc.DelayTime.create(1);
             var seq = cc.Sequence.create(delay, flip, delay1, flip_back);
-            sprite.runAction(seq.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq));
 
             this.addChild(sprite, 0);
         }
-        //----end45----
     },
     //
     // Automation
@@ -3010,7 +2888,6 @@ var SpriteBatchNodeOffsetAnchorFlip = SpriteTestDemo.extend({
     _subtitle:"issue #1078",
 
     ctor:function () {
-        //----start46----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist, s_grossini_gray);
@@ -3059,7 +2936,7 @@ var SpriteBatchNodeOffsetAnchorFlip = SpriteTestDemo.extend({
             }
 
             var animation = cc.Animation.create(animFrames, 0.3);
-            sprite.runAction(cc.Animate.create(animation).repeatForever());
+            sprite.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
 
             animFrames = null;
 
@@ -3067,11 +2944,10 @@ var SpriteBatchNodeOffsetAnchorFlip = SpriteTestDemo.extend({
             var flip_back = cc.FlipY.create(false);
             var delay = cc.DelayTime.create(1);
             var seq = cc.Sequence.create(delay, flip, delay.clone(), flip_back);
-            sprite.runAction(seq.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq));
 
             spritebatch.addChild(sprite, i);
         }
-        //----end46----
     },
     //
     // Automation
@@ -3100,7 +2976,6 @@ var SpriteAnimationSplit = SpriteTestDemo.extend({
 
     _title:"Sprite: Animation + flip",
     ctor:function () {
-        //----start10----ctor
         this._super();
         var texture = cc.textureCache.addImage(s_dragon_animation);
 
@@ -3137,8 +3012,7 @@ var SpriteAnimationSplit = SpriteTestDemo.extend({
             delay,
             cc.FlipX.create(false));
 
-        sprite.runAction(seq.repeatForever());
-        //----end10----
+        sprite.runAction(cc.RepeatForever.create(seq));
     },
     onExit:function () {
         this._super();
@@ -3172,7 +3046,6 @@ var SpriteHybrid = SpriteTestDemo.extend({
     _title:"Hybrid.Sprite* sprite Test",
 
     ctor:function () {
-        //----start28----ctor
         this._super();
         // parents
         var parent1 = cc.Node.create();
@@ -3207,22 +3080,18 @@ var SpriteHybrid = SpriteTestDemo.extend({
             sprite.y = y;
 
             var action = cc.RotateBy.create(4, 360);
-            sprite.runAction(action.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(action));
         }
 
         this._usingSpriteBatchNode = false;
 
         this.schedule(this.reparentSprite, 2);
-        //----end28----
     },
     onExit:function () {
-        //----start28----onExit
         this._super();
         spriteFrameCache.removeSpriteFramesFromFile(s_grossiniPlist);
-        //----end28----
     },
     reparentSprite:function () {
-        //----start28----reparentSprite
         var p1 = this.getChildByTag(TAG_NODE);
         var p2 = this.getChildByTag(TAG_SPRITE_BATCH_NODE);
 
@@ -3255,7 +3124,6 @@ var SpriteHybrid = SpriteTestDemo.extend({
         }
 
         this._usingSpriteBatchNode = !this._usingSpriteBatchNode;
-        //----end28----
     },
     //
     // Automation
@@ -3312,7 +3180,6 @@ var SpriteBatchNodeChildren = SpriteTestDemo.extend({
     _title:"SpriteBatchNode Grand Children",
 
     ctor:function () {
-        //----start29----ctor
         this._super();
         // parents
         var batch = cc.SpriteBatchNode.create(s_grossini, 50);
@@ -3346,7 +3213,7 @@ var SpriteBatchNodeChildren = SpriteTestDemo.extend({
         }
 
         var animation = cc.Animation.create(animFrames, 0.2);
-        sprite1.runAction(cc.Animate.create(animation).repeatForever());
+        sprite1.runAction(cc.RepeatForever.create(cc.Animate.create(animation)));
         // END NEW CODE
 
         var action = cc.MoveBy.create(2, cc.p(200, 0));
@@ -3356,12 +3223,11 @@ var SpriteBatchNodeChildren = SpriteTestDemo.extend({
         var action_s_back = action_s.reverse();
 
         var seq2 = action_rot.reverse();
-        sprite2.runAction(seq2.repeatForever());
+        sprite2.runAction(cc.RepeatForever.create(seq2));
 
-        sprite1.runAction(action_rot.repeatForever());
-        sprite1.runAction(cc.Sequence.create(action, action_back).repeatForever());
-        sprite1.runAction(cc.Sequence.create(action_s, action_s_back).repeatForever());
-        //----end29----
+        sprite1.runAction(cc.RepeatForever.create(action_rot));
+        sprite1.runAction(cc.RepeatForever.create(cc.Sequence.create(action, action_back)));
+        sprite1.runAction(cc.RepeatForever.create(cc.Sequence.create(action_s, action_s_back)));
     },
     //
     // Automation
@@ -3390,7 +3256,6 @@ var SpriteBatchNodeChildrenZ = SpriteTestDemo.extend({
     _title:"SpriteBatchNode Children Z",
 
     ctor:function () {
-        //----start30----ctor
         this._super();
         // parents
         var batch;
@@ -3476,7 +3341,6 @@ var SpriteBatchNodeChildrenZ = SpriteTestDemo.extend({
         batch.addChild(sprite1, -10);
         batch.addChild(sprite2, -5);
         batch.addChild(sprite3, -2);
-        //----end30----
     },
     //
     // Automation
@@ -3509,7 +3373,6 @@ var SpriteChildrenVisibility = SpriteTestDemo.extend({
     _title:"Sprite & SpriteBatchNode Visibility",
 
     ctor:function () {
-        //----start31----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
@@ -3565,7 +3428,6 @@ var SpriteChildrenVisibility = SpriteTestDemo.extend({
         sprite1.addChild(sprite3, 2);
 
         sprite1.runAction(cc.Blink.create(5, 10));
-        //----end31----
     },
     //
     // Automation
@@ -3609,7 +3471,6 @@ var SpriteChildrenVisibilityIssue665 = SpriteTestDemo.extend({
     _subtitle:"No sprites should be visible",
 
     ctor:function () {
-        //----start32----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         //
@@ -3666,7 +3527,6 @@ var SpriteChildrenVisibilityIssue665 = SpriteTestDemo.extend({
         aParent.addChild(sprite1);
         sprite1.addChild(sprite2, -2);
         sprite1.addChild(sprite3, 2);
-        //----end32----
     },
     //
     // Automation
@@ -3695,7 +3555,6 @@ var SpriteChildrenAnchorPoint = SpriteTestDemo.extend({
     _title:"Sprite: children + anchor",
 
     ctor:function () {
-        //----start33----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
 
@@ -3794,7 +3653,6 @@ var SpriteChildrenAnchorPoint = SpriteTestDemo.extend({
 	    point.x = sprite1.x;
 	    point.y = sprite1.y;
         this.addChild(point, 10);
-        //----end33----
     },
     //
     // Automation
@@ -3824,7 +3682,6 @@ var SpriteBatchNodeChildrenAnchorPoint = SpriteTestDemo.extend({
     _title:"SpriteBatchNode: children + anchor",
 
     ctor:function () {
-        //----start34----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
@@ -3928,7 +3785,6 @@ var SpriteBatchNodeChildrenAnchorPoint = SpriteTestDemo.extend({
         point.x = sprite1.x;
 	    point.y = sprite1.y;
         this.addChild(point, 10);
-        //----end34----
     },
     //
     // Automation
@@ -3958,12 +3814,11 @@ var SpriteBatchNodeChildrenScale = SpriteTestDemo.extend({
     _title:"Sprite/BatchNode + child + scale + rot",
 
     ctor:function () {
-        //----start35----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossini_familyPlist);
 
         var rot = cc.RotateBy.create(10, 360);
-        var seq = rot.repeatForever();
+        var seq = cc.RepeatForever.create(rot);
 
         //
         // Children + Scale using Sprite
@@ -3987,7 +3842,7 @@ var SpriteBatchNodeChildrenScale = SpriteTestDemo.extend({
         sprite1.addChild(sprite2);
 
         rot = cc.RotateBy.create(10, 360);
-        seq = rot.repeatForever();
+        seq = cc.RepeatForever.create(rot);
         //
         // Children + Scale using SpriteBatchNode
         // Test 2
@@ -4009,7 +3864,7 @@ var SpriteBatchNodeChildrenScale = SpriteTestDemo.extend({
         sprite1.addChild(sprite2);
 
         rot = cc.RotateBy.create(10, 360);
-        seq = rot.repeatForever();
+        seq = cc.RepeatForever.create(rot);
         //
         // Children + Scale using Sprite
         // Test 3
@@ -4031,7 +3886,7 @@ var SpriteBatchNodeChildrenScale = SpriteTestDemo.extend({
         sprite1.addChild(sprite2);
 
         rot = cc.RotateBy.create(10, 360);
-        seq = rot.repeatForever();
+        seq = cc.RepeatForever.create(rot);
         //
         // Children + Scale using Sprite
         // Test 4
@@ -4051,7 +3906,6 @@ var SpriteBatchNodeChildrenScale = SpriteTestDemo.extend({
         this.addChild(aParent);
         aParent.addChild(sprite1);
         sprite1.addChild(sprite2);
-        //----end35----
     },
     //
     // Automation
@@ -4085,16 +3939,15 @@ var SpriteChildrenChildren = SpriteTestDemo.extend({
     _title:"Sprite multiple levels of children",
 
     ctor:function () {
-        //----start36----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_ghostsPlist);
 
         var rot = cc.RotateBy.create(10, 360);
-        var seq = rot.repeatForever();
+        var seq = cc.RepeatForever.create(rot);
 
         var rot_back = rot.reverse();
-        var rot_back_fe = rot_back.repeatForever();
+        var rot_back_fe = cc.RepeatForever.create(rot_back);
 
         //
         // SpriteBatchNode: 3 levels of children
@@ -4157,7 +4010,6 @@ var SpriteChildrenChildren = SpriteTestDemo.extend({
         l3b2.x = 0 + l2bW / 2;
         l3b2.y = +100 + l2bH / 2;
         l2b.addChild(l3b2);
-        //----end36----
     },
     //
     // Automation
@@ -4191,16 +4043,15 @@ var SpriteBatchNodeChildrenChildren = SpriteTestDemo.extend({
     _title:"SpriteBatchNode multiple levels of children",
 
     ctor:function () {
-        //----start37----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_ghostsPlist);
 
         var rot = cc.RotateBy.create(10, 360);
-        var seq = rot.repeatForever();
+        var seq = cc.RepeatForever.create(rot);
 
         var rot_back = rot.reverse();
-        var rot_back_fe = rot_back.repeatForever();
+        var rot_back_fe = cc.RepeatForever.create(rot_back);
 
         //
         // SpriteBatchNode: 3 levels of children
@@ -4265,7 +4116,6 @@ var SpriteBatchNodeChildrenChildren = SpriteTestDemo.extend({
         l3b2.x = 0 + l2bW / 2;
         l3b2.y = +100 + l2bH / 2;
         l2b.addChild(l3b2);
-        //----end37----
     },
     //
     // Automation
@@ -4300,7 +4150,6 @@ var SpriteNilTexture = SpriteTestDemo.extend({
     _subtitle:"opacity and color should work",
 
     ctor:function () {
-        //----start38----ctor
         this._super();
 
         // TEST: If no texture is given, then Opacity + Color should work.
@@ -4321,7 +4170,6 @@ var SpriteNilTexture = SpriteTestDemo.extend({
         sprite.x = winSize.width / 4;
         sprite.y = winSize.height / 2;
         this.addChild(sprite, 100);
-        //----end38----
     },
     //
     // Automation
@@ -4365,7 +4213,6 @@ var SpriteSubclass = SpriteTestDemo.extend({
     _subtitle:"Testing initWithTexture:rect method",
 
     ctor:function () {
-        //----start39----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_ghostsPlist);
@@ -4383,7 +4230,6 @@ var SpriteSubclass = SpriteTestDemo.extend({
         this.addChild(sprite2);
         sprite2.x = winSize.width / 4 * 3;
         sprite2.y = winSize.height / 2;
-        //----end39----
     },
     //
     // Automation
@@ -4414,7 +4260,6 @@ var AnimationCacheTest = SpriteTestDemo.extend({
     _subtitle:"Sprite should be animated",
 
     ctor:function () {
-        //----start40----ctor
         this._super();
         spriteFrameCache.addSpriteFrames(s_grossiniPlist);
         spriteFrameCache.addSpriteFrames(s_grossini_grayPlist);
@@ -4492,7 +4337,6 @@ var AnimationCacheTest = SpriteTestDemo.extend({
 
         // run the animation
         grossini.runAction(seq);
-        //----end40----
     },
     //
     // Automation
@@ -4505,7 +4349,6 @@ var AnimationCacheTest = SpriteTestDemo.extend({
     cPixel2:null,
     cPixel3:null,
     setupAutomation:function () {
-        //----start40----setupAutomation
         var fun1 = function () {
             this.cPixel1 = this.readPixels(winSize.width / 2, winSize.height / 2, 5, 5);
         }
@@ -4520,7 +4363,6 @@ var AnimationCacheTest = SpriteTestDemo.extend({
             this.cPixel3 = this.readPixels(winSize.width / 2, winSize.height / 2, 5, 5);
         }
         this.scheduleOnce(fun3, 6);
-        //----end40----
     },
     getExpectedResult:function () {
         var ret = {"pixel1":"yes", "pixel2":"yes", "pixel3":"yes"};
@@ -4544,7 +4386,6 @@ var NodeSort = SpriteTestDemo.extend({
     _subtitle:"tag order in console should be 2,1,3,4,5",
 
     ctor:function () {
-        //----start49----ctor
         this._super();
         this._node = cc.Node.create();
         this.addChild(this._node, 0, 0);
@@ -4575,11 +4416,9 @@ var NodeSort = SpriteTestDemo.extend({
         this._node.addChild(this._sprite5, -3, 5);
 
         this.schedule(this.reorderSprite);
-        //----end49----
     },
 
     reorderSprite:function (dt) {
-        //----start49----reorderSprite
         this.unschedule(this.reorderSprite);
 
         cc.log("Before reorder--");
@@ -4604,7 +4443,6 @@ var NodeSort = SpriteTestDemo.extend({
                 child.zIndex);
             this.testOrders.push(child.tag);
         }
-        //----end49----
     },
     //
     // Automation
@@ -4631,7 +4469,6 @@ var SpriteBatchNodeReorderSameIndex = SpriteTestDemo.extend({
     _subtitle:"tag order in console should be 2,3,4,5,1",
 
     ctor:function () {
-        //----start47----ctor
         this._super();
         this._batchNode = cc.SpriteBatchNode.create(s_piece, 15);
         this.addChild(this._batchNode, 1, 0);
@@ -4662,11 +4499,9 @@ var SpriteBatchNodeReorderSameIndex = SpriteTestDemo.extend({
         this._batchNode.addChild(this._sprite5, 6, 5);
 
         this.scheduleOnce(this.reorderSprite, 2);
-        //----end47----
     },
 
     reorderSprite:function (dt) {
-        //----start47----reorderSprite
         this._batchNode.reorderChild(this._sprite4, 4);
         this._batchNode.reorderChild(this._sprite5, 4);
         this._batchNode.reorderChild(this._sprite1, 4);
@@ -4680,7 +4515,6 @@ var SpriteBatchNodeReorderSameIndex = SpriteTestDemo.extend({
             cc.log("tag:" + child.tag);
             this.testDescendants.push(child.tag);
         }
-        //----end47----
     },
     //
     // Automation
@@ -4701,7 +4535,6 @@ var SpriteBatchNodeReorderOneChild = SpriteTestDemo.extend({
 
     _title:"SpriteBatchNode reorder 1 child",
     ctor:function () {
-        //----start48----ctor
         this._super();
 
         spriteFrameCache.addSpriteFrames(s_ghostsPlist);
@@ -4773,7 +4606,6 @@ var SpriteBatchNodeReorderOneChild = SpriteTestDemo.extend({
         l2b.addChild(l3b2);
 
         this.scheduleOnce(this.reorderSprite, 2.0);
-        //----end48----
     },
 
     reorderSprite:function (dt) {
@@ -4803,7 +4635,6 @@ var SpriteBatchNodeSkewNegativeScaleChildren = SpriteTestDemo.extend({
     _subtitle:"SpriteBatchNode skew + negative scale with children",
 
     ctor:function () {
-        //----start51----ctor
         this._super();
 
         var cache = spriteFrameCache;
@@ -4828,7 +4659,7 @@ var SpriteBatchNodeSkewNegativeScaleChildren = SpriteTestDemo.extend({
                 sprite.scale = -1.0;
 
             var seq_skew = cc.Sequence.create(skewX, skewX_back, skewY, skewY_back);
-            sprite.runAction(seq_skew.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_skew));
 
             var child1 = cc.Sprite.create("#grossini_dance_01.png");
             child1.x = sprite.width / 2.0;
@@ -4838,7 +4669,6 @@ var SpriteBatchNodeSkewNegativeScaleChildren = SpriteTestDemo.extend({
             sprite.addChild(child1);
             spritebatch.addChild(sprite, i);
         }
-        //----end51----
     },
     //
     // Automation
@@ -4864,7 +4694,6 @@ var SpriteSkewNegativeScaleChildren = SpriteTestDemo.extend({
     _subtitle:"Sprite skew + negative scale with children",
 
     ctor:function () {
-        //----start50----ctor
         this._super();
 
         var cache = spriteFrameCache;
@@ -4889,7 +4718,7 @@ var SpriteSkewNegativeScaleChildren = SpriteTestDemo.extend({
                 sprite.scale = -1.0;
 
             var seq_skew = cc.Sequence.create(skewX, skewX_back, skewY, skewY_back);
-            sprite.runAction(seq_skew.repeatForever());
+            sprite.runAction(cc.RepeatForever.create(seq_skew));
 
             var child1 = cc.Sprite.create("#grossini_dance_01.png");
             child1.x = sprite.width / 2.0;
@@ -4899,7 +4728,6 @@ var SpriteSkewNegativeScaleChildren = SpriteTestDemo.extend({
             child1.scale = 0.8;
             parent.addChild(sprite, i);
         }
-        //----end50----
     },
     //
     // Automation
@@ -4972,7 +4800,6 @@ var SpriteDoubleResolution = SpriteTestDemo.extend({
     _subtitle:"Retina Display. SD (left) should be equal to HD (right)",
 
     ctor:function () {
-        //----start52----ctor
         this._super();
 
         //
@@ -5023,7 +4850,6 @@ var SpriteDoubleResolution = SpriteTestDemo.extend({
 
         spriteSD.runAction(seq);
         spriteHD.runAction(seq_copy);
-        //----end52----
     }
 });
 
@@ -5033,7 +4859,6 @@ var AnimationCacheFile = SpriteTestDemo.extend({
     _subtitle:"Sprite should be animated",
 
     ctor:function () {
-        //----start54----ctor
         this._super();
         var frameCache = spriteFrameCache;
         frameCache.addSpriteFrames(s_grossiniPlist);
@@ -5074,7 +4899,6 @@ var AnimationCacheFile = SpriteTestDemo.extend({
 
         // run the animation
         grossini.runAction(seq);
-        //----end54----
     },
     //
     // Automation
@@ -5116,7 +4940,6 @@ var SpriteBatchBug1217 = SpriteTestDemo.extend({
     _subtitle:"Adding big family to spritebatch. You shall see 3 heads",
 
     ctor:function () {
-        //----start53----ctor
         this._super();
         var bn = cc.SpriteBatchNode.create(s_grossini_dance_atlas, 15);
 
@@ -5146,7 +4969,6 @@ var SpriteBatchBug1217 = SpriteTestDemo.extend({
         bn.addChild(s1);
 
         this.addChild(bn);
-        //----end53----
     },
     // Automation
     testDuration:2.1,
@@ -5174,7 +4996,6 @@ var TextureColorCacheIssue = SpriteTestDemo.extend({
     _subtitle:"You should see two different sprites colored green and blue",
 
     ctor:function () {
-        //----start55----ctor
         this._super();
 
         var spriteFrameCache = cc.spriteFrameCache;
@@ -5194,14 +5015,11 @@ var TextureColorCacheIssue = SpriteTestDemo.extend({
 
         grossini.color = cc.color(1, 255, 1);
         sister.color = cc.color(1, 1, 255);
-        //----end55----
     },
     onExit:function () {
-        //----start55----onExit
         spriteFrameCache.removeSpriteFramesFromFile(s_tcc_issue_1_plist);
         spriteFrameCache.removeSpriteFramesFromFile(s_tcc_issue_2_plist);
         this._super();
-        //----end55----
     },
     // Automation
     pixel1:{"0":0, "1":204, "2":0, "3":255},
@@ -5225,7 +5043,6 @@ var TextureColorCacheIssue2 = SpriteTestDemo.extend({
     _subtitle:"You should see two different sprites magenta and yellow",
 
     ctor:function () {
-        //----start56----ctor
         this._super();
 
         var spriteFrameCache = cc.spriteFrameCache;
@@ -5243,16 +5060,17 @@ var TextureColorCacheIssue2 = SpriteTestDemo.extend({
         this.addChild(grossini);
         this.addChild(sister);
 
+//        for (var i = 0; i < 10; ++i) {
+//            sister.color = cc.color(128, 128, 128 + i);
+//            grossini.color = cc.color(128, 128, 128 + i);
+//        }
         grossini.color = cc.color(255, 255, 0);
         sister.color = cc.color(255, 0, 255);
-        //----end56----
     },
     onExit:function () {
-        //----start56----onExit
         spriteFrameCache.removeSpriteFramesFromFile(s_tcc_issue_1_plist);
         spriteFrameCache.removeSpriteFramesFromFile(s_tcc_issue_2_plist);
         this._super();
-        //----end56----
     },
     // Automation
     pixel1:{"0":255, "1":204, "2":0, "3":255},
@@ -5276,7 +5094,6 @@ var TextureRotatedSpriteFrame = SpriteTestDemo.extend({
     _subtitle:"createWithSpriteFrameName(); sub sprite",
 
     ctor:function () {
-        //----start57----ctor
         this._super();
 
         cc.spriteFrameCache.addSpriteFrames(s_s9s_blocks9_plist);
@@ -5292,7 +5109,6 @@ var TextureRotatedSpriteFrame = SpriteTestDemo.extend({
 
         block.y = y;
         this.addChild(block);
-        //----end57----
     },
     // Automation
     pixel1:{"0":255, "1":204, "2":153, "3":255},
@@ -5311,8 +5127,8 @@ var TextureRotatedSpriteFrame = SpriteTestDemo.extend({
 });
 
 var SpriteTestScene = TestScene.extend({
-    runThisTest:function (num) {
-        spriteTestIdx = (num || num == 0) ? (num - 1) : -1;
+    runThisTest:function () {
+        spriteTestIdx = -1;
         var layer = nextSpriteTest();
         this.addChild(layer);
 
@@ -5388,10 +5204,6 @@ var nextSpriteTest = function () {
     spriteTestIdx++;
     spriteTestIdx = spriteTestIdx % arrayOfSpriteTest.length;
 
-    if(window.sidebar){
-        spriteTestIdx = window.sidebar.changeTest(spriteTestIdx, 36);
-    }
-
     return new arrayOfSpriteTest[spriteTestIdx ]();
 };
 var previousSpriteTest = function () {
@@ -5399,10 +5211,6 @@ var previousSpriteTest = function () {
     if (spriteTestIdx < 0)
         spriteTestIdx += arrayOfSpriteTest.length;
 
-    if(window.sidebar){
-        spriteTestIdx = window.sidebar.changeTest(spriteTestIdx, 36);
-    }
-
     return new arrayOfSpriteTest[spriteTestIdx ]();
 };
 var restartSpriteTest = function () {
diff --git a/samples/js-tests/src/TextInputTest/TextInputTest.js b/samples/js-tests/src/TextInputTest/TextInputTest.js
index d128c47..b25210d 100644
--- a/samples/js-tests/src/TextInputTest/TextInputTest.js
+++ b/samples/js-tests/src/TextInputTest/TextInputTest.js
@@ -281,9 +281,10 @@ var TextFieldTTFActionTest = KeyboardNotificationLayer.extend({
         this._super();
 
         this._charLimit = 20;
-        this._textFieldAction = cc.Sequence.create(
+        this._textFieldAction = cc.RepeatForever.create(
+            cc.Sequence.create(
                 cc.FadeOut.create(0.25),
-                cc.FadeIn.create(0.25)).repeatForever();
+                cc.FadeIn.create(0.25)));
         this._action = false;
 
         // add CCTextFieldTTF
diff --git a/samples/js-tests/src/TileMapTest/TileMapTest.js b/samples/js-tests/src/TileMapTest/TileMapTest.js
index c53cdca..e604521 100644
--- a/samples/js-tests/src/TileMapTest/TileMapTest.js
+++ b/samples/js-tests/src/TileMapTest/TileMapTest.js
@@ -30,7 +30,7 @@ var tileTestSceneIdx = -1;
 // TileDemo
 //
 //------------------------------------------------------------------
-var TileDemoProps = {
+var TileDemo = BaseTestLayer.extend({
     ctor:function () {
         this._super();
 
@@ -42,8 +42,8 @@ var TileDemoProps = {
                     var delta = touch.getDelta();
             
                     var node = event.getCurrentTarget().getChildByTag(TAG_TILE_MAP);
-                    node.x += delta.x;
-                    node.y += delta.y;
+            	    node.x += delta.x;
+            	    node.y += delta.y;
                 }
             }, this);
         } else if ('mouse' in cc.sys.capabilities)
@@ -88,13 +88,7 @@ var TileDemoProps = {
     getTestNumber:function () {
         return tileTestSceneIdx;
     }
-};
-var TileDemo = BaseTestLayer.extend(TileDemoProps);
-
-/******************for vertexz bug**************/
-var FixBugBaseTest = cc.Layer.extend(BaseTestLayerProps);
-var TMXFixBugLayer = FixBugBaseTest.extend(TileDemoProps);
-/***********************************************************/
+});
 
 var TileMapTest = TileDemo.extend({
     ctor:function () {
@@ -117,7 +111,7 @@ var TileMapTest = TileDemo.extend({
 
         var seq = cc.Sequence.create(scale, scaleBack);
 
-        map.runAction(seq.repeatForever());
+        map.runAction(cc.RepeatForever.create(seq));
     },
     title:function () {
         return "TileMapAtlas";
@@ -970,7 +964,7 @@ var TMXIsoZorder = TileDemo.extend({
         var back = move.reverse();
         var delay = cc.DelayTime.create(0.5);
         var seq = cc.Sequence.create(move, delay, back);
-        this.tamara.runAction(seq.repeatForever());
+        this.tamara.runAction(cc.RepeatForever.create(seq));
 
         this.schedule(this.repositionSprite);
     },
@@ -1032,7 +1026,7 @@ var TMXOrthoZorder = TileDemo.extend({
         var move = cc.MoveBy.create(5, cc.pMult(cc.p(400, 450), 0.58));
         var back = move.reverse();
         var seq = cc.Sequence.create(move, back);
-        this.tamara.runAction(seq.repeatForever());
+        this.tamara.runAction(cc.RepeatForever.create(seq));
 
         this.schedule(this.repositionSprite);
     },
@@ -1080,8 +1074,9 @@ var TMXOrthoZorder = TileDemo.extend({
 // TMXIsoVertexZ
 //
 //------------------------------------------------------------------
-var TMXIsoVertexZ = TMXFixBugLayer.extend({
+var TMXIsoVertexZ = TileDemo.extend({
     tamara:null,
+    tamara1:null,
     ctor:function () {
         this._super();
         var map = cc.TMXTiledMap.create(s_resprefix + "TileMaps/iso-test-vertexz.tmx");
@@ -1099,7 +1094,7 @@ var TMXIsoVertexZ = TMXFixBugLayer.extend({
         var back = move.reverse();
         var delay = cc.DelayTime.create(0.5);
         var seq = cc.Sequence.create(move, delay, back);
-        this.tamara.runAction(seq.repeatForever());
+        this.tamara.runAction(cc.RepeatForever.create(seq));
 
         if (!cc.sys.isNative && !("opengl" in cc.sys.capabilities)) {
             var label = cc.LabelTTF.create("Not supported on HTML5-canvas", "Times New Roman", 30);
@@ -1120,6 +1115,9 @@ var TMXIsoVertexZ = TMXFixBugLayer.extend({
         this._super();
         // TIP: 2d projection should be used
         director.setProjection(cc.Director.PROJECTION_2D);
+        // do nothing in draw of LayerGradient at this Testcase.
+        this.draw = function () {
+        };
     },
     onExit:function () {
         // At exit use any other projection.
@@ -1153,7 +1151,7 @@ var TMXIsoVertexZ = TMXFixBugLayer.extend({
 // TMXOrthoVertexZ
 //
 //------------------------------------------------------------------
-var TMXOrthoVertexZ = TMXFixBugLayer.extend({
+var TMXOrthoVertexZ = TileDemo.extend({
     tamara:null,
     ctor:function () {
         this._super();
@@ -1170,7 +1168,7 @@ var TMXOrthoVertexZ = TMXFixBugLayer.extend({
         var back = move.reverse();
         var delay = cc.DelayTime.create(0.5);
         var seq = cc.Sequence.create(move, delay, back);
-        this.tamara.runAction(seq.repeatForever());
+        this.tamara.runAction(cc.RepeatForever.create(seq));
 
         if (!cc.sys.isNative && !("opengl" in cc.sys.capabilities)) {
             var label = cc.LabelTTF.create("Not supported on HTML5-canvas", "Times New Roman", 30);
@@ -1194,6 +1192,9 @@ var TMXOrthoVertexZ = TMXFixBugLayer.extend({
 
         // TIP: 2d projection should be used
         director.setProjection(cc.Director.PROJECTION_2D);
+        // do nothing in draw of LayerGradient at this Testcase.
+        this.draw = function () {
+        };
     },
     onExit:function () {
         // At exit use any other projection.
diff --git a/samples/js-tests/src/XHRTest/XHRTest.js b/samples/js-tests/src/XHRTest/XHRTest.js
index 81f80d1..8afb6da 100644
--- a/samples/js-tests/src/XHRTest/XHRTest.js
+++ b/samples/js-tests/src/XHRTest/XHRTest.js
@@ -1,7 +1,7 @@
 /****************************************************************************
+ Copyright (c) 2010-2012 cocos2d-x.org
  Copyright (c) 2008-2010 Ricardo Quesada
- Copyright (c) 2011-2012 cocos2d-x.org
- Copyright (c) 2013-2014 Chukong Technologies Inc.
+ Copyright (c) 2011      Zynga Inc.
 
  http://www.cocos2d-x.org
 
diff --git a/samples/js-tests/src/tests-main.js b/samples/js-tests/src/tests-main.js
index ae808e0..47c22c9 100644
--- a/samples/js-tests/src/tests-main.js
+++ b/samples/js-tests/src/tests-main.js
@@ -53,10 +53,10 @@ var TestScene = cc.Scene.extend({
         menuItem.x = winSize.width - 50;
         menuItem.y = 25;
 
-        if(!window.sidebar){
-            this.addChild(menu, 1);
-        }
+        this.addChild(menu, 1);
     },
+
+    // callbacks
     onMainMenuCallback:function () {
         var scene = cc.Scene.create();
         var layer = new TestController();
diff --git a/templates/js-template-default/frameworks/runtime-src/proj.android/project.properties b/templates/js-template-default/frameworks/runtime-src/proj.android/project.properties
index 8ee3a86..e379fa0 100644
--- a/templates/js-template-default/frameworks/runtime-src/proj.android/project.properties
+++ b/templates/js-template-default/frameworks/runtime-src/proj.android/project.properties
@@ -10,4 +10,4 @@
 # Project target.
 target=android-10
 
-android.library.reference.1=../../js-bindings/cocos2d-x/cocos/platform/android/java
+android.library.reference.1=../../js-bindings/cocos2d-x/cocos/2d/platform/android/java
diff --git a/templates/js-template-default/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj b/templates/js-template-default/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj
index 9f5d5cf..5daf99d 100644
--- a/templates/js-template-default/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj
+++ b/templates/js-template-default/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj
@@ -79,7 +79,7 @@
     </Midl>
     <ClCompile>
       <Optimization>Disabled</Optimization>
-      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;_DEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_DEBUG=1;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <MinimalRebuild>false</MinimalRebuild>
       <BasicRuntimeChecks>EnableFastChecks</BasicRuntimeChecks>
@@ -138,7 +138,7 @@ xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
       <ProxyFileName>game_p.c</ProxyFileName>
     </Midl>
     <ClCompile>
-      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;NDEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <ExceptionHandling>
       </ExceptionHandling>
diff --git a/templates/js-template-runtime/.project b/templates/js-template-runtime/.project
index 0e006fb..6550443 100644
--- a/templates/js-template-runtime/.project
+++ b/templates/js-template-runtime/.project
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <projectDescription>
-	<name>HelloJavascript</name>
+	<name>CocosGame</name>
 	<comment></comment>
 	<projects>
 	</projects>
@@ -10,7 +10,4 @@
 		<nature>org.ccdt.cocosproject</nature>
 		<nature>org.ccdt.jsdt.core.jsNature</nature>
 	</natures>
-	<cocosprojecttemplate>
-		<version>1.1</version>
-	</cocosprojecttemplate>
 </projectDescription>
diff --git a/templates/js-template-runtime/cocos-project-template.json b/templates/js-template-runtime/cocos-project-template.json
index 68d9f16..ab3326b 100644
--- a/templates/js-template-runtime/cocos-project-template.json
+++ b/templates/js-template-runtime/cocos-project-template.json
@@ -3,35 +3,12 @@
          "exclude_from_template":[
             "frameworks/runtime-src"
          ],
-         "append_from_template": {
-            "from": "frameworks/runtime-src/proj.android",
-            "to": "frameworks/runtime-src/proj.android",
-            "exclude": [
-                "bin",
-                "assets"
-            ]
-         },
          "append_h5_engine":{
             "from":"frameworks/cocos2d-html5",
             "to":"frameworks/cocos2d-html5"
          },
-         "project_replace_project_name":{
-            "src_project_name":"HelloJavascript",
-            "files":[
-               "config.json",
-               ".project",
-               "frameworks/runtime-src/proj.android/.project",
-               "frameworks/runtime-src/proj.android/AndroidManifest.xml",
-               "frameworks/runtime-src/proj.android/build.xml",
-               "frameworks/runtime-src/proj.android/res/values/strings.xml"
-               ]
-            },
          "append_dir":[
             {
-                "from": "frameworks/js-bindings/cocos2d-x/cocos/platform/android/java",
-                "to": "frameworks/js-bindings/cocos2d-x/cocos/platform/android/java"
-            },
-            {
                "from":"frameworks/js-bindings",
                "to":"frameworks/js-bindings",
                "exclude":[
@@ -126,7 +103,9 @@
             "from":"frameworks/runtime-src",
             "to":"frameworks/runtime-src",
             "exclude":[
-               "proj.android",
+               "proj.android/bin",
+               "proj.android/assets",
+               "proj.android/libs",
                "proj.ios_mac/HelloJavascript.xcodeproj/project.xcworkspace",
                "proj.ios_mac/HelloJavascript.xcodeproj/xcuserdata",
                "proj.win32/Debug.win32",
@@ -164,20 +143,21 @@
          "project_replace_project_name":{
             "src_project_name":"HelloJavascript",
             "files":[
-               "config.json",
-               ".project",
                "frameworks/runtime-src/proj.win32/PROJECT_NAME.vcxproj",
                "frameworks/runtime-src/proj.win32/PROJECT_NAME.vcxproj.filters",
                "frameworks/runtime-src/proj.win32/PROJECT_NAME.vcxproj.user",
                "frameworks/runtime-src/proj.win32/PROJECT_NAME.sln",
                "frameworks/runtime-src/proj.win32/main.cpp",
                "frameworks/runtime-src/proj.win32/Runtime_win32.cpp",
+               "frameworks/runtime-src/proj.android/.project",
+               "frameworks/runtime-src/proj.android/AndroidManifest.xml",
+               "frameworks/runtime-src/proj.android/build.xml",
+               "frameworks/runtime-src/proj.android/res/values/strings.xml",
                "frameworks/runtime-src/proj.ios_mac/ios/main.m",
                "frameworks/runtime-src/proj.ios_mac/ios/Prefix.pch",
                "frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.mm",
                "frameworks/runtime-src/proj.ios_mac/PROJECT_NAME.xcodeproj/project.pbxproj",
-               "frameworks/runtime-src/Classes/AppDelegate.cpp",
-               "frameworks/runtime-src/Classes/ConfigParser.cpp"
+               "frameworks/runtime-src/Classes/AppDelegate.cpp"
             ]
          },
          "project_replace_package_name":{
diff --git a/templates/js-template-runtime/config.json b/templates/js-template-runtime/config.json
deleted file mode 100644
index 2b753d3..0000000
--- a/templates/js-template-runtime/config.json
+++ /dev/null
@@ -1,56 +0,0 @@
-{
-    "init_cfg":{
-       "isLandscape": true,
-       "name": "HelloJavascript",
-       "width": 960,
-       "height": 640,
-       "entry": "main.js"
-    },
-    "simulator_screen_size": [
-        {
-            "title": "iPhone 3Gs (480x320)",
-            "width": 480,
-            "height": 320
-        },
-        {
-            "title": "iPhone 4 (960x640)",
-            "width": 960,
-            "height": 640
-        },
-        {
-            "title": "iPhone 5 (1136x640)",
-            "width": 1136,
-            "height": 640
-        },
-        {
-            "title": "iPad (1024x768)",
-            "width": 1024,
-            "height": 768
-        },
-        {
-            "title": "iPad Retina (2048x1536)",
-            "width": 2048,
-            "height": 1536
-        },
-        {
-            "title": "Android (800x480)",
-            "width": 800,
-            "height": 480
-        },
-        {
-            "title": "Android (854x480)",
-            "width": 854,
-            "height": 480
-        },
-        {
-            "title": "Android (1280x720)",
-            "width": 1280,
-            "height": 720
-        },
-        {
-            "title": "Android (1920x1080)",
-            "width": 1920,
-            "height": 1080
-        }
-    ]
-}
diff --git a/templates/js-template-runtime/frameworks/runtime-src/Classes/AppDelegate.cpp b/templates/js-template-runtime/frameworks/runtime-src/Classes/AppDelegate.cpp
index 6d85ef8..104975f 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/Classes/AppDelegate.cpp
+++ b/templates/js-template-runtime/frameworks/runtime-src/Classes/AppDelegate.cpp
@@ -14,17 +14,12 @@
 #include "chipmunk/js_bindings_chipmunk_registration.h"
 #include "jsb_opengl_registration.h"
 #include "network/XMLHTTPRequest.h"
-#include "network/jsb_websocket.h"
-#include "network/jsb_socketio.h"
-#include "jsb_cocos2dx_spine_auto.hpp"
-#include "spine/jsb_cocos2dx_spine_manual.h"
-
 #include "Runtime.h"
-#include "ConfigParser.h"
 #if (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)
 #include "platform/android/CCJavascriptJavaBridge.h"
 #endif
 
+
 USING_NS_CC;
 using namespace CocosDenshion;
 
@@ -39,29 +34,12 @@ AppDelegate::~AppDelegate()
 
 bool AppDelegate::applicationDidFinishLaunching()
 {
-    
-#if (COCOS2D_DEBUG>0)
-    initRuntime();
-#endif
-    
-    if (!ConfigParser::getInstance()->isInit()) {
-            ConfigParser::getInstance()->readConfig();
-        }
-
     // initialize director
     auto director = Director::getInstance();
-    auto glview = director->getOpenGLView();    
+    auto glview = director->getOpenGLView();
     if(!glview) {
-        Size viewSize = ConfigParser::getInstance()->getInitViewSize();
-        string title = ConfigParser::getInstance()->getInitViewName();
-#if (CC_TARGET_PLATFORM == CC_PLATFORM_WIN32 || CC_TARGET_PLATFORM == CC_PLATFORM_MAC)
-        extern void createSimulator(const char* viewName, float width, float height,bool isLandscape = true, float frameZoomFactor = 1.0f);
-        bool isLanscape = ConfigParser::getInstance()->isLanscape();
-        createSimulator(title.c_str(),viewSize.width,viewSize.height,isLanscape);
-#else
-        glview = GLView::createWithRect(title.c_str(), Rect(0,0,viewSize.width,viewSize.height));
+        glview = GLView::createWithRect("HelloJavascript", Rect(0,0,900,640));
         director->setOpenGLView(glview);
-#endif
     }
 
     // turn on display FPS
@@ -74,30 +52,21 @@ bool AppDelegate::applicationDidFinishLaunching()
     sc->addRegisterCallback(register_all_cocos2dx_extension);
     sc->addRegisterCallback(register_cocos2dx_js_extensions);
     sc->addRegisterCallback(register_all_cocos2dx_extension_manual);
-    sc->addRegisterCallback(jsb_register_chipmunk);
-    sc->addRegisterCallback(JSB_register_opengl);
-    sc->addRegisterCallback(jsb_register_system);
-    sc->addRegisterCallback(register_jsb_websocket);
-    sc->addRegisterCallback(register_jsb_socketio);
-    
     sc->addRegisterCallback(register_all_cocos2dx_builder);
     sc->addRegisterCallback(register_CCBuilderReader);
-    
     sc->addRegisterCallback(register_all_cocos2dx_ui);
     sc->addRegisterCallback(register_all_cocos2dx_ui_manual);
     sc->addRegisterCallback(register_all_cocos2dx_studio);
     sc->addRegisterCallback(register_all_cocos2dx_studio_manual);
-    
-    sc->addRegisterCallback(register_all_cocos2dx_spine);
-    sc->addRegisterCallback(register_all_cocos2dx_spine_manual);
-    
-    
+    sc->addRegisterCallback(jsb_register_system);
+    sc->addRegisterCallback(JSB_register_opengl);
+    sc->addRegisterCallback(jsb_register_chipmunk);
     sc->addRegisterCallback(MinXmlHttpRequest::_js_register);
     #if (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)
     sc->addRegisterCallback(JavascriptJavaBridge::_js_register);
     #endif
     
-#if (COCOS2D_DEBUG>0)
+#ifdef COCOS2D_DEBUG
     if (startRuntime())
         return true;
 #endif
@@ -105,7 +74,7 @@ bool AppDelegate::applicationDidFinishLaunching()
     ScriptingCore::getInstance()->start();
     auto engine = ScriptingCore::getInstance();
     ScriptEngineManager::getInstance()->setScriptEngine(engine);
-    ScriptingCore::getInstance()->runScript(ConfigParser::getInstance()->getEntryFile().c_str());
+    ScriptingCore::getInstance()->runScript("main.js");
     
     return true;
 }
diff --git a/templates/js-template-runtime/frameworks/runtime-src/Classes/ConfigParser.cpp b/templates/js-template-runtime/frameworks/runtime-src/Classes/ConfigParser.cpp
deleted file mode 100644
index ea1b189..0000000
--- a/templates/js-template-runtime/frameworks/runtime-src/Classes/ConfigParser.cpp
+++ /dev/null
@@ -1,126 +0,0 @@
-
-#include "json/document.h"
-#include "json/filestream.h"
-#include "json/stringbuffer.h"
-#include "json/writer.h"
-#include "ConfigParser.h"
-
-// ConfigParser
-ConfigParser *ConfigParser::s_sharedInstance = NULL;
-ConfigParser *ConfigParser::getInstance(void)
-{
-    if (!s_sharedInstance)
-    {
-        s_sharedInstance = new ConfigParser();
-    }
-    return s_sharedInstance;
-}
-
-bool ConfigParser::isInit()
-{
-    return _isInit;
-}
-
-void ConfigParser::readConfig()
-{
-    _isInit = true;
-    string filecfg = "config.json";
-    
-    string fileContent;
-#if (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID && !defined(NDEBUG)) || (CC_TARGET_PLATFORM == CC_PLATFORM_IOS && defined(COCOS2D_DEBUG))
-    string fullPathFile = FileUtils::getInstance()->getWritablePath();
-    fullPathFile.append("debugruntime/");
-    fullPathFile.append(filecfg.c_str());
-    fileContent=FileUtils::getInstance()->getStringFromFile(fullPathFile.c_str());
-#endif
-
-    if (fileContent.empty()) {
-        filecfg=FileUtils::getInstance()->fullPathForFilename(filecfg.c_str());
-        fileContent=FileUtils::getInstance()->getStringFromFile(filecfg.c_str());
-    }
-
-    if(!fileContent.empty())
-    {
-        _docRootjson.Parse<0>(fileContent.c_str());
-        if (_docRootjson.HasMember("init_cfg"))
-        {
-            if(_docRootjson["init_cfg"].IsObject())
-            {
-                const rapidjson::Value& objectInitView = _docRootjson["init_cfg"];
-                if (objectInitView.HasMember("width") && objectInitView.HasMember("height"))
-                {
-                    _initViewSize.width = objectInitView["width"].GetUint();
-                    _initViewSize.height = objectInitView["height"].GetUint();
-                }
-                if (objectInitView.HasMember("name") && objectInitView["name"].IsString())
-                {
-                    _viewName = objectInitView["name"].GetString();
-                }
-                if (objectInitView.HasMember("isLandscape") && objectInitView["isLandscape"].IsBool()) {
-                    _isLandscape = objectInitView["isLandscape"].GetBool();
-                }
-                if (objectInitView.HasMember("entry") && objectInitView["entry"].IsString()) {
-                    _entryfile = objectInitView["entry"].GetString();
-                }
-            }
-        }
-        if (_docRootjson.HasMember("simulator_screen_size"))
-        {
-            const rapidjson::Value& ArrayScreenSize = _docRootjson["simulator_screen_size"];
-            if (ArrayScreenSize.IsArray())
-            {
-                for (int i=0; i<ArrayScreenSize.Size(); i++)
-                {
-                    const rapidjson::Value& objectScreenSize = ArrayScreenSize[i];
-                    if (objectScreenSize.HasMember("title") && objectScreenSize.HasMember("width") && objectScreenSize.HasMember("height"))
-                    {
-                        _screenSizeArray.push_back(SimulatorScreenSize(objectScreenSize["title"].GetString(), objectScreenSize["width"].GetUint(), objectScreenSize["height"].GetUint()));
-                    }
-                }
-            }
-        }
-        
-    }
-
-}
-
-ConfigParser::ConfigParser(void):_isInit(false),_isLandscape(true)
-{
-    _initViewSize.setSize(960,640);
-    _viewName = "HelloJavascript";
-    _entryfile = "main.js";
-}
-
-rapidjson::Document& ConfigParser::getConfigJsonRoot()
-{
-    return _docRootjson;
-}
-string ConfigParser::getInitViewName()
-{
-    return _viewName;
-}
-
-string ConfigParser::getEntryFile()
-{
-    return _entryfile;
-}
-
-Size ConfigParser::getInitViewSize()
-{
-    return _initViewSize;
-}
-
-bool ConfigParser::isLanscape()
-{
-    return _isLandscape;
-}
-
-int ConfigParser::getScreenSizeCount(void)
-{
-    return (int)_screenSizeArray.size();
-}
-
-const SimulatorScreenSize ConfigParser::getScreenSize(int index)
-{
-    return _screenSizeArray.at(index);
-}
diff --git a/templates/js-template-runtime/frameworks/runtime-src/Classes/ConfigParser.h b/templates/js-template-runtime/frameworks/runtime-src/Classes/ConfigParser.h
deleted file mode 100644
index 7b2f536..0000000
--- a/templates/js-template-runtime/frameworks/runtime-src/Classes/ConfigParser.h
+++ /dev/null
@@ -1,56 +0,0 @@
-#ifndef __CONFIG_PARSER_H__
-#define __CONFIG_PARSER_H__
-
-#include <string>
-#include <vector>
-#include "cocos2d.h"
-#include "json/document.h"
-using namespace std;
-USING_NS_CC;
-
-// ConfigParser
-typedef struct _SimulatorScreenSize {
-    string title;
-    int width;
-    int height;
-
-    _SimulatorScreenSize(const string title_, int width_, int height_)
-    {
-        title  = title_;
-        width  = width_;
-        height = height_;
-    }
-} SimulatorScreenSize;
-
-typedef vector<SimulatorScreenSize> ScreenSizeArray;
-class ConfigParser
-{
-public:
-    static ConfigParser *getInstance(void);
-    void readConfig();
-
-    // predefined screen size
-    int getScreenSizeCount(void);
-    cocos2d::Size getInitViewSize();
-    string getInitViewName();
-    string getEntryFile();
-    rapidjson::Document& getConfigJsonRoot();
-    const SimulatorScreenSize getScreenSize(int index);
-    bool isLanscape();
-    bool isInit();
-    
-private:
-    ConfigParser(void);
-    static ConfigParser *s_sharedInstance;
-    ScreenSizeArray _screenSizeArray;
-    cocos2d::Size _initViewSize;
-    string _viewName;
-    string _entryfile;
-    bool _isLandscape;
-    bool _isInit;
-    
-    rapidjson::Document _docRootjson;
-};
-
-#endif  // __CONFIG_PARSER_H__
-
diff --git a/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.cpp b/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.cpp
index a44acc3..df54607 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.cpp
+++ b/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.cpp
@@ -38,8 +38,6 @@ THE SOFTWARE.
 #include "json/filestream.h"
 #include "json/stringbuffer.h"
 #include "json/writer.h"
-#include "VisibleRect.h"
-#include "ConfigParser.h"
 
 #ifdef _WIN32
 #define realpath(dir,fuldir) _fullpath(fuldir,dir,_MAX_PATH_)
@@ -61,10 +59,13 @@ using namespace cocos2d;
 
 std::string g_resourcePath;
 static rapidjson::Document g_filecfgjson; 
-class ConnectWaitLayer;
-static ConnectWaitLayer* s_pConnectLayer;
+extern string getDotWaitFilePath();
+extern string getProjSearchPath();
 extern string getIPAddress();
+extern vector<string> getSearchPath();
 extern bool browseDir(const char *dir,const char *filespec,vector<string> &filterArray,vector<std::string> &fileList);
+
+
 /*@brief   use "|" splite string  */
 vector<string> splitFilter(const char *str)
 {
@@ -234,19 +235,14 @@ vector<std::string> searchFileList(string &dir,const char *filespec="*.*",const
 
 const char* getRuntimeVersion()
 {
-    return "1.1";
-}
-
-void hideRcvFile() {
-    s_pConnectLayer = nullptr;
+    return "0.0.1";
 }
 
 bool startScript()
 {
-    hideRcvFile();
     ScriptEngineProtocol *engine = ScriptingCore::getInstance();
     ScriptEngineManager::getInstance()->setScriptEngine(engine);
-    return ScriptingCore::getInstance()->runScript(ConfigParser::getInstance()->getEntryFile().c_str());
+    return ScriptingCore::getInstance()->runScript("main.js");
 }
 
 bool reloadScript(const string& file,bool reloadAll)
@@ -267,7 +263,7 @@ bool reloadScript(const string& file,bool reloadAll)
     string modulefile = file;
     if (modulefile.empty())
     {
-        modulefile = ConfigParser::getInstance()->getEntryFile().c_str();
+        modulefile = "main.js";
         ScriptingCore::getInstance()->cleanScript(modulefile.c_str());
     }
     if (reloadAll)
@@ -278,10 +274,97 @@ bool reloadScript(const string& file,bool reloadAll)
     
 }
 
-class ConnectWaitLayer: public Layer
+
+class VisibleRect
 {
+public:
+    static Rect getVisibleRect();
+    
+    static Point left();
+    static Point right();
+    static Point top();
+    static Point bottom();
+    static Point center();
+    static Point leftTop();
+    static Point rightTop();
+    static Point leftBottom();
+    static Point rightBottom();
 private:
-    LabelTTF* pLabelUploadFile;
+    static void lazyInit();
+    static Rect s_visibleRect;
+};
+
+Rect VisibleRect::s_visibleRect;
+
+void VisibleRect::lazyInit()
+{
+    // no lazy init
+    // Useful if we change the resolution in runtime
+    s_visibleRect = Director::getInstance()->getOpenGLView()->getVisibleRect();
+}
+
+Rect VisibleRect::getVisibleRect()
+{
+    lazyInit();
+    return s_visibleRect;
+}
+
+Point VisibleRect::left()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x, s_visibleRect.origin.y+s_visibleRect.size.height/2);
+}
+
+Point VisibleRect::right()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x+s_visibleRect.size.width, s_visibleRect.origin.y+s_visibleRect.size.height/2);
+}
+
+Point VisibleRect::top()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x+s_visibleRect.size.width/2, s_visibleRect.origin.y+s_visibleRect.size.height);
+}
+
+Point VisibleRect::bottom()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x+s_visibleRect.size.width/2, s_visibleRect.origin.y);
+}
+
+Point VisibleRect::center()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x+s_visibleRect.size.width/2, s_visibleRect.origin.y+s_visibleRect.size.height/2);
+}
+
+Point VisibleRect::leftTop()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x, s_visibleRect.origin.y+s_visibleRect.size.height);
+}
+
+Point VisibleRect::rightTop()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x+s_visibleRect.size.width, s_visibleRect.origin.y+s_visibleRect.size.height);
+}
+
+Point VisibleRect::leftBottom()
+{
+    lazyInit();
+    return s_visibleRect.origin;
+}
+
+Point VisibleRect::rightBottom()
+{
+    lazyInit();
+    return Point(s_visibleRect.origin.x+s_visibleRect.size.width, s_visibleRect.origin.y);
+}
+
+class ConnectWaitLayer: public Layer
+{
 public:
 
     ConnectWaitLayer()
@@ -304,12 +387,9 @@ public:
         auto labelwait = LabelTTF::create(strShowMsg.c_str(), "Arial", 22);
         addChild(labelwait, 10000);
         labelwait->setPosition( Point(VisibleRect::center().x, VisibleRect::center().y) );
-
-        pLabelUploadFile  = LabelTTF::create("", "Arial", 22);
-        addChild(pLabelUploadFile, 10000);
-        pLabelUploadFile->setPosition( Point(VisibleRect::center().x, VisibleRect::top().y - 60) );
-
-        auto labelPlay = LabelTTF::create("play", "Arial", 36);
+        
+        
+        auto labelPlay = LabelTTF::create("play", "Arial", 20);
         auto menuItem = MenuItemLabel::create(labelPlay, CC_CALLBACK_1(ConnectWaitLayer::playerCallback, this));
         auto menu = Menu::create(menuItem, NULL);
         
@@ -323,15 +403,8 @@ public:
         startScript();
     }
 
-    void showCurRcvFile(string fileName) {
-        pLabelUploadFile->setString(fileName);
-    }
 };
 
-void showCurRcvFile(string fileName) {
-    if (NULL == s_pConnectLayer) return;
-    s_pConnectLayer->showCurRcvFile(fileName);
-}
 
 #if defined(_MSC_VER) || defined(__MINGW32__)
 #include <io.h>
@@ -563,7 +636,6 @@ bool FileServer::receiveFile(int fd)
         string file(fullfilename);
         file=replaceAll(file,"\\","/");
         sprintf(fullfilename, "%s", file.c_str());
-        showCurRcvFile(filename.c_str());
         cocos2d::log("recv fullfilename = %s",fullfilename);
         CreateDir(file.substr(0,file.find_last_of("/")).c_str());
         FILE *fp =fopen(fullfilename, "wb");
@@ -817,14 +889,6 @@ public:
                     dReplyParse.AddMember("body",bodyvalue,dReplyParse.GetAllocator());
                     dReplyParse.AddMember("code",0,dReplyParse.GetAllocator());
                    
-                }else if (strcmp(strcmd.c_str(),"getEntryfile")==0)
-                {
-                    rapidjson::Value bodyvalue(rapidjson::kObjectType);
-                    rapidjson::Value entryFileValue(rapidjson::kStringType);
-                    entryFileValue.SetString(ConfigParser::getInstance()->getEntryFile().c_str(),dReplyParse.GetAllocator());
-                    bodyvalue.AddMember("entryfile",entryFileValue,dReplyParse.GetAllocator());
-                    dReplyParse.AddMember("body",bodyvalue,dReplyParse.GetAllocator());
-                    dReplyParse.AddMember("code",0,dReplyParse.GetAllocator());
                 }else if(strcmp(strcmd.c_str(),"getIP")==0)
                 {
                     rapidjson::Value bodyvalue(rapidjson::kObjectType);
@@ -908,7 +972,7 @@ private:
     FileServer* _fileserver;
 };
 
-bool initRuntime()
+bool startRuntime()
 {
 #if (CC_TARGET_PLATFORM == CC_PLATFORM_WIN32)
 #ifndef _DEBUG
@@ -939,39 +1003,15 @@ bool initRuntime()
         resourcePath =replaceAll(resourcePath,"\\","/");
         g_resourcePath = resourcePath;
     }
-    
+
 #else
     g_resourcePath = FileUtils::getInstance()->getWritablePath();
-    g_resourcePath += "debugruntime/";
+    
 #endif
     
     g_resourcePath=replaceAll(g_resourcePath,"\\","/");
-    if (g_resourcePath.at(g_resourcePath.length()-1) != '/')
-    {
-        g_resourcePath.append("/");
-    }
-    
     searchPathArray.insert(searchPathArray.begin(),g_resourcePath);
     FileUtils::getInstance()->setSearchPaths(searchPathArray);
-
-    return true;
-}
-bool startRuntime()
-{
-#if (CC_TARGET_PLATFORM == CC_PLATFORM_WIN32)
-#ifndef _DEBUG
-    return false;
-#endif
-#elif(CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)
-#ifdef NDEBUG
-    return false;
-#endif
-#elif(CC_TARGET_PLATFORM == CC_PLATFORM_MAC || CC_TARGET_PLATFORM == CC_PLATFORM_IOS)
-#ifndef COCOS2D_DEBUG
-    return false;
-#endif
-#endif
-
     static ConsoleCustomCommand s_customCommand;
     ScriptingCore::getInstance()->start();
     ScriptingCore::getInstance()->enableDebugger();
@@ -980,10 +1020,48 @@ bool startRuntime()
 
     readResFileFinfo();
     auto scene = Scene::create();
-    s_pConnectLayer = new ConnectWaitLayer();
-    s_pConnectLayer->autorelease();
+    auto layer = new ConnectWaitLayer();
+    layer->autorelease();
     auto director = Director::getInstance();
-    scene->addChild(s_pConnectLayer);
+    scene->addChild(layer);
     director->runWithScene(scene);
     return true;
 }
+
+
+// SimulatorConfig
+SimulatorConfig *SimulatorConfig::s_sharedInstance = NULL;
+SimulatorConfig *SimulatorConfig::getInstance(void)
+{
+    if (!s_sharedInstance)
+    {
+        s_sharedInstance = new SimulatorConfig();
+    }
+    return s_sharedInstance;
+}
+
+SimulatorConfig::SimulatorConfig(void)
+{
+    m_screenSizeArray.push_back(SimulatorScreenSize("iPhone 3Gs (480x320)", 480, 320));
+    m_screenSizeArray.push_back(SimulatorScreenSize("iPhone 4 (960x640)", 960, 640));
+    m_screenSizeArray.push_back(SimulatorScreenSize("iPhone 5 (1136x640)", 1136, 640));
+    m_screenSizeArray.push_back(SimulatorScreenSize("iPad (1024x768)", 1024, 768));
+    m_screenSizeArray.push_back(SimulatorScreenSize("iPad Retina (2048x1536)", 2048, 1536));
+    m_screenSizeArray.push_back(SimulatorScreenSize("Android (800x480)", 800, 480));
+    m_screenSizeArray.push_back(SimulatorScreenSize("Android (854x480)", 854, 480));
+    m_screenSizeArray.push_back(SimulatorScreenSize("Android (960x540)", 960, 540));
+    m_screenSizeArray.push_back(SimulatorScreenSize("Android (1024x600)", 1024, 600));
+    m_screenSizeArray.push_back(SimulatorScreenSize("Android (1280x720)", 1280, 720));
+    m_screenSizeArray.push_back(SimulatorScreenSize("Android (1280x800)", 1280, 800));
+    m_screenSizeArray.push_back(SimulatorScreenSize("Android (1920x1080)", 1920, 1080));
+}
+
+int SimulatorConfig::getScreenSizeCount(void)
+{
+    return (int)m_screenSizeArray.size();
+}
+
+const SimulatorScreenSize SimulatorConfig::getScreenSize(int index)
+{
+    return m_screenSizeArray.at(index);
+}
\ No newline at end of file
diff --git a/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.h b/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.h
index 60d3702..9a50781 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.h
+++ b/templates/js-template-runtime/frameworks/runtime-src/Classes/Runtime.h
@@ -31,11 +31,39 @@ using namespace std;
 
 #define _MAX_PATH_ 512
 
-bool initRuntime();
-
 bool startRuntime();
 
 bool reloadScript(const string& modulefile,bool reloadAll = false);
 
+// SimulatorConfig
+typedef struct _SimulatorScreenSize {
+	string title;
+	int width;
+	int height;
+
+	_SimulatorScreenSize(const string title_, int width_, int height_)
+	{
+		title  = title_;
+		width  = width_;
+		height = height_;
+	}
+} SimulatorScreenSize;
+
+typedef vector<SimulatorScreenSize> ScreenSizeArray;
+class SimulatorConfig
+{
+public:
+	static SimulatorConfig *getInstance(void);
+
+	// predefined screen size
+	int getScreenSizeCount(void);
+	const SimulatorScreenSize getScreenSize(int index);
+
+private:
+	SimulatorConfig(void);
+	static SimulatorConfig *s_sharedInstance;
+	ScreenSizeArray m_screenSizeArray;
+};
+
 #endif // _RUNTIME__H_
 
diff --git a/templates/js-template-runtime/frameworks/runtime-src/Classes/VisibleRect.cpp b/templates/js-template-runtime/frameworks/runtime-src/Classes/VisibleRect.cpp
deleted file mode 100644
index 6010c55..0000000
--- a/templates/js-template-runtime/frameworks/runtime-src/Classes/VisibleRect.cpp
+++ /dev/null
@@ -1,96 +0,0 @@
-/****************************************************************************
- Copyright (c) 2013-2014 Chukong Technologies Inc.
-
- http://www.cocos2d-x.org
-
- Permission is hereby granted, free of charge, to any person obtaining a copy
- of this software and associated documentation files (the "Software"), to deal
- in the Software without restriction, including without limitation the rights
- to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
- copies of the Software, and to permit persons to whom the Software is
- furnished to do so, subject to the following conditions:
-
- The above copyright notice and this permission notice shall be included in
- all copies or substantial portions of the Software.
-
- THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
- AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
- LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
- OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
- THE SOFTWARE.
- ****************************************************************************/
-
-#include "VisibleRect.h"
-
-USING_NS_CC;
-
-Rect VisibleRect::s_visibleRect;
-
-void VisibleRect::lazyInit()
-{
-    // no lazy init
-    // Useful if we change the resolution in runtime
-    s_visibleRect = Director::getInstance()->getOpenGLView()->getVisibleRect();
-}
-
-Rect VisibleRect::getVisibleRect()
-{
-    lazyInit();
-    return s_visibleRect;
-}
-
-Vector2 VisibleRect::left()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x, s_visibleRect.origin.y+s_visibleRect.size.height/2);
-}
-
-Vector2 VisibleRect::right()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x+s_visibleRect.size.width, s_visibleRect.origin.y+s_visibleRect.size.height/2);
-}
-
-Vector2 VisibleRect::top()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x+s_visibleRect.size.width/2, s_visibleRect.origin.y+s_visibleRect.size.height);
-}
-
-Vector2 VisibleRect::bottom()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x+s_visibleRect.size.width/2, s_visibleRect.origin.y);
-}
-
-Vector2 VisibleRect::center()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x+s_visibleRect.size.width/2, s_visibleRect.origin.y+s_visibleRect.size.height/2);
-}
-
-Vector2 VisibleRect::leftTop()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x, s_visibleRect.origin.y+s_visibleRect.size.height);
-}
-
-Vector2 VisibleRect::rightTop()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x+s_visibleRect.size.width, s_visibleRect.origin.y+s_visibleRect.size.height);
-}
-
-Vector2 VisibleRect::leftBottom()
-{
-    lazyInit();
-    return s_visibleRect.origin;
-}
-
-Vector2 VisibleRect::rightBottom()
-{
-    lazyInit();
-    return Vector2(s_visibleRect.origin.x+s_visibleRect.size.width, s_visibleRect.origin.y);
-}
diff --git a/templates/js-template-runtime/frameworks/runtime-src/Classes/VisibleRect.h b/templates/js-template-runtime/frameworks/runtime-src/Classes/VisibleRect.h
deleted file mode 100644
index 1eeef0d..0000000
--- a/templates/js-template-runtime/frameworks/runtime-src/Classes/VisibleRect.h
+++ /dev/null
@@ -1,25 +0,0 @@
-#ifndef __VISIBLERECT_H__
-#define __VISIBLERECT_H__
-
-#include "cocos2d.h"
-
-class VisibleRect
-{
-public:
-    static cocos2d::Rect getVisibleRect();
-
-    static cocos2d::Vector2 left();
-    static cocos2d::Vector2 right();
-    static cocos2d::Vector2 top();
-    static cocos2d::Vector2 bottom();
-    static cocos2d::Vector2 center();
-    static cocos2d::Vector2 leftTop();
-    static cocos2d::Vector2 rightTop();
-    static cocos2d::Vector2 leftBottom();
-    static cocos2d::Vector2 rightBottom();
-private:
-    static void lazyInit();
-    static cocos2d::Rect s_visibleRect;
-};
-
-#endif /* __VISIBLERECT_H__ */
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.android/build-cfg.json b/templates/js-template-runtime/frameworks/runtime-src/proj.android/build-cfg.json
index bdcff61..65d2ae3 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.android/build-cfg.json
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.android/build-cfg.json
@@ -8,17 +8,11 @@
     "copy_resources": [
         {
             "from": "../../../src",
-            "to": "src",
-             "exclude": [
-                "*.gz"
-            ]
+            "to": "src"
         },
         {
             "from": "../../../res",
-            "to": "res",
-            "exclude": [
-                "*.gz"
-            ]
+            "to": "res"
         },
         {
             "from": "../../../main.js",
@@ -31,10 +25,6 @@
             "to": ""
         },
         {
-            "from": "../../../config.json",
-            "to": ""
-        },
-        {
             "from": "../../../project.json",
             "to": ""
         } 
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/Android.mk b/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/Android.mk
index 31ec38b..3f61f50 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/Android.mk
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/Android.mk
@@ -8,9 +8,7 @@ LOCAL_MODULE_FILENAME := libcocos2djs
 
 LOCAL_SRC_FILES := javascript/main.cpp \
                    javascript/Runtime_android.cpp \
-                   ../../Classes/VisibleRect.cpp \
                    ../../Classes/AppDelegate.cpp \
-                   ../../Classes/ConfigParser.cpp \
                    ../../Classes/Runtime.cpp
 
 LOCAL_C_INCLUDES := $(LOCAL_PATH)/../../Classes
@@ -23,7 +21,6 @@ LOCAL_WHOLE_STATIC_LIBRARIES += jsb_ui_static
 LOCAL_WHOLE_STATIC_LIBRARIES += jsb_studio_static
 LOCAL_WHOLE_STATIC_LIBRARIES += jsb_network_static
 LOCAL_WHOLE_STATIC_LIBRARIES += jsb_builder_static
-LOCAL_WHOLE_STATIC_LIBRARIES += jsb_spine_static
 
 LOCAL_EXPORT_CFLAGS := -DCOCOS2D_DEBUG=2 -DCOCOS2D_JAVASCRIPT
 
@@ -38,4 +35,3 @@ $(call import-module,bindings/manual/network)
 $(call import-module,bindings/manual/cocosbuilder)
 $(call import-module,bindings/manual/ui)
 $(call import-module,bindings/manual/cocostudio)
-$(call import-module,bindings/manual/spine)
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/Runtime_android.cpp b/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/Runtime_android.cpp
index 3b9ec52..d76b102 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/Runtime_android.cpp
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/Runtime_android.cpp
@@ -6,6 +6,24 @@
 using namespace std;
 using namespace cocos2d;
 
+string getSDCardPath();
+string getProjSearchPath()
+{
+	extern std::string getPackageNameJNI();
+	string searchPath = getSDCardPath();
+	searchPath += "/";
+	searchPath += getPackageNameJNI();
+	return searchPath;
+}
+
+vector<string> getSearchPath()
+{
+	extern std::string getPackageNameJNI();
+	vector<string> searchPathArray;
+	searchPathArray.push_back(getProjSearchPath());
+	return searchPathArray;
+}
+
 string getSDCardPath()
 {
 	JniMethodInfo t;
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/main.cpp b/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/main.cpp
index c90b4bb..26fe88c 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/main.cpp
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.android/jni/javascript/main.cpp
@@ -3,7 +3,6 @@
 #include "2d/platform/android/jni/JniHelper.h"
 #include <jni.h>
 #include <android/log.h>
-#include "ConfigParser.h"
 
 #define  LOG_TAG    "main"
 #define  LOGD(...)  __android_log_print(ANDROID_LOG_DEBUG,LOG_TAG,__VA_ARGS__)
@@ -14,25 +13,3 @@ void cocos_android_app_init (JNIEnv* env, jobject thiz) {
     LOGD("cocos_android_app_init");
     AppDelegate *pAppDelegate = new AppDelegate();
 }
-
-
-extern "C"
-{
-    bool Java_org_cocos2dx_javascript_AppActivity_nativeIsLandScape(JNIEnv *env, jobject thisz)
-    {
-        if (!ConfigParser::getInstance()->isInit())
-        {
-            ConfigParser::getInstance()->readConfig();
-        }
-        return ConfigParser::getInstance()->isLanscape();
-    }
-
-    bool Java_org_cocos2dx_javascript_AppActivity_nativeIsDebug(JNIEnv *env, jobject thisz)
-    {
-        #ifdef NDEBUG 
-            return false;
-        #else
-            return true;    
-        #endif
-    }
-}
\ No newline at end of file
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.android/project.properties b/templates/js-template-runtime/frameworks/runtime-src/proj.android/project.properties
index 8ee3a86..e379fa0 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.android/project.properties
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.android/project.properties
@@ -10,4 +10,4 @@
 # Project target.
 target=android-10
 
-android.library.reference.1=../../js-bindings/cocos2d-x/cocos/platform/android/java
+android.library.reference.1=../../js-bindings/cocos2d-x/cocos/2d/platform/android/java
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.android/src/org/cocos2dx/javascript/AppActivity.java b/templates/js-template-runtime/frameworks/runtime-src/proj.android/src/org/cocos2dx/javascript/AppActivity.java
index e436741..0bb6bff 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.android/src/org/cocos2dx/javascript/AppActivity.java
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.android/src/org/cocos2dx/javascript/AppActivity.java
@@ -38,7 +38,6 @@ import android.content.Context;
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.content.pm.ApplicationInfo;
-import android.content.pm.ActivityInfo;
 import android.net.ConnectivityManager;
 import android.net.NetworkInfo;
 import android.net.wifi.WifiInfo;
@@ -61,16 +60,10 @@ public class AppActivity extends Cocos2dxActivity{
 		// TODO Auto-generated method stub
 		super.onCreate(savedInstanceState);
 		
-		if(nativeIsLandScape()) {
-			setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_LANDSCAPE);
-		} else {
-			setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR_PORTRAIT);
-		}
-		
 		//2.Set the format of window
 		
-		// Check the wifi is opened when the native is debug.
-		if(nativeIsDebug())
+		// Check the wifi is opened when the android:debuggable is "true".
+		if(0!=((this.getApplicationInfo().flags) & ApplicationInfo.FLAG_DEBUGGABLE))
 		{
 			if(!isWifiConnected())
 			{
@@ -122,7 +115,4 @@ public class AppActivity extends Cocos2dxActivity{
 		return null;
 	}
 	
-	private static native boolean nativeIsLandScape();
-	private static native boolean nativeIsDebug();
-	
 }
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/HelloJavascript.xcodeproj/project.pbxproj b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/HelloJavascript.xcodeproj/project.pbxproj
index 45c0c56..79c1ade 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/HelloJavascript.xcodeproj/project.pbxproj
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/HelloJavascript.xcodeproj/project.pbxproj
@@ -17,6 +17,12 @@
 		1A67683B180E9C1E0076BC67 /* libCocosDenshion iOS.a in Frameworks */ = {isa = PBXBuildFile; fileRef = 1AC6FB5E180E9ACB004C840B /* libCocosDenshion iOS.a */; };
 		1A82F5FB169AC92500C4B13A /* libsqlite3.dylib in Frameworks */ = {isa = PBXBuildFile; fileRef = 1A82F5FA169AC92500C4B13A /* libsqlite3.dylib */; };
 		1AC22EDE18CA0E11007112B9 /* project.json in Resources */ = {isa = PBXBuildFile; fileRef = 1A1A081B18C9DF05005C6854 /* project.json */; };
+		1AC34A1618C99CCC007834C9 /* jsb_boot.js in Resources */ = {isa = PBXBuildFile; fileRef = 1AC34A0D18C99CA5007834C9 /* jsb_boot.js */; };
+		1AC34A1718C99CCC007834C9 /* jsb_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = 1AC34A0E18C99CA5007834C9 /* jsb_create_apis.js */; };
+		1AC34A1818C99CCC007834C9 /* jsb_loaders.js in Resources */ = {isa = PBXBuildFile; fileRef = 1AC34A0F18C99CA5007834C9 /* jsb_loaders.js */; };
+		1AD7E0A118C9DB84004817A6 /* jsb_boot.js in Resources */ = {isa = PBXBuildFile; fileRef = 1AC34A0D18C99CA5007834C9 /* jsb_boot.js */; };
+		1AD7E0A218C9DB84004817A6 /* jsb_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = 1AC34A0E18C99CA5007834C9 /* jsb_create_apis.js */; };
+		1AD7E0A318C9DB84004817A6 /* jsb_loaders.js in Resources */ = {isa = PBXBuildFile; fileRef = 1AC34A0F18C99CA5007834C9 /* jsb_loaders.js */; };
 		1AD7E0A818C9DB93004817A6 /* main.js in Resources */ = {isa = PBXBuildFile; fileRef = 1A6BF21418C9DB5900FB0E1C /* main.js */; };
 		1AD7E0A918C9DBE3004817A6 /* main.js in Resources */ = {isa = PBXBuildFile; fileRef = 1A6BF21418C9DB5900FB0E1C /* main.js */; };
 		1AE159EC18C9DF3600FCA372 /* project.json in Resources */ = {isa = PBXBuildFile; fileRef = 1A1A081B18C9DF05005C6854 /* project.json */; };
@@ -65,99 +71,47 @@
 		C026DCC718928A1A00B3EDE8 /* Runtime.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C026DCC518928A1A00B3EDE8 /* Runtime.cpp */; };
 		C026DCC918928A2400B3EDE8 /* Runtime_ios-mac.mm in Sources */ = {isa = PBXBuildFile; fileRef = C026DCC818928A2400B3EDE8 /* Runtime_ios-mac.mm */; };
 		C026DCCA18928A2400B3EDE8 /* Runtime_ios-mac.mm in Sources */ = {isa = PBXBuildFile; fileRef = C026DCC818928A2400B3EDE8 /* Runtime_ios-mac.mm */; };
-		C033B524191B36AE00D06937 /* VisibleRect.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C033B522191B36AE00D06937 /* VisibleRect.cpp */; };
-		C033B525191B36AE00D06937 /* VisibleRect.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C033B522191B36AE00D06937 /* VisibleRect.cpp */; };
 		C03780EB18BEE0E400FE4F13 /* src in Resources */ = {isa = PBXBuildFile; fileRef = C03780EA18BEE0E400FE4F13 /* src */; };
 		C03780EC18BEE0E400FE4F13 /* src in Resources */ = {isa = PBXBuildFile; fileRef = C03780EA18BEE0E400FE4F13 /* src */; };
 		C037820C18BF77C500FE4F13 /* libjsbindings iOS.a in Frameworks */ = {isa = PBXBuildFile; fileRef = C037820918BF76AF00FE4F13 /* libjsbindings iOS.a */; };
 		C037820F18BF77DE00FE4F13 /* libjsbindings Mac.a in Frameworks */ = {isa = PBXBuildFile; fileRef = C037820718BF76AF00FE4F13 /* libjsbindings Mac.a */; };
 		C03C8B4B18A770DD00723415 /* main.m in Sources */ = {isa = PBXBuildFile; fileRef = C03C8B4818A770DD00723415 /* main.m */; };
 		C03C8B4C18A770DD00723415 /* MainMenu.xib in Resources */ = {isa = PBXBuildFile; fileRef = C03C8B4918A770DD00723415 /* MainMenu.xib */; };
-		C05D1C171923467600B808A4 /* config.json in Resources */ = {isa = PBXBuildFile; fileRef = C05D1C161923467600B808A4 /* config.json */; };
-		C05D1C181923467600B808A4 /* config.json in Resources */ = {isa = PBXBuildFile; fileRef = C05D1C161923467600B808A4 /* config.json */; };
-		C06C37881918E81100617BED /* ConfigParser.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C06C37861918E81100617BED /* ConfigParser.cpp */; };
-		C06C37891918E81100617BED /* ConfigParser.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C06C37861918E81100617BED /* ConfigParser.cpp */; };
 		C0799CB918BAE62000E9C828 /* res in Resources */ = {isa = PBXBuildFile; fileRef = C0799CB518BAE62000E9C828 /* res */; };
 		C0799CBA18BAE62000E9C828 /* res in Resources */ = {isa = PBXBuildFile; fileRef = C0799CB518BAE62000E9C828 /* res */; };
 		C0C2F37418AA0C66003976DA /* SimulatorApp.mm in Sources */ = {isa = PBXBuildFile; fileRef = C0C2F37318AA0C66003976DA /* SimulatorApp.mm */; };
-		C0E05756192B5EDB00D818D0 /* jsb_boot.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05743192B5EDB00D818D0 /* jsb_boot.js */; };
-		C0E05757192B5EDB00D818D0 /* jsb_boot.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05743192B5EDB00D818D0 /* jsb_boot.js */; };
-		C0E05758192B5EDB00D818D0 /* jsb_chipmunk_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05744192B5EDB00D818D0 /* jsb_chipmunk_constants.js */; };
-		C0E05759192B5EDB00D818D0 /* jsb_chipmunk_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05744192B5EDB00D818D0 /* jsb_chipmunk_constants.js */; };
-		C0E0575A192B5EDB00D818D0 /* jsb_chipmunk.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05745192B5EDB00D818D0 /* jsb_chipmunk.js */; };
-		C0E0575B192B5EDB00D818D0 /* jsb_chipmunk.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05745192B5EDB00D818D0 /* jsb_chipmunk.js */; };
-		C0E0575C192B5EDB00D818D0 /* jsb_cocos2d_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05746192B5EDB00D818D0 /* jsb_cocos2d_constants.js */; };
-		C0E0575D192B5EDB00D818D0 /* jsb_cocos2d_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05746192B5EDB00D818D0 /* jsb_cocos2d_constants.js */; };
-		C0E0575E192B5EDB00D818D0 /* jsb_cocos2d_extension.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05747192B5EDB00D818D0 /* jsb_cocos2d_extension.js */; };
-		C0E0575F192B5EDB00D818D0 /* jsb_cocos2d_extension.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05747192B5EDB00D818D0 /* jsb_cocos2d_extension.js */; };
-		C0E05760192B5EDB00D818D0 /* jsb_cocos2d_studio.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05748192B5EDB00D818D0 /* jsb_cocos2d_studio.js */; };
-		C0E05761192B5EDB00D818D0 /* jsb_cocos2d_studio.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05748192B5EDB00D818D0 /* jsb_cocos2d_studio.js */; };
-		C0E05762192B5EDB00D818D0 /* jsb_cocos2d_ui.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05749192B5EDB00D818D0 /* jsb_cocos2d_ui.js */; };
-		C0E05763192B5EDB00D818D0 /* jsb_cocos2d_ui.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05749192B5EDB00D818D0 /* jsb_cocos2d_ui.js */; };
-		C0E05764192B5EDB00D818D0 /* jsb_cocos2d.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574A192B5EDB00D818D0 /* jsb_cocos2d.js */; };
-		C0E05765192B5EDB00D818D0 /* jsb_cocos2d.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574A192B5EDB00D818D0 /* jsb_cocos2d.js */; };
-		C0E05766192B5EDB00D818D0 /* jsb_cocosbuilder.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574B192B5EDB00D818D0 /* jsb_cocosbuilder.js */; };
-		C0E05767192B5EDB00D818D0 /* jsb_cocosbuilder.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574B192B5EDB00D818D0 /* jsb_cocosbuilder.js */; };
-		C0E05768192B5EDB00D818D0 /* jsb_create_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574C192B5EDB00D818D0 /* jsb_create_apis.js */; };
-		C0E05769192B5EDB00D818D0 /* jsb_create_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574C192B5EDB00D818D0 /* jsb_create_apis.js */; };
-		C0E0576A192B5EDB00D818D0 /* jsb_debugger.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574D192B5EDB00D818D0 /* jsb_debugger.js */; };
-		C0E0576B192B5EDB00D818D0 /* jsb_debugger.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574D192B5EDB00D818D0 /* jsb_debugger.js */; };
-		C0E0576C192B5EDB00D818D0 /* jsb_deprecated.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574E192B5EDB00D818D0 /* jsb_deprecated.js */; };
-		C0E0576D192B5EDB00D818D0 /* jsb_deprecated.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574E192B5EDB00D818D0 /* jsb_deprecated.js */; };
-		C0E0576E192B5EDB00D818D0 /* jsb_ext_create_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574F192B5EDB00D818D0 /* jsb_ext_create_apis.js */; };
-		C0E0576F192B5EDB00D818D0 /* jsb_ext_create_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E0574F192B5EDB00D818D0 /* jsb_ext_create_apis.js */; };
-		C0E05770192B5EDB00D818D0 /* jsb_loaders.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05750192B5EDB00D818D0 /* jsb_loaders.js */; };
-		C0E05771192B5EDB00D818D0 /* jsb_loaders.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05750192B5EDB00D818D0 /* jsb_loaders.js */; };
-		C0E05772192B5EDB00D818D0 /* jsb_opengl_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05751192B5EDB00D818D0 /* jsb_opengl_constants.js */; };
-		C0E05773192B5EDB00D818D0 /* jsb_opengl_constants.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05751192B5EDB00D818D0 /* jsb_opengl_constants.js */; };
-		C0E05774192B5EDB00D818D0 /* jsb_opengl.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05752192B5EDB00D818D0 /* jsb_opengl.js */; };
-		C0E05775192B5EDB00D818D0 /* jsb_opengl.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05752192B5EDB00D818D0 /* jsb_opengl.js */; };
-		C0E05776192B5EDB00D818D0 /* jsb_property_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05753192B5EDB00D818D0 /* jsb_property_apis.js */; };
-		C0E05777192B5EDB00D818D0 /* jsb_property_apis.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05753192B5EDB00D818D0 /* jsb_property_apis.js */; };
-		C0E05778192B5EDB00D818D0 /* jsb_property_impls.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05754192B5EDB00D818D0 /* jsb_property_impls.js */; };
-		C0E05779192B5EDB00D818D0 /* jsb_property_impls.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05754192B5EDB00D818D0 /* jsb_property_impls.js */; };
-		C0E0577A192B5EDB00D818D0 /* jsb.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05755192B5EDB00D818D0 /* jsb.js */; };
-		C0E0577B192B5EDB00D818D0 /* jsb.js in Sources */ = {isa = PBXBuildFile; fileRef = C0E05755192B5EDB00D818D0 /* jsb.js */; };
-		C0E0577C192B5EF200D818D0 /* jsb_boot.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05743192B5EDB00D818D0 /* jsb_boot.js */; };
-		C0E0577D192B5EF200D818D0 /* jsb_chipmunk_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05744192B5EDB00D818D0 /* jsb_chipmunk_constants.js */; };
-		C0E0577E192B5EF200D818D0 /* jsb_chipmunk.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05745192B5EDB00D818D0 /* jsb_chipmunk.js */; };
-		C0E0577F192B5EF200D818D0 /* jsb_cocos2d_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05746192B5EDB00D818D0 /* jsb_cocos2d_constants.js */; };
-		C0E05780192B5EF200D818D0 /* jsb_cocos2d_extension.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05747192B5EDB00D818D0 /* jsb_cocos2d_extension.js */; };
-		C0E05781192B5EF200D818D0 /* jsb_cocos2d_studio.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05748192B5EDB00D818D0 /* jsb_cocos2d_studio.js */; };
-		C0E05782192B5EF200D818D0 /* jsb_cocos2d_ui.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05749192B5EDB00D818D0 /* jsb_cocos2d_ui.js */; };
-		C0E05783192B5EF200D818D0 /* jsb_cocos2d.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574A192B5EDB00D818D0 /* jsb_cocos2d.js */; };
-		C0E05784192B5EF200D818D0 /* jsb_cocosbuilder.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574B192B5EDB00D818D0 /* jsb_cocosbuilder.js */; };
-		C0E05785192B5EF200D818D0 /* jsb_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574C192B5EDB00D818D0 /* jsb_create_apis.js */; };
-		C0E05786192B5EF200D818D0 /* jsb_debugger.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574D192B5EDB00D818D0 /* jsb_debugger.js */; };
-		C0E05787192B5EF200D818D0 /* jsb_deprecated.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574E192B5EDB00D818D0 /* jsb_deprecated.js */; };
-		C0E05788192B5EF200D818D0 /* jsb_ext_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574F192B5EDB00D818D0 /* jsb_ext_create_apis.js */; };
-		C0E05789192B5EF200D818D0 /* jsb_loaders.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05750192B5EDB00D818D0 /* jsb_loaders.js */; };
-		C0E0578A192B5EF200D818D0 /* jsb_opengl_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05751192B5EDB00D818D0 /* jsb_opengl_constants.js */; };
-		C0E0578B192B5EF200D818D0 /* jsb_opengl.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05752192B5EDB00D818D0 /* jsb_opengl.js */; };
-		C0E0578C192B5EF200D818D0 /* jsb_property_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05753192B5EDB00D818D0 /* jsb_property_apis.js */; };
-		C0E0578D192B5EF200D818D0 /* jsb_property_impls.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05754192B5EDB00D818D0 /* jsb_property_impls.js */; };
-		C0E0578E192B5EF200D818D0 /* jsb.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05755192B5EDB00D818D0 /* jsb.js */; };
-		C0E0578F192B5EFC00D818D0 /* jsb_boot.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05743192B5EDB00D818D0 /* jsb_boot.js */; };
-		C0E05790192B5EFC00D818D0 /* jsb_chipmunk_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05744192B5EDB00D818D0 /* jsb_chipmunk_constants.js */; };
-		C0E05791192B5EFC00D818D0 /* jsb_chipmunk.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05745192B5EDB00D818D0 /* jsb_chipmunk.js */; };
-		C0E05792192B5EFC00D818D0 /* jsb_cocos2d_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05746192B5EDB00D818D0 /* jsb_cocos2d_constants.js */; };
-		C0E05793192B5EFC00D818D0 /* jsb_cocos2d_extension.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05747192B5EDB00D818D0 /* jsb_cocos2d_extension.js */; };
-		C0E05794192B5EFC00D818D0 /* jsb_cocos2d_studio.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05748192B5EDB00D818D0 /* jsb_cocos2d_studio.js */; };
-		C0E05795192B5EFC00D818D0 /* jsb_cocos2d_ui.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05749192B5EDB00D818D0 /* jsb_cocos2d_ui.js */; };
-		C0E05796192B5EFC00D818D0 /* jsb_cocos2d.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574A192B5EDB00D818D0 /* jsb_cocos2d.js */; };
-		C0E05797192B5EFC00D818D0 /* jsb_cocosbuilder.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574B192B5EDB00D818D0 /* jsb_cocosbuilder.js */; };
-		C0E05798192B5EFC00D818D0 /* jsb_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574C192B5EDB00D818D0 /* jsb_create_apis.js */; };
-		C0E05799192B5EFC00D818D0 /* jsb_debugger.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574D192B5EDB00D818D0 /* jsb_debugger.js */; };
-		C0E0579A192B5EFC00D818D0 /* jsb_deprecated.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574E192B5EDB00D818D0 /* jsb_deprecated.js */; };
-		C0E0579B192B5EFC00D818D0 /* jsb_ext_create_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E0574F192B5EDB00D818D0 /* jsb_ext_create_apis.js */; };
-		C0E0579C192B5EFC00D818D0 /* jsb_loaders.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05750192B5EDB00D818D0 /* jsb_loaders.js */; };
-		C0E0579D192B5EFC00D818D0 /* jsb_opengl_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05751192B5EDB00D818D0 /* jsb_opengl_constants.js */; };
-		C0E0579E192B5EFC00D818D0 /* jsb_opengl.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05752192B5EDB00D818D0 /* jsb_opengl.js */; };
-		C0E0579F192B5EFC00D818D0 /* jsb_property_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05753192B5EDB00D818D0 /* jsb_property_apis.js */; };
-		C0E057A0192B5EFC00D818D0 /* jsb_property_impls.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05754192B5EDB00D818D0 /* jsb_property_impls.js */; };
-		C0E057A1192B5EFC00D818D0 /* jsb.js in Resources */ = {isa = PBXBuildFile; fileRef = C0E05755192B5EDB00D818D0 /* jsb.js */; };
 		C0F9A1AD18C6D1FC00C75ABD /* debugger in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19C18C6D1FB00C75ABD /* debugger */; };
 		C0F9A1AE18C6D1FC00C75ABD /* debugger in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19C18C6D1FB00C75ABD /* debugger */; };
+		C0F9A1AF18C6D1FC00C75ABD /* jsb_chipmunk_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19D18C6D1FB00C75ABD /* jsb_chipmunk_constants.js */; };
+		C0F9A1B018C6D1FC00C75ABD /* jsb_chipmunk_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19D18C6D1FB00C75ABD /* jsb_chipmunk_constants.js */; };
+		C0F9A1B118C6D1FC00C75ABD /* jsb_chipmunk.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19E18C6D1FB00C75ABD /* jsb_chipmunk.js */; };
+		C0F9A1B218C6D1FC00C75ABD /* jsb_chipmunk.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19E18C6D1FB00C75ABD /* jsb_chipmunk.js */; };
+		C0F9A1B318C6D1FC00C75ABD /* jsb_cocos2d_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19F18C6D1FC00C75ABD /* jsb_cocos2d_constants.js */; };
+		C0F9A1B418C6D1FC00C75ABD /* jsb_cocos2d_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A19F18C6D1FC00C75ABD /* jsb_cocos2d_constants.js */; };
+		C0F9A1B518C6D1FC00C75ABD /* jsb_cocos2d_extension.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A018C6D1FC00C75ABD /* jsb_cocos2d_extension.js */; };
+		C0F9A1B618C6D1FC00C75ABD /* jsb_cocos2d_extension.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A018C6D1FC00C75ABD /* jsb_cocos2d_extension.js */; };
+		C0F9A1B718C6D1FC00C75ABD /* jsb_cocos2d_ui.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A118C6D1FC00C75ABD /* jsb_cocos2d_ui.js */; };
+		C0F9A1B818C6D1FC00C75ABD /* jsb_cocos2d_ui.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A118C6D1FC00C75ABD /* jsb_cocos2d_ui.js */; };
+		C0F9A1B918C6D1FC00C75ABD /* jsb_cocos2d_studio.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A218C6D1FC00C75ABD /* jsb_cocos2d_studio.js */; };
+		C0F9A1BA18C6D1FC00C75ABD /* jsb_cocos2d_studio.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A218C6D1FC00C75ABD /* jsb_cocos2d_studio.js */; };
+		C0F9A1BB18C6D1FC00C75ABD /* jsb_cocos2d.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A318C6D1FC00C75ABD /* jsb_cocos2d.js */; };
+		C0F9A1BC18C6D1FC00C75ABD /* jsb_cocos2d.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A318C6D1FC00C75ABD /* jsb_cocos2d.js */; };
+		C0F9A1BD18C6D1FC00C75ABD /* jsb_cocosbuilder.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A418C6D1FC00C75ABD /* jsb_cocosbuilder.js */; };
+		C0F9A1BE18C6D1FC00C75ABD /* jsb_cocosbuilder.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A418C6D1FC00C75ABD /* jsb_cocosbuilder.js */; };
+		C0F9A1BF18C6D1FC00C75ABD /* jsb_debugger.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A518C6D1FC00C75ABD /* jsb_debugger.js */; };
+		C0F9A1C018C6D1FC00C75ABD /* jsb_debugger.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A518C6D1FC00C75ABD /* jsb_debugger.js */; };
+		C0F9A1C118C6D1FC00C75ABD /* jsb_deprecated.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A618C6D1FC00C75ABD /* jsb_deprecated.js */; };
+		C0F9A1C218C6D1FC00C75ABD /* jsb_deprecated.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A618C6D1FC00C75ABD /* jsb_deprecated.js */; };
+		C0F9A1C318C6D1FC00C75ABD /* jsb_opengl_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A718C6D1FC00C75ABD /* jsb_opengl_constants.js */; };
+		C0F9A1C418C6D1FC00C75ABD /* jsb_opengl_constants.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A718C6D1FC00C75ABD /* jsb_opengl_constants.js */; };
+		C0F9A1C518C6D1FC00C75ABD /* jsb_opengl.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A818C6D1FC00C75ABD /* jsb_opengl.js */; };
+		C0F9A1C618C6D1FC00C75ABD /* jsb_opengl.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A818C6D1FC00C75ABD /* jsb_opengl.js */; };
+		C0F9A1C718C6D1FC00C75ABD /* jsb_property_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A918C6D1FC00C75ABD /* jsb_property_apis.js */; };
+		C0F9A1C818C6D1FC00C75ABD /* jsb_property_apis.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1A918C6D1FC00C75ABD /* jsb_property_apis.js */; };
+		C0F9A1C918C6D1FC00C75ABD /* jsb_property_impls.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1AA18C6D1FC00C75ABD /* jsb_property_impls.js */; };
+		C0F9A1CA18C6D1FC00C75ABD /* jsb_property_impls.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1AA18C6D1FC00C75ABD /* jsb_property_impls.js */; };
+		C0F9A1CD18C6D1FC00C75ABD /* jsb.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1AC18C6D1FC00C75ABD /* jsb.js */; };
+		C0F9A1CE18C6D1FC00C75ABD /* jsb.js in Resources */ = {isa = PBXBuildFile; fileRef = C0F9A1AC18C6D1FC00C75ABD /* jsb.js */; };
 		D454520C156E22BD00887EB5 /* libz.dylib in Frameworks */ = {isa = PBXBuildFile; fileRef = D454520B156E22BD00887EB5 /* libz.dylib */; };
 		D4545227156E28EF00887EB5 /* AppDelegate.cpp in Sources */ = {isa = PBXBuildFile; fileRef = D4545215156E28EF00887EB5 /* AppDelegate.cpp */; };
 		D6B061241803AB9F0077942B /* CoreMotion.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = D6B061231803AB9F0077942B /* CoreMotion.framework */; };
@@ -325,6 +279,9 @@
 		1A6BF21418C9DB5900FB0E1C /* main.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = main.js; path = ../../../main.js; sourceTree = "<group>"; };
 		1A82F5FA169AC92500C4B13A /* libsqlite3.dylib */ = {isa = PBXFileReference; lastKnownFileType = "compiled.mach-o.dylib"; name = libsqlite3.dylib; path = usr/lib/libsqlite3.dylib; sourceTree = SDKROOT; };
 		1A96A4F2174A3432008653A9 /* libcurl.a */ = {isa = PBXFileReference; lastKnownFileType = archive.ar; name = libcurl.a; path = "../../js-bindings/cocos2d-x/cocos2dx/platform/third_party/ios/libraries/libcurl.a"; sourceTree = "<group>"; };
+		1AC34A0D18C99CA5007834C9 /* jsb_boot.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_boot.js; path = "../../js-bindings/bindings/script/jsb_boot.js"; sourceTree = "<group>"; };
+		1AC34A0E18C99CA5007834C9 /* jsb_create_apis.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_create_apis.js; path = "../../js-bindings/bindings/script/jsb_create_apis.js"; sourceTree = "<group>"; };
+		1AC34A0F18C99CA5007834C9 /* jsb_loaders.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_loaders.js; path = "../../js-bindings/bindings/script/jsb_loaders.js"; sourceTree = "<group>"; };
 		1AC6FB34180E9ACB004C840B /* cocos2d_libs.xcodeproj */ = {isa = PBXFileReference; lastKnownFileType = "wrapper.pb-project"; name = cocos2d_libs.xcodeproj; path = "../../js-bindings/cocos2d-x/build/cocos2d_libs.xcodeproj"; sourceTree = "<group>"; };
 		502380DB17EBB88200990C9B /* libcurl.dylib */ = {isa = PBXFileReference; lastKnownFileType = "compiled.mach-o.dylib"; name = libcurl.dylib; path = usr/lib/libcurl.dylib; sourceTree = SDKROOT; };
 		5091731417ECDF7A00D62437 /* Icon-29.png */ = {isa = PBXFileReference; lastKnownFileType = image.png; name = "Icon-29.png"; path = "ios/Icon-29.png"; sourceTree = "<group>"; };
@@ -369,38 +326,29 @@
 		C014EAEB188EA65400753BDC /* Runtime.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Runtime.h; sourceTree = "<group>"; };
 		C026DCC518928A1A00B3EDE8 /* Runtime.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Runtime.cpp; sourceTree = "<group>"; };
 		C026DCC818928A2400B3EDE8 /* Runtime_ios-mac.mm */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.objcpp; path = "Runtime_ios-mac.mm"; sourceTree = SOURCE_ROOT; };
-		C033B522191B36AE00D06937 /* VisibleRect.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = VisibleRect.cpp; sourceTree = "<group>"; };
-		C033B523191B36AE00D06937 /* VisibleRect.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = VisibleRect.h; sourceTree = "<group>"; };
 		C03780EA18BEE0E400FE4F13 /* src */ = {isa = PBXFileReference; lastKnownFileType = folder; name = src; path = ../../../src; sourceTree = "<group>"; };
 		C037820118BF76AF00FE4F13 /* cocos2d_js_bindings.xcodeproj */ = {isa = PBXFileReference; lastKnownFileType = "wrapper.pb-project"; name = cocos2d_js_bindings.xcodeproj; path = "../../js-bindings/bindings/proj.ios_mac/cocos2d_js_bindings.xcodeproj"; sourceTree = "<group>"; };
 		C03C8B4818A770DD00723415 /* main.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = main.m; sourceTree = "<group>"; };
 		C03C8B4918A770DD00723415 /* MainMenu.xib */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = file.xib; path = MainMenu.xib; sourceTree = "<group>"; };
-		C05D1C161923467600B808A4 /* config.json */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text.json; name = config.json; path = ../../../config.json; sourceTree = "<group>"; };
-		C06C37861918E81100617BED /* ConfigParser.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = ConfigParser.cpp; sourceTree = "<group>"; };
-		C06C37871918E81100617BED /* ConfigParser.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ConfigParser.h; sourceTree = "<group>"; };
 		C0799CB518BAE62000E9C828 /* res */ = {isa = PBXFileReference; lastKnownFileType = folder; name = res; path = ../../../res; sourceTree = "<group>"; };
 		C0C2F37218AA0C66003976DA /* SimulatorApp.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = SimulatorApp.h; sourceTree = "<group>"; };
 		C0C2F37318AA0C66003976DA /* SimulatorApp.mm */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.objcpp; path = SimulatorApp.mm; sourceTree = "<group>"; };
-		C0E05743192B5EDB00D818D0 /* jsb_boot.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_boot.js; path = "../../js-bindings/bindings/script/jsb_boot.js"; sourceTree = "<group>"; };
-		C0E05744192B5EDB00D818D0 /* jsb_chipmunk_constants.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_chipmunk_constants.js; path = "../../js-bindings/bindings/script/jsb_chipmunk_constants.js"; sourceTree = "<group>"; };
-		C0E05745192B5EDB00D818D0 /* jsb_chipmunk.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_chipmunk.js; path = "../../js-bindings/bindings/script/jsb_chipmunk.js"; sourceTree = "<group>"; };
-		C0E05746192B5EDB00D818D0 /* jsb_cocos2d_constants.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_constants.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_constants.js"; sourceTree = "<group>"; };
-		C0E05747192B5EDB00D818D0 /* jsb_cocos2d_extension.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_extension.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_extension.js"; sourceTree = "<group>"; };
-		C0E05748192B5EDB00D818D0 /* jsb_cocos2d_studio.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_studio.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_studio.js"; sourceTree = "<group>"; };
-		C0E05749192B5EDB00D818D0 /* jsb_cocos2d_ui.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_ui.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_ui.js"; sourceTree = "<group>"; };
-		C0E0574A192B5EDB00D818D0 /* jsb_cocos2d.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d.js; path = "../../js-bindings/bindings/script/jsb_cocos2d.js"; sourceTree = "<group>"; };
-		C0E0574B192B5EDB00D818D0 /* jsb_cocosbuilder.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocosbuilder.js; path = "../../js-bindings/bindings/script/jsb_cocosbuilder.js"; sourceTree = "<group>"; };
-		C0E0574C192B5EDB00D818D0 /* jsb_create_apis.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_create_apis.js; path = "../../js-bindings/bindings/script/jsb_create_apis.js"; sourceTree = "<group>"; };
-		C0E0574D192B5EDB00D818D0 /* jsb_debugger.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_debugger.js; path = "../../js-bindings/bindings/script/jsb_debugger.js"; sourceTree = "<group>"; };
-		C0E0574E192B5EDB00D818D0 /* jsb_deprecated.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_deprecated.js; path = "../../js-bindings/bindings/script/jsb_deprecated.js"; sourceTree = "<group>"; };
-		C0E0574F192B5EDB00D818D0 /* jsb_ext_create_apis.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_ext_create_apis.js; path = "../../js-bindings/bindings/script/jsb_ext_create_apis.js"; sourceTree = "<group>"; };
-		C0E05750192B5EDB00D818D0 /* jsb_loaders.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_loaders.js; path = "../../js-bindings/bindings/script/jsb_loaders.js"; sourceTree = "<group>"; };
-		C0E05751192B5EDB00D818D0 /* jsb_opengl_constants.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_opengl_constants.js; path = "../../js-bindings/bindings/script/jsb_opengl_constants.js"; sourceTree = "<group>"; };
-		C0E05752192B5EDB00D818D0 /* jsb_opengl.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_opengl.js; path = "../../js-bindings/bindings/script/jsb_opengl.js"; sourceTree = "<group>"; };
-		C0E05753192B5EDB00D818D0 /* jsb_property_apis.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_property_apis.js; path = "../../js-bindings/bindings/script/jsb_property_apis.js"; sourceTree = "<group>"; };
-		C0E05754192B5EDB00D818D0 /* jsb_property_impls.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_property_impls.js; path = "../../js-bindings/bindings/script/jsb_property_impls.js"; sourceTree = "<group>"; };
-		C0E05755192B5EDB00D818D0 /* jsb.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb.js; path = "../../js-bindings/bindings/script/jsb.js"; sourceTree = "<group>"; };
 		C0F9A19C18C6D1FB00C75ABD /* debugger */ = {isa = PBXFileReference; lastKnownFileType = folder; name = debugger; path = "../../js-bindings/bindings/script/debugger"; sourceTree = "<group>"; };
+		C0F9A19D18C6D1FB00C75ABD /* jsb_chipmunk_constants.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_chipmunk_constants.js; path = "../../js-bindings/bindings/script/jsb_chipmunk_constants.js"; sourceTree = "<group>"; };
+		C0F9A19E18C6D1FB00C75ABD /* jsb_chipmunk.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_chipmunk.js; path = "../../js-bindings/bindings/script/jsb_chipmunk.js"; sourceTree = "<group>"; };
+		C0F9A19F18C6D1FC00C75ABD /* jsb_cocos2d_constants.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_constants.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_constants.js"; sourceTree = "<group>"; };
+		C0F9A1A018C6D1FC00C75ABD /* jsb_cocos2d_extension.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_extension.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_extension.js"; sourceTree = "<group>"; };
+		C0F9A1A118C6D1FC00C75ABD /* jsb_cocos2d_ui.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_ui.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_ui.js"; sourceTree = "<group>"; };
+		C0F9A1A218C6D1FC00C75ABD /* jsb_cocos2d_studio.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d_studio.js; path = "../../js-bindings/bindings/script/jsb_cocos2d_studio.js"; sourceTree = "<group>"; };
+		C0F9A1A318C6D1FC00C75ABD /* jsb_cocos2d.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocos2d.js; path = "../../js-bindings/bindings/script/jsb_cocos2d.js"; sourceTree = "<group>"; };
+		C0F9A1A418C6D1FC00C75ABD /* jsb_cocosbuilder.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_cocosbuilder.js; path = "../../js-bindings/bindings/script/jsb_cocosbuilder.js"; sourceTree = "<group>"; };
+		C0F9A1A518C6D1FC00C75ABD /* jsb_debugger.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_debugger.js; path = "../../js-bindings/bindings/script/jsb_debugger.js"; sourceTree = "<group>"; };
+		C0F9A1A618C6D1FC00C75ABD /* jsb_deprecated.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_deprecated.js; path = "../../js-bindings/bindings/script/jsb_deprecated.js"; sourceTree = "<group>"; };
+		C0F9A1A718C6D1FC00C75ABD /* jsb_opengl_constants.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_opengl_constants.js; path = "../../js-bindings/bindings/script/jsb_opengl_constants.js"; sourceTree = "<group>"; };
+		C0F9A1A818C6D1FC00C75ABD /* jsb_opengl.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_opengl.js; path = "../../js-bindings/bindings/script/jsb_opengl.js"; sourceTree = "<group>"; };
+		C0F9A1A918C6D1FC00C75ABD /* jsb_property_apis.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_property_apis.js; path = "../../js-bindings/bindings/script/jsb_property_apis.js"; sourceTree = "<group>"; };
+		C0F9A1AA18C6D1FC00C75ABD /* jsb_property_impls.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb_property_impls.js; path = "../../js-bindings/bindings/script/jsb_property_impls.js"; sourceTree = "<group>"; };
+		C0F9A1AC18C6D1FC00C75ABD /* jsb.js */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.javascript; name = jsb.js; path = "../../js-bindings/bindings/script/jsb.js"; sourceTree = "<group>"; };
 		D454520B156E22BD00887EB5 /* libz.dylib */ = {isa = PBXFileReference; lastKnownFileType = "compiled.mach-o.dylib"; name = libz.dylib; path = usr/lib/libz.dylib; sourceTree = SDKROOT; };
 		D4545215156E28EF00887EB5 /* AppDelegate.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = AppDelegate.cpp; sourceTree = "<group>"; };
 		D4545216156E28EF00887EB5 /* AppDelegate.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AppDelegate.h; sourceTree = "<group>"; };
@@ -461,7 +409,6 @@
 		15628F5B15F0F5C2000CF24B /* Resources */ = {
 			isa = PBXGroup;
 			children = (
-				C05D1C161923467600B808A4 /* config.json */,
 				1A1A081B18C9DF05005C6854 /* project.json */,
 				1A6BF21418C9DB5900FB0E1C /* main.js */,
 				C0799CB518BAE62000E9C828 /* res */,
@@ -580,26 +527,25 @@
 		C06D18B718C02D4A003D1A65 /* JS Common */ = {
 			isa = PBXGroup;
 			children = (
-				C0E05743192B5EDB00D818D0 /* jsb_boot.js */,
-				C0E05744192B5EDB00D818D0 /* jsb_chipmunk_constants.js */,
-				C0E05745192B5EDB00D818D0 /* jsb_chipmunk.js */,
-				C0E05746192B5EDB00D818D0 /* jsb_cocos2d_constants.js */,
-				C0E05747192B5EDB00D818D0 /* jsb_cocos2d_extension.js */,
-				C0E05748192B5EDB00D818D0 /* jsb_cocos2d_studio.js */,
-				C0E05749192B5EDB00D818D0 /* jsb_cocos2d_ui.js */,
-				C0E0574A192B5EDB00D818D0 /* jsb_cocos2d.js */,
-				C0E0574B192B5EDB00D818D0 /* jsb_cocosbuilder.js */,
-				C0E0574C192B5EDB00D818D0 /* jsb_create_apis.js */,
-				C0E0574D192B5EDB00D818D0 /* jsb_debugger.js */,
-				C0E0574E192B5EDB00D818D0 /* jsb_deprecated.js */,
-				C0E0574F192B5EDB00D818D0 /* jsb_ext_create_apis.js */,
-				C0E05750192B5EDB00D818D0 /* jsb_loaders.js */,
-				C0E05751192B5EDB00D818D0 /* jsb_opengl_constants.js */,
-				C0E05752192B5EDB00D818D0 /* jsb_opengl.js */,
-				C0E05753192B5EDB00D818D0 /* jsb_property_apis.js */,
-				C0E05754192B5EDB00D818D0 /* jsb_property_impls.js */,
-				C0E05755192B5EDB00D818D0 /* jsb.js */,
 				C0F9A19C18C6D1FB00C75ABD /* debugger */,
+				C0F9A1AC18C6D1FC00C75ABD /* jsb.js */,
+				1AC34A0D18C99CA5007834C9 /* jsb_boot.js */,
+				C0F9A19E18C6D1FB00C75ABD /* jsb_chipmunk.js */,
+				C0F9A19D18C6D1FB00C75ABD /* jsb_chipmunk_constants.js */,
+				C0F9A1A318C6D1FC00C75ABD /* jsb_cocos2d.js */,
+				C0F9A19F18C6D1FC00C75ABD /* jsb_cocos2d_constants.js */,
+				C0F9A1A018C6D1FC00C75ABD /* jsb_cocos2d_extension.js */,
+				C0F9A1A118C6D1FC00C75ABD /* jsb_cocos2d_ui.js */,
+				C0F9A1A218C6D1FC00C75ABD /* jsb_cocos2d_studio.js */,
+				C0F9A1A418C6D1FC00C75ABD /* jsb_cocosbuilder.js */,
+				1AC34A0E18C99CA5007834C9 /* jsb_create_apis.js */,
+				C0F9A1A518C6D1FC00C75ABD /* jsb_debugger.js */,
+				C0F9A1A618C6D1FC00C75ABD /* jsb_deprecated.js */,
+				1AC34A0F18C99CA5007834C9 /* jsb_loaders.js */,
+				C0F9A1A818C6D1FC00C75ABD /* jsb_opengl.js */,
+				C0F9A1A718C6D1FC00C75ABD /* jsb_opengl_constants.js */,
+				C0F9A1A918C6D1FC00C75ABD /* jsb_property_apis.js */,
+				C0F9A1AA18C6D1FC00C75ABD /* jsb_property_impls.js */,
 			);
 			name = "JS Common";
 			sourceTree = "<group>";
@@ -625,10 +571,6 @@
 		D4545214156E28EF00887EB5 /* Classes */ = {
 			isa = PBXGroup;
 			children = (
-				C033B522191B36AE00D06937 /* VisibleRect.cpp */,
-				C033B523191B36AE00D06937 /* VisibleRect.h */,
-				C06C37861918E81100617BED /* ConfigParser.cpp */,
-				C06C37871918E81100617BED /* ConfigParser.h */,
 				C026DCC818928A2400B3EDE8 /* Runtime_ios-mac.mm */,
 				C026DCC518928A1A00B3EDE8 /* Runtime.cpp */,
 				C014EAEB188EA65400753BDC /* Runtime.h */,
@@ -819,28 +761,26 @@
 			isa = PBXResourcesBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
-				C0E0577C192B5EF200D818D0 /* jsb_boot.js in Resources */,
-				C0E0577D192B5EF200D818D0 /* jsb_chipmunk_constants.js in Resources */,
-				C0E0577E192B5EF200D818D0 /* jsb_chipmunk.js in Resources */,
-				C0E0577F192B5EF200D818D0 /* jsb_cocos2d_constants.js in Resources */,
-				C0E05780192B5EF200D818D0 /* jsb_cocos2d_extension.js in Resources */,
-				C0E05781192B5EF200D818D0 /* jsb_cocos2d_studio.js in Resources */,
-				C0E05782192B5EF200D818D0 /* jsb_cocos2d_ui.js in Resources */,
-				C0E05783192B5EF200D818D0 /* jsb_cocos2d.js in Resources */,
-				C0E05784192B5EF200D818D0 /* jsb_cocosbuilder.js in Resources */,
-				C0E05785192B5EF200D818D0 /* jsb_create_apis.js in Resources */,
-				C0E05786192B5EF200D818D0 /* jsb_debugger.js in Resources */,
-				C0E05787192B5EF200D818D0 /* jsb_deprecated.js in Resources */,
-				C0E05788192B5EF200D818D0 /* jsb_ext_create_apis.js in Resources */,
-				C0E05789192B5EF200D818D0 /* jsb_loaders.js in Resources */,
-				C0E0578A192B5EF200D818D0 /* jsb_opengl_constants.js in Resources */,
-				C0E0578B192B5EF200D818D0 /* jsb_opengl.js in Resources */,
-				C0E0578C192B5EF200D818D0 /* jsb_property_apis.js in Resources */,
-				C0E0578D192B5EF200D818D0 /* jsb_property_impls.js in Resources */,
-				C0E0578E192B5EF200D818D0 /* jsb.js in Resources */,
 				1AC22EDE18CA0E11007112B9 /* project.json in Resources */,
 				1AD7E0A918C9DBE3004817A6 /* main.js in Resources */,
-				C05D1C181923467600B808A4 /* config.json in Resources */,
+				1AD7E0A118C9DB84004817A6 /* jsb_boot.js in Resources */,
+				1AD7E0A218C9DB84004817A6 /* jsb_create_apis.js in Resources */,
+				1AD7E0A318C9DB84004817A6 /* jsb_loaders.js in Resources */,
+				C0F9A1BC18C6D1FC00C75ABD /* jsb_cocos2d.js in Resources */,
+				C0F9A1C418C6D1FC00C75ABD /* jsb_opengl_constants.js in Resources */,
+				C0F9A1C218C6D1FC00C75ABD /* jsb_deprecated.js in Resources */,
+				C0F9A1BA18C6D1FC00C75ABD /* jsb_cocos2d_studio.js in Resources */,
+				C0F9A1B818C6D1FC00C75ABD /* jsb_cocos2d_ui.js in Resources */,
+				C0F9A1C618C6D1FC00C75ABD /* jsb_opengl.js in Resources */,
+				C0F9A1CA18C6D1FC00C75ABD /* jsb_property_impls.js in Resources */,
+				C0F9A1B618C6D1FC00C75ABD /* jsb_cocos2d_extension.js in Resources */,
+				C0F9A1B418C6D1FC00C75ABD /* jsb_cocos2d_constants.js in Resources */,
+				C0F9A1B218C6D1FC00C75ABD /* jsb_chipmunk.js in Resources */,
+				C0F9A1B018C6D1FC00C75ABD /* jsb_chipmunk_constants.js in Resources */,
+				C0F9A1BE18C6D1FC00C75ABD /* jsb_cocosbuilder.js in Resources */,
+				C0F9A1C818C6D1FC00C75ABD /* jsb_property_apis.js in Resources */,
+				C0F9A1CE18C6D1FC00C75ABD /* jsb.js in Resources */,
+				C0F9A1C018C6D1FC00C75ABD /* jsb_debugger.js in Resources */,
 				C0799CBA18BAE62000E9C828 /* res in Resources */,
 				C03C8B4C18A770DD00723415 /* MainMenu.xib in Resources */,
 				C0F9A1AE18C6D1FC00C75ABD /* debugger in Resources */,
@@ -853,29 +793,27 @@
 			isa = PBXResourcesBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
-				C0E0578F192B5EFC00D818D0 /* jsb_boot.js in Resources */,
-				C0E05790192B5EFC00D818D0 /* jsb_chipmunk_constants.js in Resources */,
-				C0E05791192B5EFC00D818D0 /* jsb_chipmunk.js in Resources */,
-				C0E05792192B5EFC00D818D0 /* jsb_cocos2d_constants.js in Resources */,
-				C0E05793192B5EFC00D818D0 /* jsb_cocos2d_extension.js in Resources */,
-				C0E05794192B5EFC00D818D0 /* jsb_cocos2d_studio.js in Resources */,
-				C0E05795192B5EFC00D818D0 /* jsb_cocos2d_ui.js in Resources */,
-				C0E05796192B5EFC00D818D0 /* jsb_cocos2d.js in Resources */,
-				C0E05797192B5EFC00D818D0 /* jsb_cocosbuilder.js in Resources */,
-				C0E05798192B5EFC00D818D0 /* jsb_create_apis.js in Resources */,
-				C0E05799192B5EFC00D818D0 /* jsb_debugger.js in Resources */,
-				C0E0579A192B5EFC00D818D0 /* jsb_deprecated.js in Resources */,
-				C0E0579B192B5EFC00D818D0 /* jsb_ext_create_apis.js in Resources */,
-				C0E0579C192B5EFC00D818D0 /* jsb_loaders.js in Resources */,
-				C0E0579D192B5EFC00D818D0 /* jsb_opengl_constants.js in Resources */,
-				C0E0579E192B5EFC00D818D0 /* jsb_opengl.js in Resources */,
-				C0E0579F192B5EFC00D818D0 /* jsb_property_apis.js in Resources */,
-				C0E057A0192B5EFC00D818D0 /* jsb_property_impls.js in Resources */,
-				C0E057A1192B5EFC00D818D0 /* jsb.js in Resources */,
 				1AE159EC18C9DF3600FCA372 /* project.json in Resources */,
 				1AD7E0A818C9DB93004817A6 /* main.js in Resources */,
+				1AC34A1618C99CCC007834C9 /* jsb_boot.js in Resources */,
+				1AC34A1718C99CCC007834C9 /* jsb_create_apis.js in Resources */,
+				1AC34A1818C99CCC007834C9 /* jsb_loaders.js in Resources */,
 				509D4ABE17EBB2AB00697056 /* Default.png in Resources */,
-				C05D1C171923467600B808A4 /* config.json in Resources */,
+				C0F9A1AF18C6D1FC00C75ABD /* jsb_chipmunk_constants.js in Resources */,
+				C0F9A1B918C6D1FC00C75ABD /* jsb_cocos2d_studio.js in Resources */,
+				C0F9A1C318C6D1FC00C75ABD /* jsb_opengl_constants.js in Resources */,
+				C0F9A1BD18C6D1FC00C75ABD /* jsb_cocosbuilder.js in Resources */,
+				C0F9A1C718C6D1FC00C75ABD /* jsb_property_apis.js in Resources */,
+				C0F9A1B718C6D1FC00C75ABD /* jsb_cocos2d_ui.js in Resources */,
+				C0F9A1BB18C6D1FC00C75ABD /* jsb_cocos2d.js in Resources */,
+				C0F9A1B518C6D1FC00C75ABD /* jsb_cocos2d_extension.js in Resources */,
+				C0F9A1B318C6D1FC00C75ABD /* jsb_cocos2d_constants.js in Resources */,
+				C0F9A1C518C6D1FC00C75ABD /* jsb_opengl.js in Resources */,
+				C0F9A1C118C6D1FC00C75ABD /* jsb_deprecated.js in Resources */,
+				C0F9A1B118C6D1FC00C75ABD /* jsb_chipmunk.js in Resources */,
+				C0F9A1CD18C6D1FC00C75ABD /* jsb.js in Resources */,
+				C0F9A1BF18C6D1FC00C75ABD /* jsb_debugger.js in Resources */,
+				C0F9A1C918C6D1FC00C75ABD /* jsb_property_impls.js in Resources */,
 				5091731E17ECDF7A00D62437 /* Icon-80.png in Resources */,
 				5091731F17ECDF7A00D62437 /* Icon-100.png in Resources */,
 				509D4AC117EBB2AB00697056 /* Icon-72.png in Resources */,
@@ -904,32 +842,11 @@
 			isa = PBXSourcesBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
-				C0E0577B192B5EDB00D818D0 /* jsb.js in Sources */,
-				C0E05763192B5EDB00D818D0 /* jsb_cocos2d_ui.js in Sources */,
-				C0E05759192B5EDB00D818D0 /* jsb_chipmunk_constants.js in Sources */,
-				C0E05757192B5EDB00D818D0 /* jsb_boot.js in Sources */,
-				C06C37891918E81100617BED /* ConfigParser.cpp in Sources */,
 				C026DCC718928A1A00B3EDE8 /* Runtime.cpp in Sources */,
-				C0E05771192B5EDB00D818D0 /* jsb_loaders.js in Sources */,
 				509D4A8117EBB24E00697056 /* AppDelegate.cpp in Sources */,
-				C0E0575B192B5EDB00D818D0 /* jsb_chipmunk.js in Sources */,
-				C0E05769192B5EDB00D818D0 /* jsb_create_apis.js in Sources */,
-				C0E0575D192B5EDB00D818D0 /* jsb_cocos2d_constants.js in Sources */,
 				C0C2F37418AA0C66003976DA /* SimulatorApp.mm in Sources */,
-				C0E05773192B5EDB00D818D0 /* jsb_opengl_constants.js in Sources */,
 				C026DCCA18928A2400B3EDE8 /* Runtime_ios-mac.mm in Sources */,
-				C0E05767192B5EDB00D818D0 /* jsb_cocosbuilder.js in Sources */,
-				C033B525191B36AE00D06937 /* VisibleRect.cpp in Sources */,
-				C0E0576D192B5EDB00D818D0 /* jsb_deprecated.js in Sources */,
-				C0E05775192B5EDB00D818D0 /* jsb_opengl.js in Sources */,
-				C0E05761192B5EDB00D818D0 /* jsb_cocos2d_studio.js in Sources */,
-				C0E05765192B5EDB00D818D0 /* jsb_cocos2d.js in Sources */,
-				C0E0575F192B5EDB00D818D0 /* jsb_cocos2d_extension.js in Sources */,
 				C03C8B4B18A770DD00723415 /* main.m in Sources */,
-				C0E0576B192B5EDB00D818D0 /* jsb_debugger.js in Sources */,
-				C0E05777192B5EDB00D818D0 /* jsb_property_apis.js in Sources */,
-				C0E0576F192B5EDB00D818D0 /* jsb_ext_create_apis.js in Sources */,
-				C0E05779192B5EDB00D818D0 /* jsb_property_impls.js in Sources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
 		};
@@ -937,32 +854,11 @@
 			isa = PBXSourcesBuildPhase;
 			buildActionMask = 2147483647;
 			files = (
-				C0E05766192B5EDB00D818D0 /* jsb_cocosbuilder.js in Sources */,
 				509D4AC917EBB2AB00697056 /* RootViewController.mm in Sources */,
-				C0E05758192B5EDB00D818D0 /* jsb_chipmunk_constants.js in Sources */,
 				D4545227156E28EF00887EB5 /* AppDelegate.cpp in Sources */,
-				C0E0577A192B5EDB00D818D0 /* jsb.js in Sources */,
-				C06C37881918E81100617BED /* ConfigParser.cpp in Sources */,
-				C0E05778192B5EDB00D818D0 /* jsb_property_impls.js in Sources */,
-				C0E05764192B5EDB00D818D0 /* jsb_cocos2d.js in Sources */,
 				509D4AC817EBB2AB00697056 /* main.m in Sources */,
-				C0E05756192B5EDB00D818D0 /* jsb_boot.js in Sources */,
-				C0E05762192B5EDB00D818D0 /* jsb_cocos2d_ui.js in Sources */,
-				C0E0575A192B5EDB00D818D0 /* jsb_chipmunk.js in Sources */,
-				C033B524191B36AE00D06937 /* VisibleRect.cpp in Sources */,
-				C0E05774192B5EDB00D818D0 /* jsb_opengl.js in Sources */,
-				C0E05770192B5EDB00D818D0 /* jsb_loaders.js in Sources */,
-				C0E05776192B5EDB00D818D0 /* jsb_property_apis.js in Sources */,
-				C0E0576C192B5EDB00D818D0 /* jsb_deprecated.js in Sources */,
-				C0E05768192B5EDB00D818D0 /* jsb_create_apis.js in Sources */,
 				509D4ABC17EBB2AB00697056 /* AppController.mm in Sources */,
 				C026DCC918928A2400B3EDE8 /* Runtime_ios-mac.mm in Sources */,
-				C0E0576A192B5EDB00D818D0 /* jsb_debugger.js in Sources */,
-				C0E0576E192B5EDB00D818D0 /* jsb_ext_create_apis.js in Sources */,
-				C0E05772192B5EDB00D818D0 /* jsb_opengl_constants.js in Sources */,
-				C0E05760192B5EDB00D818D0 /* jsb_cocos2d_studio.js in Sources */,
-				C0E0575E192B5EDB00D818D0 /* jsb_cocos2d_extension.js in Sources */,
-				C0E0575C192B5EDB00D818D0 /* jsb_cocos2d_constants.js in Sources */,
 				C026DCC618928A1A00B3EDE8 /* Runtime.cpp in Sources */,
 			);
 			runOnlyForDeploymentPostprocessing = 0;
@@ -1041,7 +937,6 @@
 				HEADER_SEARCH_PATHS = "";
 				INFOPLIST_FILE = mac/Info.plist;
 				LIBRARY_SEARCH_PATHS = "";
-				MACOSX_DEPLOYMENT_TARGET = 10.8;
 				OTHER_LDFLAGS = "";
 				SDKROOT = macosx;
 				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../js-bindings/cocos2d-x/cocos/2d/platform/mac $(SRCROOT)/../../js-bindings/cocos2d-x/external/glfw3/include/mac $(SRCROOT)/../../js-bindings/external/spidermonkey/include/mac";
@@ -1063,7 +958,6 @@
 				HEADER_SEARCH_PATHS = "";
 				INFOPLIST_FILE = mac/Info.plist;
 				LIBRARY_SEARCH_PATHS = "";
-				MACOSX_DEPLOYMENT_TARGET = 10.8;
 				OTHER_LDFLAGS = "";
 				SDKROOT = macosx;
 				USER_HEADER_SEARCH_PATHS = "$(inherited) $(SRCROOT)/../../js-bindings/cocos2d-x/cocos/2d/platform/mac $(SRCROOT)/../../js-bindings/cocos2d-x/external/glfw3/include/mac $(SRCROOT)/../../js-bindings/external/spidermonkey/include/mac";
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/Runtime_ios-mac.mm b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/Runtime_ios-mac.mm
index f89ad9b..1552180 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/Runtime_ios-mac.mm
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/Runtime_ios-mac.mm
@@ -7,6 +7,29 @@
 #include <vector>
 using namespace std;
 
+string getProjSearchPath()
+{
+    NSString *bundlePath = [[NSBundle mainBundle] resourcePath];
+    if (bundlePath != nil) {
+        return [bundlePath UTF8String];
+    }
+    return "";
+}
+
+vector<string> getSearchPath()
+{
+	vector<string> searchPathArray;
+	return searchPathArray;
+}
+
+string getDotWaitFilePath()
+{
+	string dotwaitFile;
+    dotwaitFile = getProjSearchPath();
+    dotwaitFile += "/.wait";
+    return dotwaitFile;
+}
+
 string getIPAddress()
 {
     BOOL success;
@@ -30,3 +53,41 @@ string getIPAddress()
     }
     return "";
 }
+
+//string getIPAddress()
+//{
+//    NSString *address=@"error";
+//    struct ifaddrs *interfaces = NULL;
+//    struct ifaddrs *temp_addr = NULL;
+//    int success = 0;
+//    
+//    // retrieve the current interfaces - returns 0 on success
+//    success = getifaddrs(&interfaces);
+//    if (success == 0)
+//    {
+//        // Loop through linked list of interfaces
+//        temp_addr = interfaces;
+//        while(temp_addr != NULL)
+//        {
+//            if(temp_addr->ifa_addr->sa_family == AF_INET)
+//            {
+//                // Check if interface is en0 which is the wifi connection on the iPhone
+//                if([[NSString stringWithUTF8String:temp_addr->ifa_name] isEqualToString:@"en1"])
+//                {
+//                    // Get NSString from C String
+//                    address = [NSString stringWithUTF8String:inet_ntoa(((struct sockaddr_in *)temp_addr->ifa_addr)->sin_addr)];
+//                }
+//            }
+//            
+//            temp_addr = temp_addr->ifa_next;
+//        }
+//    }
+//    
+//    // Free memory
+//    freeifaddrs(interfaces);
+//    if (address != nil) {
+//        return [address UTF8String];
+//    }
+//    return "";
+//}
+
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/AppController.mm b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/AppController.mm
index fb3d672..6e1d42e 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/AppController.mm
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/AppController.mm
@@ -30,7 +30,6 @@
 #import "AppDelegate.h"
 #import "RootViewController.h"
 #import "CCEAGLView.h"
-#include "ConfigParser.h"
 
 @implementation AppController
 
@@ -44,9 +43,7 @@ static AppDelegate s_sharedApplication;
 {
 
     // Override point for customization after application launch.
-    
-    ConfigParser::getInstance()->readConfig();
-    
+
     // Add the view controller's view to the window and display.
     window = [[UIWindow alloc] initWithFrame: [[UIScreen mainScreen] bounds]];
     CCEAGLView *eaglView = [CCEAGLView viewWithFrame: [window bounds]
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/Info.plist b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/Info.plist
index 4a20da0..18f3696 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/Info.plist
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/Info.plist
@@ -93,7 +93,6 @@
 	<array>
 		<string>UIInterfaceOrientationLandscapeRight</string>
 		<string>UIInterfaceOrientationLandscapeLeft</string>
-		<string>UIInterfaceOrientationPortrait</string>
 	</array>
 </dict>
 </plist>
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/RootViewController.mm b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/RootViewController.mm
index ce34f85..8b5408a 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/RootViewController.mm
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/ios/RootViewController.mm
@@ -26,7 +26,6 @@
 #import "RootViewController.h"
 #import "cocos2d.h"
 #import "CCEAGLView.h"
-#include "ConfigParser.h"
 
 @implementation RootViewController
 
@@ -56,49 +55,29 @@
 // Override to allow orientations other than the default portrait orientation.
 // This method is deprecated on ios6
 - (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation {
-    
-    if (ConfigParser::getInstance()->isLanscape()) {
-        return UIInterfaceOrientationIsLandscape( interfaceOrientation );
-    }else{
-        return UIInterfaceOrientationIsPortrait( interfaceOrientation );
-    }
-    
+    return UIInterfaceOrientationIsLandscape( interfaceOrientation );
 }
 
 // For ios6, use supportedInterfaceOrientations & shouldAutorotate instead
 - (NSUInteger) supportedInterfaceOrientations{
 #ifdef __IPHONE_6_0
-    if (ConfigParser::getInstance()->isLanscape()) {
-        return UIInterfaceOrientationMaskLandscape;
-    }else{
-        return UIInterfaceOrientationMaskPortraitUpsideDown;
-    }
+    return UIInterfaceOrientationMaskAllButUpsideDown;
 #endif
 }
 
 - (BOOL) shouldAutorotate {
-    if (ConfigParser::getInstance()->isLanscape()) {
-        return YES;
-    }else{
-        return NO;
-    }
+    return YES;
 }
 
 - (void)didRotateFromInterfaceOrientation:(UIInterfaceOrientation)fromInterfaceOrientation {
     [super didRotateFromInterfaceOrientation:fromInterfaceOrientation];
 
     cocos2d::GLView *glview = cocos2d::Director::getInstance()->getOpenGLView();
+    CCEAGLView *eaglview = (CCEAGLView*) glview->getEAGLView();
 
-    if (glview)
-    {
-        CCEAGLView *eaglview = (CCEAGLView*) glview->getEAGLView();
+    CGSize s = CGSizeMake([eaglview getWidth], [eaglview getHeight]);
 
-        if (eaglview)
-        {
-            CGSize s = CGSizeMake([eaglview getWidth], [eaglview getHeight]);
-            cocos2d::Application::getInstance()->applicationScreenSizeChanged((int) s.width, (int) s.height);
-        }
-    }
+    cocos2d::Application::getInstance()->applicationScreenSizeChanged((int) s.width, (int) s.height);
 }
 
 //fix not hide status on ios7
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/MainMenu.xib b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/MainMenu.xib
index a4dc5b9..ded673e 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/MainMenu.xib
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/MainMenu.xib
@@ -1,854 +1,140 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<archive type="com.apple.InterfaceBuilder3.Cocoa.XIB" version="8.00">
-	<data>
-		<int key="IBDocument.SystemTarget">1060</int>
-		<string key="IBDocument.SystemVersion">13C64</string>
-		<string key="IBDocument.InterfaceBuilderVersion">5056</string>
-		<string key="IBDocument.AppKitVersion">1265.19</string>
-		<string key="IBDocument.HIToolboxVersion">697.40</string>
-		<object class="NSMutableDictionary" key="IBDocument.PluginVersions">
-			<string key="NS.key.0">com.apple.InterfaceBuilder.CocoaPlugin</string>
-			<string key="NS.object.0">5056</string>
-		</object>
-		<array key="IBDocument.IntegratedClassDependencies">
-			<string>NSCustomObject</string>
-			<string>NSMenu</string>
-			<string>NSMenuItem</string>
-		</array>
-		<array key="IBDocument.PluginDependencies">
-			<string>com.apple.InterfaceBuilder.CocoaPlugin</string>
-		</array>
-		<object class="NSMutableDictionary" key="IBDocument.Metadata">
-			<string key="NS.key.0">PluginDependencyRecalculationVersion</string>
-			<integer value="1" key="NS.object.0"/>
-		</object>
-		<array class="NSMutableArray" key="IBDocument.RootObjects" id="398336477">
-			<object class="NSCustomObject" id="225277730">
-				<string key="NSClassName">AppController</string>
-			</object>
-			<object class="NSCustomObject" id="531342050">
-				<string key="NSClassName">FirstResponder</string>
-			</object>
-			<object class="NSCustomObject" id="447990717">
-				<string key="NSClassName">NSApplication</string>
-			</object>
-			<object class="NSMenu" id="35795247">
-				<string key="NSTitle">AMainMenu</string>
-				<array class="NSMutableArray" key="NSMenuItems">
-					<object class="NSMenuItem" id="778315643">
-						<reference key="NSMenu" ref="35795247"/>
-						<string key="NSTitle">Cocos-player</string>
-						<string key="NSKeyEquiv"/>
-						<int key="NSKeyEquivModMask">1048576</int>
-						<int key="NSMnemonicLoc">2147483647</int>
-						<object class="NSCustomResource" key="NSOnImage" id="180314096">
-							<string key="NSClassName">NSImage</string>
-							<string key="NSResourceName">NSMenuCheckmark</string>
-						</object>
-						<object class="NSCustomResource" key="NSMixedImage" id="101226688">
-							<string key="NSClassName">NSImage</string>
-							<string key="NSResourceName">NSMenuMixedState</string>
-						</object>
-						<string key="NSAction">submenuAction:</string>
-						<reference key="NSTarget" ref="958364081"/>
-						<object class="NSMenu" key="NSSubmenu" id="958364081">
-							<string key="NSTitle">Cocos-player</string>
-							<array class="NSMutableArray" key="NSMenuItems">
-								<object class="NSMenuItem" id="1008222989">
-									<reference key="NSMenu" ref="958364081"/>
-									<string key="NSTitle">About Cocos-player</string>
-									<string key="NSKeyEquiv"/>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="110903925">
-									<reference key="NSMenu" ref="958364081"/>
-									<bool key="NSIsDisabled">YES</bool>
-									<bool key="NSIsSeparator">YES</bool>
-									<string key="NSTitle"/>
-									<string key="NSKeyEquiv"/>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="703420994">
-									<reference key="NSMenu" ref="958364081"/>
-									<string key="NSTitle">Services</string>
-									<string key="NSKeyEquiv"/>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-									<string key="NSAction">submenuAction:</string>
-									<reference key="NSTarget" ref="541527680"/>
-									<object class="NSMenu" key="NSSubmenu" id="541527680">
-										<string key="NSTitle">Services</string>
-										<array class="NSMutableArray" key="NSMenuItems"/>
-										<string key="NSName">_NSServicesMenu</string>
-									</object>
-								</object>
-								<object class="NSMenuItem" id="1026733254">
-									<reference key="NSMenu" ref="958364081"/>
-									<bool key="NSIsDisabled">YES</bool>
-									<bool key="NSIsSeparator">YES</bool>
-									<string key="NSTitle"/>
-									<string key="NSKeyEquiv"/>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="412881632">
-									<reference key="NSMenu" ref="958364081"/>
-									<string key="NSTitle">Hide Cocos-player</string>
-									<string key="NSKeyEquiv">h</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="89019794">
-									<reference key="NSMenu" ref="958364081"/>
-									<string key="NSTitle">Hide Others</string>
-									<string key="NSKeyEquiv">h</string>
-									<int key="NSKeyEquivModMask">1572864</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="214078138">
-									<reference key="NSMenu" ref="958364081"/>
-									<string key="NSTitle">Show All</string>
-									<string key="NSKeyEquiv"/>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="652430606">
-									<reference key="NSMenu" ref="958364081"/>
-									<bool key="NSIsDisabled">YES</bool>
-									<bool key="NSIsSeparator">YES</bool>
-									<string key="NSTitle"/>
-									<string key="NSKeyEquiv"/>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="272853384">
-									<reference key="NSMenu" ref="958364081"/>
-									<string key="NSTitle">Quit Cocos-player</string>
-									<string key="NSKeyEquiv">q</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-							</array>
-							<string key="NSName">_NSAppleMenu</string>
-						</object>
-					</object>
-					<object class="NSMenuItem" id="889715317">
-						<reference key="NSMenu" ref="35795247"/>
-						<string key="NSTitle">File</string>
-						<string key="NSKeyEquiv"/>
-						<int key="NSKeyEquivModMask">1048576</int>
-						<int key="NSMnemonicLoc">2147483647</int>
-						<reference key="NSOnImage" ref="180314096"/>
-						<reference key="NSMixedImage" ref="101226688"/>
-						<string key="NSAction">submenuAction:</string>
-						<reference key="NSTarget" ref="563449716"/>
-						<object class="NSMenu" key="NSSubmenu" id="563449716">
-							<string key="NSTitle">File</string>
-							<array class="NSMutableArray" key="NSMenuItems">
-								<object class="NSMenuItem" id="89740024">
-									<reference key="NSMenu" ref="563449716"/>
-									<string key="NSTitle">Close</string>
-									<string key="NSKeyEquiv">w</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-							</array>
-						</object>
-					</object>
-					<object class="NSMenuItem" id="226283667">
-						<reference key="NSMenu" ref="35795247"/>
-						<string key="NSTitle">View</string>
-						<string key="NSKeyEquiv"/>
-						<int key="NSKeyEquivModMask">1048576</int>
-						<int key="NSMnemonicLoc">2147483647</int>
-						<reference key="NSOnImage" ref="180314096"/>
-						<reference key="NSMixedImage" ref="101226688"/>
-						<string key="NSAction">submenuAction:</string>
-						<reference key="NSTarget" ref="165491160"/>
-						<object class="NSMenu" key="NSSubmenu" id="165491160">
-							<string key="NSTitle">View</string>
-							<array class="NSMutableArray" key="NSMenuItems">
-								<object class="NSMenuItem" id="193126887">
-									<reference key="NSMenu" ref="165491160"/>
-									<bool key="NSIsDisabled">YES</bool>
-									<bool key="NSIsSeparator">YES</bool>
-									<string key="NSTitle"/>
-									<string key="NSKeyEquiv"/>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="523494871">
-									<reference key="NSMenu" ref="165491160"/>
-									<string key="NSTitle">Portait</string>
-									<string key="NSKeyEquiv"/>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<int key="NSState">1</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="146919793">
-									<reference key="NSMenu" ref="165491160"/>
-									<string key="NSTitle">Landscape</string>
-									<string key="NSKeyEquiv"/>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="118480591">
-									<reference key="NSMenu" ref="165491160"/>
-									<bool key="NSIsDisabled">YES</bool>
-									<bool key="NSIsSeparator">YES</bool>
-									<string key="NSTitle"/>
-									<string key="NSKeyEquiv"/>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-								<object class="NSMenuItem" id="457577550">
-									<reference key="NSMenu" ref="165491160"/>
-									<string key="NSTitle">Actual (100%)</string>
-									<string key="NSKeyEquiv">0</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<int key="NSState">1</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-									<int key="NSTag">100</int>
-								</object>
-								<object class="NSMenuItem" id="411545827">
-									<reference key="NSMenu" ref="165491160"/>
-									<string key="NSTitle">Zoom Out (75%)</string>
-									<string key="NSKeyEquiv">6</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-									<int key="NSTag">75</int>
-								</object>
-								<object class="NSMenuItem" id="37423277">
-									<reference key="NSMenu" ref="165491160"/>
-									<string key="NSTitle">Zoom Out (50%)</string>
-									<string key="NSKeyEquiv">5</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-									<int key="NSTag">50</int>
-								</object>
-								<object class="NSMenuItem" id="298932417">
-									<reference key="NSMenu" ref="165491160"/>
-									<string key="NSTitle">Zoom Out (25%)</string>
-									<string key="NSKeyEquiv">4</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-									<int key="NSTag">25</int>
-								</object>
-							</array>
-						</object>
-					</object>
-					<object class="NSMenuItem" id="523109896">
-						<reference key="NSMenu" ref="35795247"/>
-						<string key="NSTitle">Control</string>
-						<string key="NSKeyEquiv"/>
-						<int key="NSMnemonicLoc">2147483647</int>
-						<reference key="NSOnImage" ref="180314096"/>
-						<reference key="NSMixedImage" ref="101226688"/>
-						<string key="NSAction">submenuAction:</string>
-						<reference key="NSTarget" ref="164292829"/>
-						<object class="NSMenu" key="NSSubmenu" id="164292829">
-							<string key="NSTitle">Control</string>
-							<array class="NSMutableArray" key="NSMenuItems">
-								<object class="NSMenuItem" id="316884524">
-									<reference key="NSMenu" ref="164292829"/>
-									<string key="NSTitle">Relaunch</string>
-									<string key="NSKeyEquiv">r</string>
-									<int key="NSKeyEquivModMask">1048576</int>
-									<int key="NSMnemonicLoc">2147483647</int>
-									<reference key="NSOnImage" ref="180314096"/>
-									<reference key="NSMixedImage" ref="101226688"/>
-								</object>
-							</array>
-						</object>
-					</object>
-					<object class="NSMenuItem" id="925509564">
-						<reference key="NSMenu" ref="35795247"/>
-						<string key="NSTitle">Help</string>
-						<string key="NSKeyEquiv"/>
-						<int key="NSMnemonicLoc">2147483647</int>
-						<reference key="NSOnImage" ref="180314096"/>
-						<reference key="NSMixedImage" ref="101226688"/>
-						<string key="NSAction">submenuAction:</string>
-						<reference key="NSTarget" ref="928327007"/>
-						<object class="NSMenu" key="NSSubmenu" id="928327007">
-							<string key="NSTitle">Help</string>
-							<array class="NSMutableArray" key="NSMenuItems"/>
-							<string key="NSName">_NSHelpMenu</string>
-						</object>
-					</object>
-				</array>
-				<string key="NSName">_NSMainMenu</string>
-			</object>
-			<object class="NSCustomObject" id="816722435">
-				<string key="NSClassName">NSFontManager</string>
-			</object>
-			<object class="NSCustomObject" id="7105">
-				<string key="NSClassName">AppController</string>
-			</object>
-		</array>
-		<object class="IBObjectContainer" key="IBDocument.Objects">
-			<bool key="usesAutoincrementingIDs">NO</bool>
-			<array class="NSMutableArray" key="connectionRecords">
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">hide:</string>
-						<reference key="source" ref="447990717"/>
-						<reference key="destination" ref="412881632"/>
-					</object>
-					<string key="id">SGN-0p-7lH</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">hideOtherApplications:</string>
-						<reference key="source" ref="447990717"/>
-						<reference key="destination" ref="89019794"/>
-					</object>
-					<string key="id">iJd-Ba-eXG</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">unhideAllApplications:</string>
-						<reference key="source" ref="447990717"/>
-						<reference key="destination" ref="214078138"/>
-					</object>
-					<string key="id">DR8-By-ymv</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">terminate:</string>
-						<reference key="source" ref="447990717"/>
-						<reference key="destination" ref="272853384"/>
-					</object>
-					<string key="id">DyL-yF-GYq</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBOutletConnection" key="connection">
-						<string key="label">delegate</string>
-						<reference key="source" ref="225277730"/>
-						<reference key="destination" ref="7105"/>
-					</object>
-					<string key="id">537</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBOutletConnection" key="connection">
-						<string key="label">menu</string>
-						<reference key="source" ref="225277730"/>
-						<reference key="destination" ref="35795247"/>
-					</object>
-					<string key="id">650</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">orderFrontStandardAboutPanel:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="1008222989"/>
-					</object>
-					<string key="id">tSA-7z-LPk</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onFileClose:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="89740024"/>
-					</object>
-					<string key="id">661</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onScreenPortait:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="523494871"/>
-					</object>
-					<string key="id">667</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onScreenLandscape:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="146919793"/>
-					</object>
-					<string key="id">647</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onScreenZoomOut:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="457577550"/>
-					</object>
-					<string key="id">yUj-fN-Rh7</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onScreenZoomOut:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="411545827"/>
-					</object>
-					<string key="id">yps-LZ-egB</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onScreenZoomOut:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="37423277"/>
-					</object>
-					<string key="id">654</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onScreenZoomOut:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="298932417"/>
-					</object>
-					<string key="id">DSu-if-D2T</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBActionConnection" key="connection">
-						<string key="label">onReloadScript:</string>
-						<reference key="source" ref="531342050"/>
-						<reference key="destination" ref="316884524"/>
-					</object>
-					<string key="id">ar6-Pq-fmZ</string>
-				</object>
-				<object class="IBConnectionRecord">
-					<object class="IBOutletConnection" key="connection">
-						<string key="label">menu</string>
-						<reference key="source" ref="7105"/>
-						<reference key="destination" ref="35795247"/>
-					</object>
-					<string key="id">550</string>
-				</object>
-			</array>
-			<object class="IBMutableOrderedSet" key="objectRecords">
-				<array key="orderedObjects">
-					<object class="IBObjectRecord">
-						<string key="id">0</string>
-						<array key="object" id="0"/>
-						<reference key="children" ref="398336477"/>
-						<nil key="parent"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">-2</string>
-						<reference key="object" ref="225277730"/>
-						<reference key="parent" ref="0"/>
-						<string key="objectName">File's Owner</string>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">-1</string>
-						<reference key="object" ref="531342050"/>
-						<reference key="parent" ref="0"/>
-						<string key="objectName">First Responder</string>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">-3</string>
-						<reference key="object" ref="447990717"/>
-						<reference key="parent" ref="0"/>
-						<string key="objectName">Application</string>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">29</string>
-						<reference key="object" ref="35795247"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="778315643"/>
-							<reference ref="889715317"/>
-							<reference ref="226283667"/>
-							<reference ref="523109896"/>
-							<reference ref="925509564"/>
-						</array>
-						<reference key="parent" ref="0"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">GS6-Lb-ftA</string>
-						<reference key="object" ref="778315643"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="958364081"/>
-						</array>
-						<reference key="parent" ref="35795247"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">YN2-V8-ty0</string>
-						<reference key="object" ref="958364081"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="1008222989"/>
-							<reference ref="110903925"/>
-							<reference ref="703420994"/>
-							<reference ref="1026733254"/>
-							<reference ref="412881632"/>
-							<reference ref="89019794"/>
-							<reference ref="214078138"/>
-							<reference ref="652430606"/>
-							<reference ref="272853384"/>
-						</array>
-						<reference key="parent" ref="778315643"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">HhF-Es-coQ</string>
-						<reference key="object" ref="1008222989"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">OzD-Nm-tPt</string>
-						<reference key="object" ref="110903925"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">TOj-vg-cDm</string>
-						<reference key="object" ref="703420994"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="541527680"/>
-						</array>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">e98-We-UX5</string>
-						<reference key="object" ref="541527680"/>
-						<reference key="parent" ref="703420994"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">muN-Hw-eeZ</string>
-						<reference key="object" ref="1026733254"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">sH6-na-PTL</string>
-						<reference key="object" ref="412881632"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">XG8-CE-veT</string>
-						<reference key="object" ref="89019794"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">IqD-3v-zQT</string>
-						<reference key="object" ref="214078138"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">GU5-eI-OTq</string>
-						<reference key="object" ref="652430606"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">7Z7-ot-jqY</string>
-						<reference key="object" ref="272853384"/>
-						<reference key="parent" ref="958364081"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">83</string>
-						<reference key="object" ref="889715317"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="563449716"/>
-						</array>
-						<reference key="parent" ref="35795247"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">81</string>
-						<reference key="object" ref="563449716"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="89740024"/>
-						</array>
-						<reference key="parent" ref="889715317"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">611</string>
-						<reference key="object" ref="89740024"/>
-						<reference key="parent" ref="563449716"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">295</string>
-						<reference key="object" ref="226283667"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="165491160"/>
-						</array>
-						<reference key="parent" ref="35795247"/>
-						<string key="objectName">Menu Item - View</string>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">296</string>
-						<reference key="object" ref="165491160"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="193126887"/>
-							<reference ref="523494871"/>
-							<reference ref="146919793"/>
-							<reference ref="118480591"/>
-							<reference ref="457577550"/>
-							<reference ref="411545827"/>
-							<reference ref="37423277"/>
-							<reference ref="298932417"/>
-						</array>
-						<reference key="parent" ref="226283667"/>
-						<string key="objectName">Menu - View</string>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">579</string>
-						<reference key="object" ref="193126887"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">592</string>
-						<reference key="object" ref="523494871"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">593</string>
-						<reference key="object" ref="146919793"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">594</string>
-						<reference key="object" ref="118480591"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">595</string>
-						<reference key="object" ref="457577550"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">pqR-xy-5ip</string>
-						<reference key="object" ref="411545827"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">596</string>
-						<reference key="object" ref="37423277"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">QB8-6D-hAr</string>
-						<reference key="object" ref="298932417"/>
-						<reference key="parent" ref="165491160"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">Heh-SD-KHE</string>
-						<reference key="object" ref="523109896"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="164292829"/>
-						</array>
-						<reference key="parent" ref="35795247"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">ysx-9J-ekz</string>
-						<reference key="object" ref="164292829"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="316884524"/>
-						</array>
-						<reference key="parent" ref="523109896"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">hfu-OP-8X3</string>
-						<reference key="object" ref="316884524"/>
-						<reference key="parent" ref="164292829"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">490</string>
-						<reference key="object" ref="925509564"/>
-						<array class="NSMutableArray" key="children">
-							<reference ref="928327007"/>
-						</array>
-						<reference key="parent" ref="35795247"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">491</string>
-						<reference key="object" ref="928327007"/>
-						<reference key="parent" ref="925509564"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">420</string>
-						<reference key="object" ref="816722435"/>
-						<reference key="parent" ref="0"/>
-					</object>
-					<object class="IBObjectRecord">
-						<string key="id">536</string>
-						<reference key="object" ref="7105"/>
-						<reference key="parent" ref="0"/>
-					</object>
-				</array>
-			</object>
-			<dictionary class="NSMutableDictionary" key="flattenedProperties">
-				<string key="-1.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="-1.showNotes"/>
-				<string key="-2.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="-2.showNotes"/>
-				<string key="-3.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="-3.showNotes"/>
-				<string key="29.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="29.showNotes"/>
-				<string key="295.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="295.showNotes"/>
-				<string key="296.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="296.showNotes"/>
-				<string key="420.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="420.showNotes"/>
-				<string key="490.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="490.showNotes"/>
-				<string key="491.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="491.showNotes"/>
-				<string key="536.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="536.showNotes"/>
-				<string key="579.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="579.showNotes"/>
-				<string key="592.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="592.showNotes"/>
-				<string key="593.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="593.showNotes"/>
-				<string key="594.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="594.showNotes"/>
-				<string key="595.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="595.showNotes"/>
-				<string key="596.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="596.showNotes"/>
-				<string key="611.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="611.showNotes"/>
-				<string key="7Z7-ot-jqY.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="7Z7-ot-jqY.showNotes"/>
-				<string key="81.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="81.showNotes"/>
-				<string key="83.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="83.showNotes"/>
-				<string key="GS6-Lb-ftA.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="GS6-Lb-ftA.showNotes"/>
-				<string key="GU5-eI-OTq.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="GU5-eI-OTq.showNotes"/>
-				<string key="Heh-SD-KHE.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="Heh-SD-KHE.showNotes"/>
-				<string key="HhF-Es-coQ.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="HhF-Es-coQ.showNotes"/>
-				<string key="IqD-3v-zQT.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="IqD-3v-zQT.showNotes"/>
-				<string key="OzD-Nm-tPt.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="OzD-Nm-tPt.showNotes"/>
-				<string key="QB8-6D-hAr.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="QB8-6D-hAr.showNotes"/>
-				<string key="TOj-vg-cDm.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="TOj-vg-cDm.showNotes"/>
-				<string key="XG8-CE-veT.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="XG8-CE-veT.showNotes"/>
-				<string key="YN2-V8-ty0.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="YN2-V8-ty0.showNotes"/>
-				<string key="e98-We-UX5.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="e98-We-UX5.showNotes"/>
-				<string key="hfu-OP-8X3.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="hfu-OP-8X3.showNotes"/>
-				<string key="muN-Hw-eeZ.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="muN-Hw-eeZ.showNotes"/>
-				<string key="pqR-xy-5ip.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="pqR-xy-5ip.showNotes"/>
-				<string key="sH6-na-PTL.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="sH6-na-PTL.showNotes"/>
-				<string key="ysx-9J-ekz.IBPluginDependency">com.apple.InterfaceBuilder.CocoaPlugin</string>
-				<boolean value="NO" key="ysx-9J-ekz.showNotes"/>
-			</dictionary>
-			<dictionary class="NSMutableDictionary" key="unlocalizedProperties"/>
-			<nil key="activeLocalization"/>
-			<dictionary class="NSMutableDictionary" key="localizations"/>
-			<nil key="sourceID"/>
-		</object>
-		<object class="IBClassDescriber" key="IBDocument.Classes">
-			<array class="NSMutableArray" key="referencedPartialClassDescriptions">
-				<object class="IBPartialClassDescription">
-					<string key="className">AppController</string>
-					<string key="superclassName">NSObject</string>
-					<dictionary class="NSMutableDictionary" key="actions">
-						<string key="onFileClose:">id</string>
-						<string key="onRelaunch:">id</string>
-						<string key="onScreenLandscape:">id</string>
-						<string key="onScreenPortait:">id</string>
-						<string key="onScreenZoomOut:">id</string>
-					</dictionary>
-					<dictionary class="NSMutableDictionary" key="actionInfosByName">
-						<object class="IBActionInfo" key="onFileClose:">
-							<string key="name">onFileClose:</string>
-							<string key="candidateClassName">id</string>
-						</object>
-						<object class="IBActionInfo" key="onRelaunch:">
-							<string key="name">onRelaunch:</string>
-							<string key="candidateClassName">id</string>
-						</object>
-						<object class="IBActionInfo" key="onScreenLandscape:">
-							<string key="name">onScreenLandscape:</string>
-							<string key="candidateClassName">id</string>
-						</object>
-						<object class="IBActionInfo" key="onScreenPortait:">
-							<string key="name">onScreenPortait:</string>
-							<string key="candidateClassName">id</string>
-						</object>
-						<object class="IBActionInfo" key="onScreenZoomOut:">
-							<string key="name">onScreenZoomOut:</string>
-							<string key="candidateClassName">id</string>
-						</object>
-					</dictionary>
-					<object class="NSMutableDictionary" key="outlets">
-						<string key="NS.key.0">menu</string>
-						<string key="NS.object.0">NSMenu</string>
-					</object>
-					<object class="NSMutableDictionary" key="toOneOutletInfosByName">
-						<string key="NS.key.0">menu</string>
-						<object class="IBToOneOutletInfo" key="NS.object.0">
-							<string key="name">menu</string>
-							<string key="candidateClassName">NSMenu</string>
-						</object>
-					</object>
-					<object class="IBClassDescriptionSource" key="sourceIdentifier">
-						<string key="majorKey">IBProjectSource</string>
-						<string key="minorKey">./Classes/AppController.h</string>
-					</object>
-				</object>
-			</array>
-		</object>
-		<int key="IBDocument.localizationMode">0</int>
-		<string key="IBDocument.TargetRuntimeIdentifier">IBCocoaFramework</string>
-		<bool key="IBDocument.previouslyAttemptedUpgradeToXcode5">YES</bool>
-		<object class="NSMutableDictionary" key="IBDocument.PluginDeclaredDependencies">
-			<string key="NS.key.0">com.apple.InterfaceBuilder.CocoaPlugin.macosx</string>
-			<real value="1060" key="NS.object.0"/>
-		</object>
-		<object class="NSMutableDictionary" key="IBDocument.PluginDeclaredDependencyDefaults">
-			<string key="NS.key.0">com.apple.InterfaceBuilder.CocoaPlugin.macosx</string>
-			<real value="1070" key="NS.object.0"/>
-		</object>
-		<object class="NSMutableDictionary" key="IBDocument.PluginDeclaredDevelopmentDependencies">
-			<string key="NS.key.0">com.apple.InterfaceBuilder.CocoaPlugin.InterfaceBuilder3</string>
-			<integer value="4600" key="NS.object.0"/>
-		</object>
-		<bool key="IBDocument.PluginDeclaredDependenciesTrackSystemTargetVersion">YES</bool>
-		<int key="IBDocument.defaultPropertyAccessControl">3</int>
-		<dictionary class="NSMutableDictionary" key="IBDocument.LastKnownImageSizes">
-			<string key="NSMenuCheckmark">{11, 11}</string>
-			<string key="NSMenuMixedState">{10, 3}</string>
-		</dictionary>
-	</data>
-</archive>
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<document type="com.apple.InterfaceBuilder3.Cocoa.XIB" version="3.0" toolsVersion="4514" systemVersion="13B42" targetRuntime="MacOSX.Cocoa" propertyAccessControl="none">
+    <dependencies>
+        <deployment version="1060" defaultVersion="1090" identifier="macosx"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.CocoaPlugin" version="4514"/>
+    </dependencies>
+    <objects>
+        <customObject id="-2" userLabel="File's Owner" customClass="AppController">
+            <connections>
+                <outlet property="delegate" destination="536" id="537"/>
+                <outlet property="menu" destination="29" id="650"/>
+            </connections>
+        </customObject>
+        <customObject id="-1" userLabel="First Responder" customClass="FirstResponder"/>
+        <customObject id="-3" userLabel="Application"/>
+        <menu title="AMainMenu" systemMenu="main" id="29">
+            <items>
+                <menuItem title="Cocos-player" id="GS6-Lb-ftA">
+                    <menu key="submenu" title="Cocos-player" systemMenu="apple" id="YN2-V8-ty0">
+                        <items>
+                            <menuItem title="About Cocos-player" id="HhF-Es-coQ">
+                                <modifierMask key="keyEquivalentModifierMask"/>
+                                <connections>
+                                    <action selector="orderFrontStandardAboutPanel:" target="-1" id="tSA-7z-LPk"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem isSeparatorItem="YES" id="OzD-Nm-tPt">
+                                <modifierMask key="keyEquivalentModifierMask" command="YES"/>
+                            </menuItem>
+                            <menuItem title="Services" id="TOj-vg-cDm">
+                                <menu key="submenu" title="Services" systemMenu="services" id="e98-We-UX5"/>
+                            </menuItem>
+                            <menuItem isSeparatorItem="YES" id="muN-Hw-eeZ">
+                                <modifierMask key="keyEquivalentModifierMask" command="YES"/>
+                            </menuItem>
+                            <menuItem title="Hide Cocos-player" keyEquivalent="h" id="sH6-na-PTL">
+                                <connections>
+                                    <action selector="hide:" target="-3" id="SGN-0p-7lH"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem title="Hide Others" keyEquivalent="h" id="XG8-CE-veT">
+                                <modifierMask key="keyEquivalentModifierMask" option="YES" command="YES"/>
+                                <connections>
+                                    <action selector="hideOtherApplications:" target="-3" id="iJd-Ba-eXG"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem title="Show All" id="IqD-3v-zQT">
+                                <connections>
+                                    <action selector="unhideAllApplications:" target="-3" id="DR8-By-ymv"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem isSeparatorItem="YES" id="GU5-eI-OTq">
+                                <modifierMask key="keyEquivalentModifierMask" command="YES"/>
+                            </menuItem>
+                            <menuItem title="Quit Cocos-player" keyEquivalent="q" id="7Z7-ot-jqY">
+                                <connections>
+                                    <action selector="terminate:" target="-3" id="DyL-yF-GYq"/>
+                                </connections>
+                            </menuItem>
+                        </items>
+                    </menu>
+                </menuItem>
+                <menuItem title="File" id="83">
+                    <menu key="submenu" title="File" id="81">
+                        <items>
+                            <menuItem title="Close" keyEquivalent="w" id="611">
+                                <connections>
+                                    <action selector="onFileClose:" target="-1" id="661"/>
+                                </connections>
+                            </menuItem>
+                        </items>
+                    </menu>
+                </menuItem>
+                <menuItem title="View" id="295" userLabel="Menu Item - View">
+                    <menu key="submenu" title="View" id="296" userLabel="Menu - View">
+                        <items>
+                            <menuItem isSeparatorItem="YES" id="579"/>
+                            <menuItem title="Portait" state="on" id="592">
+                                <modifierMask key="keyEquivalentModifierMask"/>
+                                <connections>
+                                    <action selector="onScreenPortait:" target="-1" id="667"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem title="Landscape" id="593">
+                                <modifierMask key="keyEquivalentModifierMask"/>
+                                <connections>
+                                    <action selector="onScreenLandscape:" target="-1" id="647"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem isSeparatorItem="YES" id="594"/>
+                            <menuItem title="Actual (100%)" state="on" tag="100" keyEquivalent="0" id="595">
+                                <connections>
+                                    <action selector="onScreenZoomOut:" target="-1" id="yUj-fN-Rh7"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem title="Zoom Out (75%)" tag="75" keyEquivalent="6" id="pqR-xy-5ip">
+                                <connections>
+                                    <action selector="onScreenZoomOut:" target="-1" id="yps-LZ-egB"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem title="Zoom Out (50%)" tag="50" keyEquivalent="5" id="596">
+                                <connections>
+                                    <action selector="onScreenZoomOut:" target="-1" id="654"/>
+                                </connections>
+                            </menuItem>
+                            <menuItem title="Zoom Out (25%)" tag="25" keyEquivalent="4" id="QB8-6D-hAr">
+                                <connections>
+                                    <action selector="onScreenZoomOut:" target="-1" id="DSu-if-D2T"/>
+                                </connections>
+                            </menuItem>
+                        </items>
+                    </menu>
+                </menuItem>
+                <menuItem title="Control" id="Heh-SD-KHE">
+                    <modifierMask key="keyEquivalentModifierMask"/>
+                    <menu key="submenu" title="Control" id="ysx-9J-ekz">
+                        <items>
+                            <menuItem title="Reload" id="hfu-OP-8X3">
+                                <modifierMask key="keyEquivalentModifierMask"/>
+                                <connections>
+                                    <action selector="onReloadScript:" target="-1" id="ar6-Pq-fmZ"/>
+                                </connections>
+                            </menuItem>
+                        </items>
+                    </menu>
+                </menuItem>
+                <menuItem title="Help" id="490">
+                    <modifierMask key="keyEquivalentModifierMask"/>
+                    <menu key="submenu" title="Help" systemMenu="help" id="491"/>
+                </menuItem>
+            </items>
+        </menu>
+        <customObject id="420" customClass="NSFontManager"/>
+        <customObject id="536" customClass="AppController">
+            <connections>
+                <outlet property="menu" destination="29" id="550"/>
+            </connections>
+        </customObject>
+    </objects>
+</document>
\ No newline at end of file
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.h b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.h
index 5c73514..94bd604 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.h
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.h
@@ -26,8 +26,6 @@
 #include <string>
 #include "AppDelegate.h"
 
-void createSimulator(const char* viewName, float width, float height,bool isLandscape = true,float frameZoomFactor = 1.0f);
-
 @interface AppController : NSObject <NSApplicationDelegate, NSWindowDelegate>
 {
     NSWindow *window;
@@ -46,7 +44,7 @@ void createSimulator(const char* viewName, float width, float height,bool isLand
 - (IBAction) onScreenPortait:(id)sender;
 - (IBAction) onScreenLandscape:(id)sender;
 - (IBAction) onScreenZoomOut:(id)sender;
-- (IBAction) onRelaunch:(id)sender;
+- (IBAction) onReloadScript:(id)sender;
 
 
 @end
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.mm b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.mm
index de7b535..b6ecf0d 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.mm
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/SimulatorApp.mm
@@ -35,7 +35,6 @@
 #include "glfw3.h"
 #include "glfw3native.h"
 #include "Runtime.h"
-#include "ConfigParser.h"
 
 #include "cocos2d.h"
 
@@ -43,9 +42,7 @@ using namespace cocos2d;
 
 bool g_landscape=false;
 cocos2d::Size g_screenSize;
-GLView* g_eglView = nullptr;
-
-static AppController* g_nsAppDelegate=nullptr;
+GLView* g_eglView=NULL;
 
 using namespace std;
 using namespace cocos2d;
@@ -74,12 +71,10 @@ std::string getCurAppPath(void)
     if (args!=nullptr && [args count]>=2) {
         extern std::string g_resourcePath;
         g_resourcePath = [[args objectAtIndex:1]UTF8String];
-        if (g_resourcePath.at(0) != '/') {
-            g_resourcePath="";
-        }
     }
-    g_nsAppDelegate =self;
+
     AppDelegate app;
+    [self createSimulator:[NSString stringWithUTF8String:"HelloJavascript"] viewWidth:960 viewHeight:640 factor:1.0];
     Application::getInstance()->run();
     
     // After run, application needs to be terminated immediately.
@@ -119,30 +114,15 @@ std::string getCurAppPath(void)
     [window makeKeyAndOrderFront:self];
 }
 
-void createSimulator(const char* viewName, float width, float height,bool isLandscape,float frameZoomFactor)
-{
-    if(g_nsAppDelegate)
-    {
-        if((isLandscape && height > width) ||  (!isLandscape && width > height))
-        {
-            float tmpvalue =width;
-            width = height;
-            height = tmpvalue;
-        }
-        
-        [g_nsAppDelegate createSimulator:[NSString stringWithUTF8String:viewName] viewWidth:width viewHeight:height factor:frameZoomFactor];
-    }
-    
-}
 
 - (void) createViewMenu
 {
     
     NSMenu *submenu = [[[window menu] itemWithTitle:@"View"] submenu];
 
-    for (int i = ConfigParser::getInstance()->getScreenSizeCount() - 1; i >= 0; --i)
+    for (int i = SimulatorConfig::getInstance()->getScreenSizeCount() - 1; i >= 0; --i)
     {
-        SimulatorScreenSize size = ConfigParser::getInstance()->getScreenSize(i);
+        SimulatorScreenSize size = SimulatorConfig::getInstance()->getScreenSize(i);
         NSMenuItem *item = [[[NSMenuItem alloc] initWithTitle:[NSString stringWithCString:size.title.c_str() encoding:NSUTF8StringEncoding]
                                                        action:@selector(onViewChangeFrameSize:)
                                                 keyEquivalent:@""] autorelease];
@@ -169,7 +149,7 @@ void createSimulator(const char* viewName, float width, float height,bool isLand
         [itemLandscape setState:NSOffState];
     }
 
-    int scale = g_eglView->getFrameZoomFactor()*100;
+    int scale = 100;
 
     NSMenuItem *itemZoom100 = [menuScreen itemWithTitle:@"Actual (100%)"];
     NSMenuItem *itemZoom75 = [menuScreen itemWithTitle:@"Zoom Out (75%)"];
@@ -205,11 +185,11 @@ void createSimulator(const char* viewName, float width, float height,bool isLand
         height = w;
     }
     
-    int count = ConfigParser::getInstance()->getScreenSizeCount();
+    int count = SimulatorConfig::getInstance()->getScreenSizeCount();
     for (int i = 0; i < count; ++i)
     {
         bool bSel = false;
-        SimulatorScreenSize size = ConfigParser::getInstance()->getScreenSize(i);
+        SimulatorScreenSize size = SimulatorConfig::getInstance()->getScreenSize(i);
         if (size.width == width && size.height == height)
         {
             bSel = true;
@@ -274,35 +254,18 @@ void createSimulator(const char* viewName, float width, float height,bool isLand
     [self updateView];
 }
 
-- (void) launch:(NSArray*)args
+- (IBAction) onReloadScript:(id)sender
 {
-    NSURL *url = [NSURL fileURLWithPath:[[NSBundle mainBundle] bundlePath]];
-    NSMutableDictionary *configuration = [NSMutableDictionary dictionaryWithObject:args forKey:NSWorkspaceLaunchConfigurationArguments];
-    NSError *error = [[[NSError alloc] init] autorelease];
-    [[NSWorkspace sharedWorkspace] launchApplicationAtURL:url
-                                                  options:NSWorkspaceLaunchNewInstance
-                                            configuration:configuration error:&error];
-}
-
-- (void) relaunch:(NSArray*)args
-{
-    [self launch:args];
-    [[NSApplication sharedApplication] terminate:self];
-}
-
-- (IBAction) onRelaunch:(id)sender
-{
-    NSArray* args=[[NSArray alloc] initWithObjects:@" ", nil];
-    [self relaunch:args];
+    reloadScript("",true);
 }
 
 
 - (IBAction) onViewChangeFrameSize:(id)sender
 {
     NSInteger index = [sender tag];
-    if (index >= 0 && index < ConfigParser::getInstance()->getScreenSizeCount())
+    if (index >= 0 && index < SimulatorConfig::getInstance()->getScreenSizeCount())
     {
-        SimulatorScreenSize size = ConfigParser::getInstance()->getScreenSize(index);
+        SimulatorScreenSize size = SimulatorConfig::getInstance()->getScreenSize(index);
         g_screenSize.width = size.width;
         g_screenSize.height = size.height;
         [self updateView];
@@ -315,7 +278,6 @@ void createSimulator(const char* viewName, float width, float height,bool isLand
     if ([sender state] == NSOnState) return;
     float scale = (float)[sender tag] / 100.0f;
     g_eglView->setFrameZoomFactor(scale);
-    [self updateView];
 }
 
 
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/build-cfg.json b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/build-cfg.json
index 58ff86e..c897b4a 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/build-cfg.json
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.ios_mac/mac/build-cfg.json
@@ -3,7 +3,6 @@
         "src",
         "res",
         "main.js",
-        "project.json",
-        "config.json"
+        "project.json"
     ]
 }
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.sln b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.sln
index 4e61d96..03c06bb 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.sln
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.sln
@@ -59,12 +59,6 @@ Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "libGUI", "..\..\js-bindings
 EndProject
 Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "libNetwork", "..\..\js-bindings\cocos2d-x\cocos\network\proj.win32\libNetwork.vcxproj", "{DF2638C0-8128-4847-867C-6EAFE3DEE7B5}"
 EndProject
-Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "libSpine", "..\..\js-bindings\cocos2d-x\cocos\editor-support\spine\proj.win32\libSpine.vcxproj", "{B7C2A162-DEC9-4418-972E-240AB3CBFCAE}"
-EndProject
-Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "libJSBindingForSpine", "..\..\js-bindings\bindings\proj.win32\libJSBindingForSpine.vcxproj", "{E78CDC6B-F37D-48D2-AD91-1DB549497E32}"
-EndProject
-Project("{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}") = "libBox2D", "..\..\js-bindings\cocos2d-x\external\Box2D\proj.win32\Box2D.vcxproj", "{929480E7-23C0-4DF6-8456-096D71547116}"
-EndProject
 Global
 	GlobalSection(SolutionConfigurationPlatforms) = preSolution
 		Debug|Win32 = Debug|Win32
@@ -143,18 +137,6 @@ Global
 		{DF2638C0-8128-4847-867C-6EAFE3DEE7B5}.Debug|Win32.Build.0 = Debug|Win32
 		{DF2638C0-8128-4847-867C-6EAFE3DEE7B5}.Release|Win32.ActiveCfg = Release|Win32
 		{DF2638C0-8128-4847-867C-6EAFE3DEE7B5}.Release|Win32.Build.0 = Release|Win32
-		{B7C2A162-DEC9-4418-972E-240AB3CBFCAE}.Debug|Win32.ActiveCfg = Debug|Win32
-		{B7C2A162-DEC9-4418-972E-240AB3CBFCAE}.Debug|Win32.Build.0 = Debug|Win32
-		{B7C2A162-DEC9-4418-972E-240AB3CBFCAE}.Release|Win32.ActiveCfg = Release|Win32
-		{B7C2A162-DEC9-4418-972E-240AB3CBFCAE}.Release|Win32.Build.0 = Release|Win32
-		{E78CDC6B-F37D-48D2-AD91-1DB549497E32}.Debug|Win32.ActiveCfg = Debug|Win32
-		{E78CDC6B-F37D-48D2-AD91-1DB549497E32}.Debug|Win32.Build.0 = Debug|Win32
-		{E78CDC6B-F37D-48D2-AD91-1DB549497E32}.Release|Win32.ActiveCfg = Release|Win32
-		{E78CDC6B-F37D-48D2-AD91-1DB549497E32}.Release|Win32.Build.0 = Release|Win32
-		{929480E7-23C0-4DF6-8456-096D71547116}.Debug|Win32.ActiveCfg = Debug|Win32
-		{929480E7-23C0-4DF6-8456-096D71547116}.Debug|Win32.Build.0 = Debug|Win32
-		{929480E7-23C0-4DF6-8456-096D71547116}.Release|Win32.ActiveCfg = Release|Win32
-		{929480E7-23C0-4DF6-8456-096D71547116}.Release|Win32.Build.0 = Release|Win32
 	EndGlobalSection
 	GlobalSection(SolutionProperties) = preSolution
 		HideSolutionNode = FALSE
@@ -168,6 +150,5 @@ Global
 		{3BEC13F5-E227-4D80-BC77-1C857F83BCFC} = {7B36BD1A-1290-4948-87F0-53A41DFF3532}
 		{79D34511-E54E-410A-8BBA-EF175AD6C695} = {7B36BD1A-1290-4948-87F0-53A41DFF3532}
 		{39379840-825A-45A0-B363-C09FFEF864BD} = {7B36BD1A-1290-4948-87F0-53A41DFF3532}
-		{E78CDC6B-F37D-48D2-AD91-1DB549497E32} = {7B36BD1A-1290-4948-87F0-53A41DFF3532}
 	EndGlobalSection
 EndGlobal
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj
index b17dcbe..3af9b14 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj
@@ -79,7 +79,7 @@
     </Midl>
     <ClCompile>
       <Optimization>Disabled</Optimization>
-      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)external;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)external;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;_DEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_DEBUG=1;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;GLFW_EXPOSE_NATIVE_WIN32;GLFW_EXPOSE_NATIVE_WGL;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <MinimalRebuild>false</MinimalRebuild>
       <BasicRuntimeChecks>EnableFastChecks</BasicRuntimeChecks>
@@ -118,7 +118,6 @@ xcopy "$(ProjectDir)..\..\js-bindings\bindings\script" "$(OutDir)\Resource" /e /
 xcopy "$(ProjectDir)..\..\..\src" "$(OutDir)\Resource\src" /e /Y
 copy "$(ProjectDir)..\..\..\main.js" "$(OutDir)\Resource\main.js" /Y
 copy "$(ProjectDir)..\..\..\project.json" "$(OutDir)\Resource\project.json" /Y
-copy "$(ProjectDir)..\..\..\config.json" "$(OutDir)\Resource\config.json" /Y
 xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
     </PreBuildEvent>
     <PreBuildEvent>
@@ -139,7 +138,7 @@ xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
       <ProxyFileName>game_p.c</ProxyFileName>
     </Midl>
     <ClCompile>
-      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\base;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)external;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
+      <AdditionalIncludeDirectories>$(ProjectDir)..\Classes;$(EngineRoot);$(EngineRoot)cocos;$(EngineRoot)cocos\storage;$(EngineRoot)cocos\editor-support;$(EngineRoot)..\bindings\auto;$(EngineRoot)..\bindings\manual;$(EngineRoot)cocos\audio\include;$(EngineRoot)external;$(EngineRoot)..\external\spidermonkey\include\win32;$(EngineRoot)external\chipmunk\include\chipmunk;$(EngineRoot)extensions;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
       <PreprocessorDefinitions>WIN32;_WINDOWS;STRICT;NDEBUG;XP_WIN;JS_HAVE___INTN;JS_INTPTR_TYPE=int;COCOS2D_JAVASCRIPT=1;CC_ENABLE_CHIPMUNK_INTEGRATION=1;_CRT_SECURE_NO_WARNINGS;_SCL_SECURE_NO_WARNINGS;GLFW_EXPOSE_NATIVE_WIN32;GLFW_EXPOSE_NATIVE_WGL;%(PreprocessorDefinitions)</PreprocessorDefinitions>
       <ExceptionHandling>
       </ExceptionHandling>
@@ -179,24 +178,19 @@ xcopy "$(ProjectDir)..\..\js-bindings\bindings\script" "$(OutDir)\Resource" /e /
 xcopy "$(ProjectDir)..\..\..\src" "$(OutDir)\Resource\src" /e /Y
 copy "$(ProjectDir)..\..\..\main.js" "$(OutDir)\Resource\main.js" /Y
 copy "$(ProjectDir)..\..\..\project.json" "$(OutDir)\Resource\project.json" /Y
-copy "$(ProjectDir)..\..\..\config.json" "$(OutDir)\Resource\config.json" /Y
 xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
       <Message>Copy js and resource files.</Message>
     </PreBuildEvent>
   </ItemDefinitionGroup>
   <ItemGroup>
-    <ClCompile Include="..\Classes\ConfigParser.cpp" />
     <ClCompile Include="..\Classes\Runtime.cpp" />
-    <ClCompile Include="..\Classes\VisibleRect.cpp" />
     <ClCompile Include="main.cpp" />
     <ClCompile Include="..\Classes\AppDelegate.cpp" />
     <ClCompile Include="Runtime_win32.cpp" />
     <ClCompile Include="SimulatorWindow.cpp" />
   </ItemGroup>
   <ItemGroup>
-    <ClInclude Include="..\Classes\ConfigParser.h" />
     <ClInclude Include="..\Classes\Runtime.h" />
-    <ClInclude Include="..\Classes\VisibleRect.h" />
     <ClInclude Include="main.h" />
     <ClInclude Include="..\Classes\AppDelegate.h" />
     <ClInclude Include="resource.h" />
@@ -227,9 +221,6 @@ xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
     <ProjectReference Include="..\..\js-bindings\bindings\proj.win32\libJSBindingForNetwork.vcxproj">
       <Project>{3bec13f5-e227-4d80-bc77-1c857f83bcfc}</Project>
     </ProjectReference>
-    <ProjectReference Include="..\..\js-bindings\bindings\proj.win32\libJSBindingForSpine.vcxproj">
-      <Project>{e78cdc6b-f37d-48d2-ad91-1db549497e32}</Project>
-    </ProjectReference>
     <ProjectReference Include="..\..\js-bindings\bindings\proj.win32\libJSBindingForStudio.vcxproj">
       <Project>{79d34511-e54e-410a-8bba-ef175ad6c695}</Project>
     </ProjectReference>
@@ -245,9 +236,6 @@ xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
     <ProjectReference Include="..\..\js-bindings\cocos2d-x\cocos\editor-support\cocostudio\proj.win32\libCocosStudio.vcxproj">
       <Project>{b57cf53f-2e49-4031-9822-047cc0e6bde2}</Project>
     </ProjectReference>
-    <ProjectReference Include="..\..\js-bindings\cocos2d-x\cocos\editor-support\spine\proj.win32\libSpine.vcxproj">
-      <Project>{b7c2a162-dec9-4418-972e-240ab3cbfcae}</Project>
-    </ProjectReference>
     <ProjectReference Include="..\..\js-bindings\cocos2d-x\cocos\network\proj.win32\libNetwork.vcxproj">
       <Project>{df2638c0-8128-4847-867c-6eafe3dee7b5}</Project>
     </ProjectReference>
@@ -260,9 +248,6 @@ xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
     <ProjectReference Include="..\..\js-bindings\cocos2d-x\extensions\proj.win32\libExtensions.vcxproj">
       <Project>{21b2c324-891f-48ea-ad1a-5ae13de12e28}</Project>
     </ProjectReference>
-    <ProjectReference Include="..\..\js-bindings\cocos2d-x\external\Box2D\proj.win32\Box2D.vcxproj">
-      <Project>{929480e7-23c0-4df6-8456-096d71547116}</Project>
-    </ProjectReference>
     <ProjectReference Include="..\..\js-bindings\cocos2d-x\external\chipmunk\proj.win32\chipmunk.vcxproj">
       <Project>{207bc7a9-ccf1-4f2f-a04d-45f72242ae25}</Project>
     </ProjectReference>
@@ -273,4 +258,4 @@ xcopy "$(ProjectDir)..\..\..\res" "$(OutDir)\Resource\res" /e /Y</Command>
   <Import Project="$(VCTargetsPath)\Microsoft.Cpp.targets" />
   <ImportGroup Label="ExtensionTargets">
   </ImportGroup>
-</Project>
\ No newline at end of file
+</Project>
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj.filters b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj.filters
index 36a2728..a317341 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj.filters
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/HelloJavascript.vcxproj.filters
@@ -28,12 +28,6 @@
     <ClCompile Include="Runtime_win32.cpp">
       <Filter>win32</Filter>
     </ClCompile>
-    <ClCompile Include="..\Classes\ConfigParser.cpp">
-      <Filter>Classes</Filter>
-    </ClCompile>
-    <ClCompile Include="..\Classes\VisibleRect.cpp">
-      <Filter>Classes</Filter>
-    </ClCompile>
   </ItemGroup>
   <ItemGroup>
     <ClInclude Include="..\Classes\AppDelegate.h">
@@ -49,12 +43,6 @@
     <ClInclude Include="..\Classes\Runtime.h">
       <Filter>Classes</Filter>
     </ClInclude>
-    <ClInclude Include="..\Classes\ConfigParser.h">
-      <Filter>Classes</Filter>
-    </ClInclude>
-    <ClInclude Include="..\Classes\VisibleRect.h">
-      <Filter>Classes</Filter>
-    </ClInclude>
   </ItemGroup>
   <ItemGroup>
     <ResourceCompile Include="game.rc">
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/Runtime_win32.cpp b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/Runtime_win32.cpp
index dc9a801..d5e17bf 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/Runtime_win32.cpp
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/Runtime_win32.cpp
@@ -90,6 +90,26 @@ bool browseDir(const char *dir,const char *filespec,vector<string> &filterArray,
     return true;
 }
 
+string getProjSearchPath()
+{
+    extern std::string getCurAppPath(void);
+    string searchPath = getCurAppPath();
+    searchPath += "/../../..";
+    char fuldir[_MAX_PATH_]={0};
+    _fullpath(fuldir,searchPath.c_str(),_MAX_PATH_);
+    return fuldir;
+}
+
+vector<string> getSearchPath()
+{
+    extern std::string getCurAppPath(void);
+    vector<string> searchPathArray;
+    string searchPathRes = getCurAppPath();
+    searchPathRes += "/Resources";
+    searchPathArray.push_back(getProjSearchPath());
+    searchPathArray.push_back(searchPathRes);
+    return searchPathArray;
+}
 
 string getIPAddress()
 {
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.cpp b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.cpp
index 8abd405..4e2b3a0 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.cpp
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.cpp
@@ -28,7 +28,6 @@ THE SOFTWARE.
 #include "glfw3native.h"
 #include "resource.h"
 #include "Runtime.h"
-#include "ConfigParser.h"
 
 #include <string>
 #include <vector>
@@ -45,11 +44,12 @@ INT_PTR CALLBACK AboutDialogCallback(HWND hDlg, UINT message, WPARAM wParam, LPA
 
 void createViewMenu()
 {
-    HMENU hSysMenu = GetSystemMenu(glfwGetWin32Window(g_eglView->getWindow()), FALSE);
-    HMENU viewMenu = GetSubMenu(hSysMenu, 8);
-    for (int i = ConfigParser::getInstance()->getScreenSizeCount() - 1; i >= 0; --i)
+    HMENU menu = GetMenu(glfwGetWin32Window(g_eglView->getWindow()));
+    HMENU viewMenu = GetSubMenu(menu, 1);
+
+    for (int i = SimulatorConfig::getInstance()->getScreenSizeCount() - 1; i >= 0; --i)
     {
-        SimulatorScreenSize size = ConfigParser::getInstance()->getScreenSize(i);
+        SimulatorScreenSize size = SimulatorConfig::getInstance()->getScreenSize(i);
         wstring menuName;
         menuName.assign(size.title.begin(), size.title.end());
 
@@ -68,8 +68,8 @@ void createViewMenu()
 
 void updateMenu()
 {
-    HMENU hSysMenu = GetSystemMenu(glfwGetWin32Window(g_eglView->getWindow()), FALSE);
-    HMENU viewMenu = GetSubMenu(hSysMenu, 8);
+    HMENU menu = GetMenu(glfwGetWin32Window(g_eglView->getWindow()));
+    HMENU viewMenu = GetSubMenu(menu, 1);
 
     if (g_landscape)
     {
@@ -91,12 +91,12 @@ void updateMenu()
         height = w;
     }
 
-    int count = ConfigParser::getInstance()->getScreenSizeCount();
+    int count = SimulatorConfig::getInstance()->getScreenSizeCount();
     for (int i = 0; i < count; ++i)
     {
         bool bSel = false;
 
-        SimulatorScreenSize size = ConfigParser::getInstance()->getScreenSize(i);
+        SimulatorScreenSize size = SimulatorConfig::getInstance()->getScreenSize(i);
         if (size.width == width && size.height == height)
         {
             bSel = true;
@@ -190,9 +190,9 @@ void onViewZoomOut(int viewMenuID)
 void onViewChangeFrameSize(int viewMenuID)
 {
     int index = viewMenuID - ID_VIEW_SIZE;
-    if (index >= 0 && index < ConfigParser::getInstance()->getScreenSizeCount())
+    if (index >= 0 && index < SimulatorConfig::getInstance()->getScreenSizeCount())
     {
-        SimulatorScreenSize size = ConfigParser::getInstance()->getScreenSize(index);
+        SimulatorScreenSize size = SimulatorConfig::getInstance()->getScreenSize(index);
         g_screenSize.width = size.width;
         g_screenSize.height = size.height;
         updateView();	
@@ -210,34 +210,13 @@ void shutDownApp()
     ::SendMessage(hWnd,WM_CLOSE,NULL,NULL);
 }
 
-void reStart()
-{
-    PROCESS_INFORMATION info;
-    STARTUPINFO startup;
-    TCHAR szPath[128]={0};
-    TCHAR *szCmdLine=NULL;
-    GetModuleFileName(NULL, szPath, sizeof(szPath));
-    szCmdLine = GetCommandLine();
-    GetStartupInfo(&startup);
-    BOOL bSucc = CreateProcess(szPath, szCmdLine, NULL, NULL, FALSE, NORMAL_PRIORITY_CLASS, NULL, NULL, &startup, &info);
-    if(bSucc)
-    {
-        ExitProcess(-1);
-    }
-}
 /*@brief new windows process*/
 LRESULT CALLBACK SNewWndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)
 {
     int wmId, wmEvent;
     switch (message)
     {
-    case WM_KEYDOWN:
-        if (wParam == VK_F5)
-        {
-            reStart();
-             break;
-        }
-    case WM_SYSCOMMAND:
+    case WM_COMMAND:
         {
             wmId    = LOWORD(wParam);
             wmEvent = HIWORD(wParam);
@@ -261,19 +240,19 @@ LRESULT CALLBACK SNewWndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lPar
                 break;
 
             case ID_CONTROL_RELOAD:
-                reStart();
+                reloadScript("",true);
                 break;
 
             case ID_HELP_ABOUT:
                 onHelpAbout();
-                break;
+
             default:
-                if (wmId >= ID_VIEW_SIZE && wmId <= ID_VIEW_SIZE + ConfigParser::getInstance()->getScreenSizeCount() - 1)
+                if (wmId >= ID_VIEW_SIZE && wmId <= ID_VIEW_SIZE + SimulatorConfig::getInstance()->getScreenSizeCount() - 1)
                 {
                     onViewChangeFrameSize(wmId);
                     break;
                 }
-                //return 0;
+                return 0;
             }
         }
         break;
@@ -301,20 +280,13 @@ INT_PTR CALLBACK AboutDialogCallback(HWND hDlg, UINT message, WPARAM wParam, LPA
     return (INT_PTR)FALSE;
 }
 
-void createSimulator(const char* viewName, float width, float height, bool isLandscape, float frameZoomFactor)
+void createSimulator(const char* viewName, float width, float height, float frameZoomFactor)
 {
     if (g_eglView)
     {
         return;
     }
 
-    if((isLandscape && height > width) ||  (!isLandscape && width > height))
-    {
-        float tmpvalue =width;
-        width = height;
-        height = tmpvalue;
-    }
-    
     g_eglView = GLView::createWithRect(viewName,Rect(0,0,width,height),frameZoomFactor);
     auto director = Director::getInstance();
     director->setOpenGLView(g_eglView);
@@ -328,16 +300,7 @@ void createSimulator(const char* viewName, float width, float height, bool isLan
 
     HWND hWnd=glfwGetWin32Window(g_eglView->getWindow());
     HMENU hMenu = LoadMenu(GetModuleHandle(NULL), MAKEINTRESOURCE(IDR_MENU_COCOS));
-    HMENU hSysMenu = GetSystemMenu(hWnd, FALSE);
-    HMENU hviewMenu = GetSubMenu(hMenu,1);
-    HMENU hcontrolMenu = GetSubMenu(hMenu,2);
-    AppendMenu(hSysMenu,MF_SEPARATOR,0,NULL);
-    if (hSysMenu != INVALID_HANDLE_VALUE && hMenu != INVALID_HANDLE_VALUE)
-    {
-        AppendMenu(hSysMenu, MF_POPUP, (UINT)hviewMenu, TEXT("view"));
-        AppendMenu(hSysMenu, MF_POPUP, (UINT)hcontrolMenu, TEXT("control"));
-    }
-    //SetMenu(hWnd, hMenu);
+    SetMenu(hWnd, hMenu);
     createViewMenu();
     updateMenu();
 
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.h b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.h
index abb12ab..fb09f16 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.h
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/SimulatorWindow.h
@@ -28,6 +28,6 @@ THE SOFTWARE.
 /************************
 @brief create Simulator
 *********************************/
-void createSimulator(const char* viewName, float width, float height,bool isLandscape = true,float frameZoomFactor = 1.0f);
+void createSimulator(const char* viewName, float width, float height,float frameZoomFactor = 1.0f);
 
 #endif /* __PROJECT_CONFIG_H_ */
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/build-cfg.json b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/build-cfg.json
index 9329985..a56e800 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/build-cfg.json
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/build-cfg.json
@@ -15,10 +15,6 @@
         {
             "from": "../../../project.json",
             "to": ""
-        },
-        {
-            "from": "../../../config.json",
-            "to": ""
         }
     ],
     "must_copy_resources": [
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/game.rc b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/game.rc
index 556a26c..b9f2307 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/game.rc
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/game.rc
@@ -65,7 +65,7 @@ BEGIN
     END
     POPUP "&Control"
     BEGIN
-        MENUITEM "Restart(F5)",                 ID_CONTROL_RELOAD
+        MENUITEM "Reload",                      ID_CONTROL_RELOAD
     END
     POPUP "&Help"
     BEGIN
diff --git a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/main.cpp b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/main.cpp
index d6ec3ec..3bf90cd 100644
--- a/templates/js-template-runtime/frameworks/runtime-src/proj.win32/main.cpp
+++ b/templates/js-template-runtime/frameworks/runtime-src/proj.win32/main.cpp
@@ -1,6 +1,6 @@
 #include "main.h"
 #include "AppDelegate.h"
-#include "cocos2d.h"
+#include "SimulatorWindow.h"
 #include <shellapi.h>
 
 USING_NS_CC;
@@ -16,20 +16,20 @@ int APIENTRY _tWinMain(HINSTANCE hInstance,
     UNREFERENCED_PARAMETER(hPrevInstance);
     UNREFERENCED_PARAMETER(lpCmdLine);
 
-    LPWSTR *szArgList=nullptr;
-    int argCount=0;
+	LPWSTR *szArgList=nullptr;
+	int argCount=0;
 
-    szArgList = CommandLineToArgvW(GetCommandLine(),&argCount);
-    if (argCount >=2 )
-    {
-        int iLen = 2*wcslen(szArgList[1]);    
-        char* chRtn = new char[iLen+1];    
-        wcstombs(chRtn,szArgList[1],iLen+1);
-        extern std::string g_resourcePath;
-        g_resourcePath = chRtn;
-        delete [] chRtn;
-    }
-    LocalFree(szArgList);
+	szArgList = CommandLineToArgvW(GetCommandLine(),&argCount);
+	if (argCount >=2 )
+	{
+		int iLen = 2*wcslen(szArgList[1]);    
+		char* chRtn = new char[iLen+1];    
+		wcstombs(chRtn,szArgList[1],iLen+1);
+		extern std::string g_resourcePath;
+		g_resourcePath = chRtn;
+		delete [] chRtn;
+	}
+	LocalFree(szArgList);
 
 #ifdef USE_WIN32_CONSOLE
     AllocConsole();
@@ -40,7 +40,7 @@ int APIENTRY _tWinMain(HINSTANCE hInstance,
 
     // create the application instance
     AppDelegate app;
-
+	createSimulator("HelloJavascript",960,640);
     int ret = Application::getInstance()->run();
 
 #ifdef USE_WIN32_CONSOLE
@@ -52,24 +52,24 @@ int APIENTRY _tWinMain(HINSTANCE hInstance,
 
 std::string getCurAppPath(void)
 {
-    TCHAR szAppDir[MAX_PATH]={0};
-    if (!GetModuleFileName(NULL,szAppDir,MAX_PATH))
-        return "";
+	TCHAR szAppDir[MAX_PATH]={0};
+	if (!GetModuleFileName(NULL,szAppDir,MAX_PATH))
+		return "";
 
-    int nEnd=0;
-    for (int i=0;szAppDir[i];i++)
-    {
-        if(szAppDir[i]=='\\')
-            nEnd = i;
-    }
-    szAppDir[nEnd] = 0;
-    int iLen = 2*wcslen(szAppDir);    
-    char* chRtn = new char[iLen+1];    
-    wcstombs(chRtn,szAppDir,iLen+1);
-    std::string strPath = chRtn;
-    delete [] chRtn;
-    chRtn=NULL;
-    char fuldir[MAX_PATH]={0};
-    _fullpath(fuldir,strPath.c_str(),MAX_PATH);
-    return fuldir;    
+	int nEnd=0;
+	for (int i=0;szAppDir[i];i++)
+	{
+		if(szAppDir[i]=='\\')
+			nEnd = i;
+	}
+	szAppDir[nEnd] = 0;
+	int iLen = 2*wcslen(szAppDir);    
+	char* chRtn = new char[iLen+1];    
+	wcstombs(chRtn,szAppDir,iLen+1);
+	std::string strPath = chRtn;
+	delete [] chRtn;
+	chRtn=NULL;
+	char fuldir[MAX_PATH]={0};
+	_fullpath(fuldir,strPath.c_str(),MAX_PATH);
+	return fuldir;    
 }
\ No newline at end of file
diff --git a/templates/js-template-runtime/main.js b/templates/js-template-runtime/main.js
index c1495a2..8569b66 100644
--- a/templates/js-template-runtime/main.js
+++ b/templates/js-template-runtime/main.js
@@ -1,5 +1,5 @@
 cc.game.onStart = function(){
-    cc.view.setDesignResolutionSize(800, 450, cc.ResolutionPolicy.EXACT_FIT);
+    cc.view.setDesignResolutionSize(800, 450, cc.ResolutionPolicy.SHOW_ALL);
 	cc.view.resizeWithBrowserSize(true);
     //load resources
     cc.LoaderScene.preload(g_resources, function () {
diff --git a/tools/tojs/cocos2dx.ini b/tools/tojs/cocos2dx.ini
index 90a43fb..0c59c4c 100644
--- a/tools/tojs/cocos2dx.ini
+++ b/tools/tojs/cocos2dx.ini
@@ -13,8 +13,8 @@ android_flags = -D_SIZE_T_DEFINED_
 clang_headers = -I%(clangllvmdir)s/lib/clang/3.3/include
 clang_flags = -nostdinc -x c++ -std=c++11
 
-cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/platform/android
-cocos_flags = -DANDROID
+cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/2d -I%(cocosdir)s/cocos/base -I%(cocosdir)s/cocos/physics -I%(cocosdir)s/cocos/2d/platform -I%(cocosdir)s/cocos/2d/platform/android -I%(cocosdir)s/cocos/math/kazmath
+cocos_flags = -DANDROID -DCOCOS2D_JAVASCRIPT
 
 cxxgenerator_headers =
 
@@ -27,7 +27,7 @@ headers = %(cocosdir)s/cocos/cocos2d.h %(cocosdir)s/cocos/audio/include/SimpleAu
 # what classes to produce code for. You can use regular expressions here. When testing the regular
 # expression, it will be enclosed in "^$", like this: "^Menu*$".
 
-classes = New.* Sprite.* Scene Node.* Director Layer.* Menu.* Touch .*Action.* Move.* Rotate.* Blink.* Tint.* Sequence Repeat.* Fade.* Ease.* Scale.* Transition.* Spawn Animat.* Flip.* Delay.* Skew.* Jump.* Place.* Show.* Progress.* PointArray ToggleVisibility.* RemoveSelf Hide Particle.* Label.* Atlas.* TextureCache.* Texture2D Cardinal.* CatmullRom.* ParallaxNode TileMap.* TMX.* CallFunc RenderTexture GridAction Grid3DAction GridBase$ .+Grid Shaky3D Waves3D FlipX3D FlipY3D Speed ActionManager Set SimpleAudioEngine Scheduler Orbit.* Follow.* Bezier.* CardinalSpline.* Camera.* DrawNode .*3D$ Liquid$ Waves$ ShuffleTiles$ TurnOffTiles$ Split.* Twirl$ FileUtils$ GLProgram GLProgramCache Application ClippingNode MotionStreak TextFieldTTF GLViewProtocol GLView Component ComponentContainer __NodeRGBA __LayerRGBA SAXParser Event(?!.*(Physics).*).* Device Configuration ProtectedNode UserDefault
+classes = New.* Sprite.* Scene Node.* Director Layer.* Menu.* Touch .*Action.* Move.* Rotate.* Blink.* Tint.* Sequence Repeat.* Fade.* Ease.* Scale.* Transition.* Spawn Animat.* Flip.* Delay.* Skew.* Jump.* Place.* Show.* Progress.* PointArray ToggleVisibility.* RemoveSelf Hide Particle.* Label.* Atlas.* TextureCache.* Texture2D Cardinal.* CatmullRom.* ParallaxNode TileMap.* TMX.* CallFunc RenderTexture GridAction Grid3DAction GridBase$ .+Grid Shaky3D Waves3D FlipX3D FlipY3D Speed ActionManager Set SimpleAudioEngine Scheduler Orbit.* Follow.* Bezier.* CardinalSpline.* Camera.* DrawNode .*3D$ Liquid$ Waves$ ShuffleTiles$ TurnOffTiles$ Split.* Twirl$ FileUtils$ GLProgram ShaderCache Application ClippingNode MotionStreak TextFieldTTF GLViewProtocol GLView Component ComponentContainer __NodeRGBA __LayerRGBA SAXParser Event(?!.*(Physics).*).* Device Configuration ProtectedNode UserDefault
 
 classes_need_extend = Node Layer.* Sprite SpriteBatchNode SpriteFrame Menu MenuItem.* Scene DrawNode Component .*Action.* GridBase Grid3D TiledGrid3D MotionStreak ParticleBatchNode ParticleSystem TextFieldTTF RenderTexture TileMapAtlas TMXLayer TMXTiledMap TMXMapInfo TransitionScene
 
@@ -86,6 +86,7 @@ skip = Node::[^setPosition$ setGLServerState description getUserObject .*UserDat
         Image::[initWithString initWithImageData],
         Sequence::[create],
         Spawn::[create],
+        Animation::[create],
         GLProgram::[getProgram setUniformLocationWith2f.* setUniformLocationWith1f.* setUniformLocationWith3f.* setUniformLocationWith4f.*],
         Grid3DAction::[create actionWith.* vertex originalVertex (g|s)etVertex getOriginalVertex],
         Grid3D::[vertex originalVertex (g|s)etVertex getOriginalVertex],
@@ -102,7 +103,7 @@ skip = Node::[^setPosition$ setGLServerState description getUserObject .*UserDat
         TextureCache::[addPVRTCImage],
         *::[copyWith.* onEnter.* onExit.* ^description$ getObjectType onTouch.* onAcc.* onKey.* onRegisterTouchListener],
         FileUtils::[.*SearchResolutionsOrder$ (g|s)etSearchPaths getFileData getDataFromFile setFilenameLookupDictionary setPopupNotify destroyInstance getFullPathCache],
-        Application::[^application.* ^run$ getCurrentLanguageCode getTargetPlatform setAnimationInterval],
+        Application::[^application.* ^run$],
         Camera::[getEyeXYZ getCenterXYZ getUpXYZ],
         ccFontDefinition::[*],
         NewTextureAtlas::[*],
@@ -121,7 +122,6 @@ skip = Node::[^setPosition$ setGLServerState description getUserObject .*UserDat
 rename_functions = SpriteFrameCache::[addSpriteFramesWithFile=addSpriteFrames getSpriteFrameByName=getSpriteFrame],
     MenuItemFont::[setFontNameObj=setFontName setFontSizeObj=setFontSize getFontSizeObj=getFontSize getFontNameObj=getFontName],
     ProgressTimer::[setReverseProgress=setReverseDirection],
-    Animation::[create=createWithAnimationFrames],
     AnimationCache::[addAnimationsWithFile=addAnimations],
     GLProgram::[initWithByteArrays=initWithString initWithFilenames=init setUniformLocationWith1i=setUniformLocationI32 bindAttribLocation=addAttribute],
     Node::[getPositionZ=getVertexZ setPositionZ=setVertexZ removeFromParentAndCleanup=removeFromParent removeAllChildrenWithCleanup=removeAllChildren],
@@ -136,15 +136,13 @@ rename_functions = SpriteFrameCache::[addSpriteFramesWithFile=addSpriteFrames ge
     Configuration::[getInfo=dumpInfo],
     ComponentContainer::[get=getComponent],
     LayerColor::[initWithColor=init],
-    EventMouse::[getCursorX=getLocationX getCursorY=getLocationY setCursorPosition=setLocation],
-    GLProgramCache::[getGLProgram=getProgram addGLProgram=addProgram reloadDefaultGLPrograms=reloadDefaultShaders loadDefaultGLPrograms=loadDefaultShaders]
+    EventMouse::[getCursorX=getLocationX getCursorY=getLocationY setCursorPosition=setLocation]
 
 rename_classes = ParticleSystemQuad::ParticleSystem,
            SimpleAudioEngine::AudioEngine,
            __NodeRGBA::NodeRGBA,
            __LayerRGBA::LayerRGBA,
-           SAXParser::PlistParser,
-           GLProgramCache::ShaderCache
+           SAXParser::PlistParser
 
 # for all class names, should we remove something when registering in the target VM?
 remove_prefix =
diff --git a/tools/tojs/cocos2dx_builder.ini b/tools/tojs/cocos2dx_builder.ini
index fcba67a..9fa04a4 100644
--- a/tools/tojs/cocos2dx_builder.ini
+++ b/tools/tojs/cocos2dx_builder.ini
@@ -13,9 +13,9 @@ android_flags = -D_SIZE_T_DEFINED_
 clang_headers = -I%(clangllvmdir)s/lib/clang/3.3/include 
 clang_flags = -nostdinc -x c++ -std=c++11
 
-cocos_headers = -I%(cocosdir)s -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s/cocos/platform/android
+cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/2d -I%(cocosdir)s/cocos/base -I%(cocosdir)s/cocos/ui -I%(cocosdir)s/cocos/physics -I%(cocosdir)s/cocos/2d/platform -I%(cocosdir)s/cocos/2d/platform/android -I%(cocosdir)s/cocos/math/kazmath -I%(cocosdir)s/extensions -I%(cocosdir)s/external -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s
 
-cocos_flags = -DANDROID
+cocos_flags = -DANDROID -DCOCOS2D_JAVASCRIPT
 
 cxxgenerator_headers = 
 
diff --git a/tools/tojs/cocos2dx_extension.ini b/tools/tojs/cocos2dx_extension.ini
index ae13041..6c882d1 100644
--- a/tools/tojs/cocos2dx_extension.ini
+++ b/tools/tojs/cocos2dx_extension.ini
@@ -13,9 +13,9 @@ android_flags = -D_SIZE_T_DEFINED_
 clang_headers = -I%(clangllvmdir)s/lib/clang/3.3/include 
 clang_flags = -nostdinc -x c++ -std=c++11
 
-cocos_headers = -I%(cocosdir)s -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/platform/android -I%(cocosdir)s/external
+cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/2d -I%(cocosdir)s/cocos/base -I%(cocosdir)s/cocos/ui -I%(cocosdir)s/cocos/physics -I%(cocosdir)s/cocos/2d/platform -I%(cocosdir)s/cocos/2d/platform/android -I%(cocosdir)s/cocos/math/kazmath -I%(cocosdir)s/extensions -I%(cocosdir)s/external -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s
 
-cocos_flags = -DANDROID
+cocos_flags = -DANDROID -DCOCOS2D_JAVASCRIPT
 
 cxxgenerator_headers = 
 
@@ -27,7 +27,7 @@ headers = %(cocosdir)s/extensions/cocos-ext.h
 
 # what classes to produce code for. You can use regular expressions here. When testing the regular
 # expression, it will be enclosed in "^$", like this: "^Menu*$".
-classes = Scale9Sprite Control.* ControlButton.* ScrollView$ TableView$ TableViewCell$ EditBox$
+classes = AssetsManager.* Scale9Sprite Control.* ControlButton.* ScrollView$ TableView$ TableViewCell$ EditBox$
 
 # what should we skip? in the format ClassName::[function function]
 # ClassName is a regular expression, but will be used like this: "^ClassName$" functions are also
@@ -42,6 +42,8 @@ skip = ScrollView::[(g|s)etDelegate$],
         *::[^visit$ copyWith.* onEnter.* onExit.* ^description$ getObjectType .*HSV onTouch.* onAcc.* onKey.* onRegisterTouchListener],
         EditBox::[(g|s)etDelegate ^keyboard.* touchDownAction getScriptEditBoxHandler registerScriptEditBoxHandler unregisterScriptEditBoxHandler],
         TableView::[create (g|s)etDataSource$ (g|s)etDelegate],
+        AssetsManager::[(g|s)etDelegate],
+        AssetsManagerDelegateProtocol::[*],
         Control::[removeHandleOfControlEvent addHandleOfControlEvent],
         ControlUtils::[*],
         ControlSwitchSprite::[*],
@@ -64,7 +66,7 @@ base_classes_to_skip = Ref
 
 # classes that create no constructor
 # Set is special and we will use a hand-written constructor
-abstract_classes = 
+abstract_classes = AssetsManager
 
 # Determining whether to use script object(js object) to control the lifecycle of native(cpp) object or the other way around. Supported values are 'yes' or 'no'.
 script_control_cpp = no
diff --git a/tools/tojs/cocos2dx_spine.ini b/tools/tojs/cocos2dx_spine.ini
index f6551e2..5b5ebb2 100644
--- a/tools/tojs/cocos2dx_spine.ini
+++ b/tools/tojs/cocos2dx_spine.ini
@@ -9,9 +9,9 @@ android_flags = -D_SIZE_T_DEFINED_
 clang_headers = -I%(clangllvmdir)s/lib/clang/3.3/include 
 clang_flags = -nostdinc -x c++ -std=c++11
 
-cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s/cocos/platform/android
+cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/2d -I%(cocosdir)s/cocos/base -I%(cocosdir)s/cocos/ui -I%(cocosdir)s/cocos/physics -I%(cocosdir)s/cocos/2d/platform -I%(cocosdir)s/cocos/2d/platform/android -I%(cocosdir)s/cocos/math/kazmath -I%(cocosdir)s/extensions -I%(cocosdir)s/external -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s
 
-cocos_flags = -DANDROID
+cocos_flags = -DANDROID -DCOCOS2D_JAVASCRIPT
 
 cxxgenerator_headers = 
 
diff --git a/tools/tojs/cocos2dx_studio.ini b/tools/tojs/cocos2dx_studio.ini
index 21c6c18..f4ed3c5 100644
--- a/tools/tojs/cocos2dx_studio.ini
+++ b/tools/tojs/cocos2dx_studio.ini
@@ -13,9 +13,9 @@ android_flags = -D_SIZE_T_DEFINED_
 clang_headers = -I%(clangllvmdir)s/lib/clang/3.3/include 
 clang_flags = -nostdinc -x c++ -std=c++11
 
-cocos_headers = -I%(cocosdir)s/external -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s/cocos/platform/android
+cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/2d -I%(cocosdir)s/cocos/base -I%(cocosdir)s/cocos/ui -I%(cocosdir)s/cocos/physics -I%(cocosdir)s/cocos/2d/platform -I%(cocosdir)s/cocos/2d/platform/android -I%(cocosdir)s/cocos/math/kazmath -I%(cocosdir)s/extensions -I%(cocosdir)s/external -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s
 
-cocos_flags = -DANDROID
+cocos_flags = -DANDROID -DCOCOS2D_JAVASCRIPT
 
 cxxgenerator_headers = 
 
diff --git a/tools/tojs/cocos2dx_ui.ini b/tools/tojs/cocos2dx_ui.ini
index b43fb5c..2c12d05 100644
--- a/tools/tojs/cocos2dx_ui.ini
+++ b/tools/tojs/cocos2dx_ui.ini
@@ -16,9 +16,9 @@ android_flags = -D_SIZE_T_DEFINED_
 clang_headers = -I%(clangllvmdir)s/lib/clang/3.3/include 
 clang_flags = -nostdinc -x c++ -std=c++11
 
-cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s/cocos/platform/android
+cocos_headers = -I%(cocosdir)s/cocos -I%(cocosdir)s/cocos/2d -I%(cocosdir)s/cocos/base -I%(cocosdir)s/cocos/ui -I%(cocosdir)s/cocos/physics -I%(cocosdir)s/cocos/2d/platform -I%(cocosdir)s/cocos/2d/platform/android -I%(cocosdir)s/cocos/math/kazmath -I%(cocosdir)s/extensions -I%(cocosdir)s/external -I%(cocosdir)s/cocos/editor-support -I%(cocosdir)s
 
-cocos_flags = -DANDROID
+cocos_flags = -DANDROID -DCOCOS2D_JAVASCRIPT
 
 cxxgenerator_headers = 
 
@@ -30,9 +30,9 @@ headers = %(cocosdir)s/cocos/ui/CocosGUI.h
 
 # what classes to produce code for. You can use regular expressions here. When testing the regular
 # expression, it will be enclosed in "^$", like this: "^Menu*$".
-classes = Helper Layout Widget Button CheckBox ImageView Text TextAtlas TextBMFont RichText RichElement RichElementText RichElementImage RichElementCustomNode LoadingBar Slider TextField ScrollView PageView ListView LayoutParameter LinearLayoutParameter RelativeLayoutParameter
+classes = Helper Layout Widget Layer Button CheckBox ImageView Text TextAtlas TextBMFont RichText RichElement RichElementText RichElementImage RichElementCustomNode LoadingBar Slider Switch TextField ScrollView PageView ListView LayoutParameter LinearLayoutParameter RelativeLayoutParameter
 
-classes_need_extend = Layout Widget Button CheckBox ImageView Text TextAtlas TextBMFont RichText RichElement RichElementText RichElementImage RichElementCustomNode LoadingBar Slider TextField ScrollView PageView ListView
+classes_need_extend = Layout Widget Layer Button CheckBox ImageView Text TextAtlas TextBMFont RichText RichElement RichElementText RichElementImage RichElementCustomNode LoadingBar Slider Switch TextField ScrollView PageView ListView
 
 # what should we skip? in the format ClassName::[function function]
 # ClassName is a regular expression, but will be used like this: "^ClassName$" functions are also
@@ -41,16 +41,14 @@ classes_need_extend = Layout Widget Button CheckBox ImageView Text TextAtlas Tex
 # will apply to all class names. This is a convenience wildcard to be able to skip similar named
 # functions from all classes.
 
-skip = *::[^visit$ copyWith.* onEnter.* onExit.* ^description$ getObjectType .*HSV onTouch.* onAcc.* onKey.* onRegisterTouchListener ccTouch.* addEventListener addTouchEventListener],
+skip = *::[^visit$ copyWith.* onEnter.* onExit.* ^description$ getObjectType .*HSV onTouch.* onAcc.* onKey.* onRegisterTouchListener ccTouch.*],
         Widget::[(s|g)etUserObject],
         Layer::[getInputManager],
         LayoutParameter::[(s|g)etMargin],
         ImageView::[doubleClickEvent checkDoubleClick],
         RichText::[getVirtualRendererSize]
 
-rename_functions = Widget::[init=_init],
-                    ImageView::[init=_init],
-                    Text::[setString=setText getString=getStringValue]
+rename_functions = 
 
 rename_classes =
 
diff --git a/tools/travis-scripts/before-install.sh b/tools/travis-scripts/before-install.sh
index b830803..473222c 100755
--- a/tools/travis-scripts/before-install.sh
+++ b/tools/travis-scripts/before-install.sh
@@ -4,12 +4,10 @@
 set -e
 
 DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
-COCOS2DJS_ROOT="$DIR"/../..
-COCOS2DX_ROOT="$DIR"/../../frameworks/js-bindings/cocos2d-x
+COCOS2DX_ROOT="$DIR"/../..
 HOST_NAME=""
 
 pushd $COCOS2DX_ROOT
-python download-deps.py -r=yes
 git submodule update --init --recursive
 popd
 
@@ -63,7 +61,7 @@ elif [ "$PLATFORM"x = "linux"x ]; then
     sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.6 60 --slave /usr/bin/g++ g++ /usr/bin/g++-4.6
     sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.7 90 --slave /usr/bin/g++ g++ /usr/bin/g++-4.7
     g++ --version
-    bash $COCOS2DJS_ROOT/build/install-deps-linux.sh
+    bash $COCOS2DX_ROOT/build/install-deps-linux.sh
     install_android_ndk
 elif [ "$PLATFORM"x = "nacl"x ]; then
     install_nacl_sdk
